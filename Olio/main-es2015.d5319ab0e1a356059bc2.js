(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),a=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var u=this.getOrInitializeService({instanceIdentifier:c});a.resolve(u)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(r.e)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var c=Object(r.g)(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=Object(r.e)(u.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=Object(r.g)(o),a=s.next();!a.done;a=s.next()){var c=a.value;try{c(t,e)}catch(u){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));let r=1;const i=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"8Y7J":function(t,e,n){"use strict";n.d(e,"a",(function(){return No})),n.d(e,"b",(function(){return Mu})),n.d(e,"c",(function(){return Tu})),n.d(e,"d",(function(){return Su})),n.d(e,"e",(function(){return Eu})),n.d(e,"f",(function(){return Ol})),n.d(e,"g",(function(){return dl})),n.d(e,"h",(function(){return yo})),n.d(e,"i",(function(){return zu})),n.d(e,"j",(function(){return cc})),n.d(e,"k",(function(){return Nu})),n.d(e,"l",(function(){return uc})),n.d(e,"m",(function(){return An})),n.d(e,"n",(function(){return tu})),n.d(e,"o",(function(){return G})),n.d(e,"p",(function(){return l})),n.d(e,"q",(function(){return K})),n.d(e,"r",(function(){return Ro})),n.d(e,"s",(function(){return kc})),n.d(e,"t",(function(){return Ic})),n.d(e,"u",(function(){return Ru})),n.d(e,"v",(function(){return ct})),n.d(e,"w",(function(){return pl})),n.d(e,"x",(function(){return at})),n.d(e,"y",(function(){return al})),n.d(e,"z",(function(){return Ku})),n.d(e,"A",(function(){return h})),n.d(e,"B",(function(){return Au})),n.d(e,"C",(function(){return Pu})),n.d(e,"D",(function(){return nu})),n.d(e,"E",(function(){return fc})),n.d(e,"F",(function(){return hc})),n.d(e,"G",(function(){return dc})),n.d(e,"H",(function(){return mc})),n.d(e,"I",(function(){return wr})),n.d(e,"J",(function(){return f})),n.d(e,"K",(function(){return yl})),n.d(e,"L",(function(){return jc})),n.d(e,"M",(function(){return tl})),n.d(e,"N",(function(){return vo})),n.d(e,"O",(function(){return yc})),n.d(e,"P",(function(){return gc})),n.d(e,"Q",(function(){return Nc})),n.d(e,"R",(function(){return vt})),n.d(e,"S",(function(){return cl})),n.d(e,"T",(function(){return b})),n.d(e,"U",(function(){return Qn})),n.d(e,"V",(function(){return A})),n.d(e,"W",(function(){return rt})),n.d(e,"X",(function(){return Wn})),n.d(e,"Y",(function(){return _l})),n.d(e,"Z",(function(){return rl})),n.d(e,"ab",(function(){return ju})),n.d(e,"bb",(function(){return _o})),n.d(e,"cb",(function(){return la})),n.d(e,"db",(function(){return vr})),n.d(e,"eb",(function(){return er})),n.d(e,"fb",(function(){return Un})),n.d(e,"gb",(function(){return Vn})),n.d(e,"hb",(function(){return $n})),n.d(e,"ib",(function(){return zn})),n.d(e,"jb",(function(){return qn})),n.d(e,"kb",(function(){return Hn})),n.d(e,"lb",(function(){return sa})),n.d(e,"mb",(function(){return vl})),n.d(e,"nb",(function(){return aa})),n.d(e,"ob",(function(){return ca})),n.d(e,"pb",(function(){return Bn})),n.d(e,"qb",(function(){return F})),n.d(e,"rb",(function(){return Ko})),n.d(e,"sb",(function(){return fs})),n.d(e,"tb",(function(){return ds})),n.d(e,"ub",(function(){return oa})),n.d(e,"vb",(function(){return te})),n.d(e,"wb",(function(){return k})),n.d(e,"xb",(function(){return Fn})),n.d(e,"yb",(function(){return Fo})),n.d(e,"zb",(function(){return Wt})),n.d(e,"Ab",(function(){return oc})),n.d(e,"Bb",(function(){return Br})),n.d(e,"Cb",(function(){return Xo})),n.d(e,"Db",(function(){return Ds})),n.d(e,"Eb",(function(){return Zs})),n.d(e,"Fb",(function(){return Js})),n.d(e,"Gb",(function(){return Ns})),n.d(e,"Hb",(function(){return gu})),n.d(e,"Ib",(function(){return Ct})),n.d(e,"Jb",(function(){return Pt})),n.d(e,"Kb",(function(){return y})),n.d(e,"Lb",(function(){return v})),n.d(e,"Mb",(function(){return Tt})),n.d(e,"Nb",(function(){return At})),n.d(e,"Ob",(function(){return es})),n.d(e,"Pb",(function(){return as})),n.d(e,"Qb",(function(){return ls})),n.d(e,"Rb",(function(){return us})),n.d(e,"Sb",(function(){return cs})),n.d(e,"Tb",(function(){return ss})),n.d(e,"Ub",(function(){return os})),n.d(e,"Vb",(function(){return hs})),n.d(e,"Wb",(function(){return Tn})),n.d(e,"Xb",(function(){return ta})),n.d(e,"Yb",(function(){return Wa})),n.d(e,"Zb",(function(){return Xa})),n.d(e,"ac",(function(){return Qa})),n.d(e,"bc",(function(){return Ya})),n.d(e,"cc",(function(){return nt})),n.d(e,"dc",(function(){return ns})),n.d(e,"ec",(function(){return xu})),n.d(e,"fc",(function(){return ps})),n.d(e,"gc",(function(){return vu})),n.d(e,"hc",(function(){return Ge})),n.d(e,"ic",(function(){return Ke})),n.d(e,"jc",(function(){return vs})),n.d(e,"kc",(function(){return Zc})),n.d(e,"lc",(function(){return Jc})),n.d(e,"mc",(function(){return xs})),n.d(e,"nc",(function(){return ws})),n.d(e,"oc",(function(){return rs})),n.d(e,"pc",(function(){return Ss})),n.d(e,"qc",(function(){return Es})),n.d(e,"rc",(function(){return Kc})),n.d(e,"sc",(function(){return Gc})),n.d(e,"tc",(function(){return Wc})),n.d(e,"uc",(function(){return Qc})),n.d(e,"vc",(function(){return du})),n.d(e,"wc",(function(){return ts})),n.d(e,"xc",(function(){return _e})),n.d(e,"yc",(function(){return Or})),n.d(e,"zc",(function(){return kt})),n.d(e,"Ac",(function(){return yu})),n.d(e,"Bc",(function(){return fu})),n.d(e,"Cc",(function(){return Rs})),n.d(e,"Dc",(function(){return ms})),n.d(e,"Ec",(function(){return ea})),n.d(e,"Fc",(function(){return Jo})),n.d(e,"Gc",(function(){return Cu})),n.d(e,"Hc",(function(){return Ws})),n.d(e,"Ic",(function(){return Qs})),n.d(e,"Jc",(function(){return Ys})),n.d(e,"Kc",(function(){return Xs})),n.d(e,"Lc",(function(){return pu}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function c(t){return{toString:t}.toString()}function u(t,e,n){return c(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const l=u("Inject",t=>({token:t})),h=u("Optional"),d=u("Self"),f=u("SkipSelf");var p=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function m(t){for(let e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function g(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const b=y;function v(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function _(t){return w(t,t[C])||w(t,t[E])}function w(t,e){return e&&e.token===t?e:null}function O(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(T))?t[x]:null}const C=m({\u0275prov:m}),x=m({\u0275inj:m}),S=m({\u0275provFallback:m}),E=m({ngInjectableDef:m}),T=m({ngInjectorDef:m});function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function I(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const P=m({__forward_ref__:m});function A(t){return t.__forward_ref__=A,t.toString=function(){return k(this())},t}function M(t){return j(t)?t():t}function j(t){return"function"==typeof t&&t.hasOwnProperty(P)&&t.__forward_ref__===A}const R="undefined"!=typeof globalThis&&globalThis,N="undefined"!=typeof window&&window,D="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,L="undefined"!=typeof global&&global,F=R||L||N||D,U=m({\u0275cmp:m}),B=m({\u0275dir:m}),V=m({\u0275pipe:m}),q=m({\u0275mod:m}),z=m({\u0275loc:m}),H=m({\u0275fac:m}),$=m({__NG_ELEMENT_ID__:m});class K{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=y({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const G=new K("INJECTOR",-1),W={},Q=/\n/gm,Y=m({provide:String,useValue:m});let X,Z;function J(t){const e=X;return X=t,e}function tt(t){const e=Z;return Z=t,e}function et(t,e=p.Default){if(void 0===X)throw new Error("inject() must be called from an injection context");return null===X?it(t,void 0,e):X.get(t,e&p.Optional?null:void 0,e)}function nt(t,e=p.Default){return(Z||et)(M(t),e)}const rt=nt;function it(t,e,n){const r=_(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&p.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${k(t)}]`)}function ot(t){const e=[];for(let n=0;n<t.length;n++){const r=M(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=p.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof h||"Optional"===i.ngMetadataName||i===h?n|=p.Optional:i instanceof f||"SkipSelf"===i.ngMetadataName||i===f?n|=p.SkipSelf:i instanceof d||"Self"===i.ngMetadataName||i===d?n|=p.Self:t=i instanceof l||i===l?i.token:i}e.push(nt(t,n))}else e.push(nt(r))}return e}class st{get(t,e=W){if(e===W){const e=new Error(`NullInjectorError: No provider for ${k(t)}!`);throw e.name="NullInjectorError",e}return e}}class at{}class ct{}function ut(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function lt(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),lt(r,e)):e!==t&&e.push(r)}return e}function ht(t,e){t.forEach(t=>Array.isArray(t)?ht(t,e):e(t))}function dt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ft(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function mt(t,e,n){let r=yt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function gt(t,e){const n=yt(t,e);if(n>=0)return t[1|n]}function yt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var bt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),vt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const _t={},wt=[];let Ot=0;function Ct(t){return c(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||wt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||vt.Emulated,id:"c",styles:t.styles||wt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Ot++,n.inputs=It(t.inputs,e),n.outputs=It(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(xt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(St):null,n})}function xt(t){return Mt(t)||function(t){return t[B]||null}(t)}function St(t){return function(t){return t[V]||null}(t)}const Et={};function Tt(t){const e={type:t.type,bootstrap:t.bootstrap||wt,declarations:t.declarations||wt,imports:t.imports||wt,exports:t.exports||wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&c(()=>{Et[t.id]=t.type}),e}function kt(t,e){return c(()=>{const n=Rt(t,!0);n.declarations=e.declarations||wt,n.imports=e.imports||wt,n.exports=e.exports||wt})}function It(t,e){if(null==t)return _t;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Pt=Ct;function At(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mt(t){return t[U]||null}function jt(t,e){return t.hasOwnProperty(H)?t[H]:null}function Rt(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${k(t)} does not have '\u0275mod' property.`);return n}function Nt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Dt(t){return Array.isArray(t)&&!0===t[1]}function Lt(t){return 0!=(8&t.flags)}function Ft(t){return 2==(2&t.flags)}function Ut(t){return 1==(1&t.flags)}function Bt(t){return null!==t.template}function Vt(t){return 0!=(512&t[2])}function qt(t){return"string"==typeof t?t:null==t?"":""+t}function zt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():qt(t)}const Ht=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(F))();function $t(t){return t instanceof Function?t():t}function Kt(t,e){const n=e?` in ${e}`:"";throw new Error(`No provider for ${zt(t)} found${n}`)}class Gt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Wt(){return Qt}function Qt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Xt),Yt}function Yt(){const t=Zt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===_t)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Xt(t,e,n,r){const i=Zt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:_t,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new Gt(c&&c.currentValue,e,s===_t),t[r]=e}function Zt(t){return t.__ngSimpleChanges__||null}let Jt;function te(t){Jt=t}function ee(){return void 0!==Jt?Jt:"undefined"!=typeof document?document:void 0}function ne(t){return!!t.listen}Wt.ngInherit=!0;const re={createRenderer:(t,e)=>ee()};function ie(t){for(;Array.isArray(t);)t=t[0];return t}function oe(t,e){return ie(e[t+20])}function se(t,e){return ie(e[t.index])}function ae(t,e){return t.data[e+20]}function ce(t,e){return t[e+20]}function ue(t,e){const n=e[t];return Nt(n)?n:n[0]}function le(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function he(t){return 4==(4&t[2])}function de(t){return 128==(128&t[2])}function fe(t,e){return null===t||null==e?null:t[e]}function pe(t){t[18]=0}function me(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ge={lFrame:Ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ye(){return ge.bindingsEnabled}function be(){return ge.lFrame.lView}function ve(){return ge.lFrame.tView}function _e(t){ge.lFrame.contextLView=t}function we(){return ge.lFrame.currentTNode}function Oe(t,e){ge.lFrame.currentTNode=t,ge.lFrame.isParent=e}function Ce(){return ge.lFrame.isParent}function xe(){ge.lFrame.isParent=!1}function Se(){return ge.isInCheckNoChangesMode}function Ee(t){ge.isInCheckNoChangesMode=t}function Te(){const t=ge.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ke(){return ge.lFrame.bindingIndex}function Ie(){return ge.lFrame.bindingIndex++}function Pe(t){const e=ge.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Ae(t,e){const n=ge.lFrame;n.bindingIndex=n.bindingRootIndex=t,Me(e)}function Me(t){ge.lFrame.currentDirectiveIndex=t}function je(t){const e=ge.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Re(){return ge.lFrame.currentQueryIndex}function Ne(t){ge.lFrame.currentQueryIndex=t}function De(t,e){const n=Fe();ge.lFrame=n,n.currentTNode=e,n.lView=t}function Le(t){const e=Fe(),n=t[1];ge.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Fe(){const t=ge.lFrame,e=null===t?null:t.child;return null===e?Ue(t):e}function Ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Be(){const t=ge.lFrame;return ge.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ve=Be;function qe(){const t=Be();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ze(){return ge.lFrame.selectedIndex}function He(t){ge.lFrame.selectedIndex=t}function $e(){const t=ge.lFrame;return ae(t.tView,t.selectedIndex)}function Ke(){ge.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Ge(){ge.lFrame.currentNamespace=null}function We(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Qe(t,e,n){Ze(t,e,3,n)}function Ye(t,e,n,r){(3&t[2])===n&&Ze(t,e,n,r)}function Xe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ze(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Je(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Je(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class tn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function en(t,e,n){const r=ne(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];rn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function nn(t){return 3===t||4===t||6===t}function rn(t){return 64===t.charCodeAt(0)}function on(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||sn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function sn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function an(t){return-1!==t}function cn(t){return 32767&t}function un(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let ln=!0;function hn(t){const e=ln;return ln=t,e}let dn=0;function fn(t,e){const n=mn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,pn(r.data,t),pn(e,null),pn(r.blueprint,null));const i=gn(t,e),o=t.injectorIndex;if(an(i)){const t=cn(i),n=un(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function pn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function mn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function gn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function yn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty($)&&(r=n[$]),null==r&&(r=n[$]=dn++);const i=255&r,o=1<<i,s=64&i,a=32&i,c=e.data;128&i?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function bn(t,e,n,r=p.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty($)?t[$]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){De(e,t);try{const t=i();if(null!=t||r&p.Optional)return t;Kt(n)}finally{Ve()}}else if("number"==typeof i){if(-1===i)return new Sn(t,e);let o=null,s=mn(t,e),a=-1,c=r&p.Host?e[16][6]:null;for((-1===s||r&p.SkipSelf)&&(a=-1===s?gn(t,e):e[s+8],-1!==a&&xn(r,!1)?(o=e[1],s=cn(a),e=un(a,e)):s=-1);-1!==s;){const t=e[1];if(Cn(i,s,t.data)){const t=_n(s,e,n,o,r,c);if(t!==vn)return t}a=e[s+8],-1!==a&&xn(r,e[1].data[s+8]===c)&&Cn(i,s,e)?(o=t,s=cn(a),e=un(a,e)):s=-1}}}if(r&p.Optional&&void 0===i&&(i=null),0==(r&(p.Self|p.Host))){const t=e[9],o=tt(void 0);try{return t?t.get(n,i,r&p.Optional):it(n,i,r&p.Optional)}finally{tt(o)}}if(r&p.Optional)return i;Kt(n,"NodeInjector")}const vn={};function _n(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=wn(a,s,n,null==r?Ft(a)&&ln:r!=s&&2===a.type,i&p.Host&&o===a);return null!==c?On(e,s,c,a):vn}function wn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&Bt(t)&&t.type===n)return c}return null}function On(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof tn){const s=i;s.resolving&&function(t,e){throw new Error(`Circular dependency in DI detected for ${t}`)}(zt(o[n]));const a=hn(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?tt(s.injectImpl):null;De(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=Qt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&tt(c),hn(a),s.resolving=!1,Ve()}}return i}function Cn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function xn(t,e){return!(t&p.Self||t&p.Host&&e)}class Sn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return bn(this._tNode,this._lView,t,void 0,e)}}function En(t){const e=t;if(j(t))return()=>{const t=En(M(e));return t?t():null};let n=jt(e);if(null===n){const t=O(e);n=t&&t.factory}return n||null}function Tn(t){return c(()=>{const e=t.prototype.constructor,n=e[H]||En(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[H]||En(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function kn(t){return t.ngDebugContext}function In(t){return t.ngOriginalError}function Pn(t,...e){t.error(...e)}class An{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Pn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?kn(t)?kn(t):this._findContext(In(t)):null}_findOriginalError(t){let e=In(t);for(;e&&In(e);)e=In(e);return e}}class Mn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see http://g.co/ng/security#xss)`}}class jn extends Mn{getTypeName(){return"HTML"}}class Rn extends Mn{getTypeName(){return"Style"}}class Nn extends Mn{getTypeName(){return"Script"}}class Dn extends Mn{getTypeName(){return"URL"}}class Ln extends Mn{getTypeName(){return"ResourceURL"}}function Fn(t){return t instanceof Mn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=Bn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Bn(t){return t instanceof Mn&&t.getTypeName()||null}function Vn(t){return new jn(t)}function qn(t){return new Rn(t)}function zn(t){return new Nn(t)}function Hn(t){return new Dn(t)}function $n(t){return new Ln(t)}let Kn=!0,Gn=!1;function Wn(){return Gn=!0,Kn}function Qn(){if(Gn)throw new Error("Cannot enable prod mode after platform setup.");Kn=!1}function Yn(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Xn:new Zn(t)}class Xn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,tr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function er(t){return(t=String(t)).match(Jn)||t.match(tr)?t:(Wn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function nr(t){return(t=String(t)).split(",").map(t=>er(t.trim())).join(", ")}function rr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ir(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const or=rr("area,br,col,hr,img,wbr"),sr=rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ar=rr("rp,rt"),cr=ir(ar,sr),ur=ir(or,ir(sr,rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ir(ar,rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cr),lr=rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hr=rr("srcset"),dr=ir(lr,hr,rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fr=rr("script,style,template");class pr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ur.hasOwnProperty(e))return this.sanitizedSomething=!0,!fr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!dr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;lr[i]&&(o=er(o)),hr[i]&&(o=nr(o)),this.buf.push(" ",e,'="',yr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ur.hasOwnProperty(e)&&!or.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(yr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gr=/([^\#-~ |!])/g;function yr(t){return t.replace(/&/g,"&amp;").replace(mr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(gr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let br;function vr(t,e){let n=null;try{br=br||Yn(t);let r=e?String(e):"";n=br.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=br.getInertBodyElement(r)}while(r!==o);const s=new pr,a=s.sanitizeChildren(_r(n)||n);return Wn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=_r(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function _r(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Or(t){const e=function(){const t=be();return t&&t[12]}();return e?e.sanitize(wr.URL,t)||"":Un(t,"URL")?Fn(t):er(qt(t))}function Cr(t,e){t.__ngContext__=e}function xr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Sr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==xr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Er(t){return 0===t.type&&"ng-template"!==t.tagName}function Tr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function kr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(nn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!Tr(t,c,n)||""===c&&1===e.length){if(Ir(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!Sr(t.attrs,u,n)){if(Ir(r))return!1;s=!0}continue}const l=Pr(8&r?"class":c,i,Er(t),n);if(-1===l){if(Ir(r))return!1;s=!0;continue}if(""!==u){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==xr(e,u,0)||2&r&&u!==t){if(Ir(r))return!1;s=!0}}}}else{if(!s&&!Ir(r)&&!Ir(c))return!1;if(s&&Ir(c))continue;s=!1,r=c|1&r}}return Ir(r)||s}function Ir(t){return 0==(1&t)}function Pr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Ar(t,e,n=!1){for(let r=0;r<e.length;r++)if(kr(t,e[r],n))return!0;return!1}function Mr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function jr(t,e){return t?":not("+e.trim()+")":e}function Rr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Ir(s)||(e+=jr(o,i),i=""),r=s,o=o||!Ir(r);n++}return""!==i&&(e+=jr(o,i)),e}const Nr={};function Dr(t){const e=t[3];return Dt(e)?e[3]:e}function Lr(t){return Ur(t[13])}function Fr(t){return Ur(t[4])}function Ur(t){for(;null!==t&&!Dt(t);)t=t[4];return t}function Br(t){Vr(ve(),be(),ze()+t,Se())}function Vr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Qe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ye(e,r,0,n)}He(n)}function qr(t,e){return t<<17|e<<2}function zr(t){return t>>17&32767}function Hr(t){return 2|t}function $r(t){return(131068&t)>>2}function Kr(t,e){return-131069&t|e<<2}function Gr(t){return 1|t}function Wr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Ne(i),n.contentQueries(2,e[o],o)}}}function Qr(t,e,n){return ne(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Yr(t,e,n,r,i,o,s,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,pe(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Xr(t,e,n,r,i){const o=e+20,s=t.data[o]||function(t,e,n,r,i){const o=we(),s=Ce(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s&&null==o.child&&null!==a.parent?o.child=a:s||(o.next=a)),a}(t,o,n,r,i);return Oe(s,!0),s}function Zr(t,e,n){Le(e);try{const r=t.viewQuery;null!==r&&Ai(1,r,n);const i=t.template;null!==i&&ei(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Wr(t,e),t.staticViewQueries&&Ai(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ei(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,qe()}}function Jr(t,e,n,r){const i=e[2];if(256==(256&i))return;Le(e);const o=Se();try{pe(e),ge.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ei(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Qe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ye(e,n,0,null),Xe(e,0)}if(function(t){for(let e=Lr(t);null!==e;e=Fr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&me(r,1),n[2]|=1024}}}(e),function(t){for(let e=Lr(t);null!==e;e=Fr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];de(n)&&Jr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Wr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Qe(e,n)}else{const n=t.contentHooks;null!==n&&Ye(e,n,1),Xe(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,He(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Ae(r,i),s(2,e[i])),i++)}}}finally{He(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)xi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Ai(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Qe(e,n)}else{const n=t.viewHooks;null!==n&&Ye(e,n,2),Xe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,me(e[3],-1))}finally{qe()}}function ti(t,e,n,r){const i=e[10],o=!Se(),s=he(e);try{o&&!s&&i.begin&&i.begin(),s&&Zr(t,e,r),Jr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ei(t,e,n,r,i){const o=ze();try{He(-1),2&r&&e.length>20&&Vr(t,e,0,Se()),n(r,i)}finally{He(o)}}function ni(t,e,n){if(Lt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ri(t,e,n){ye()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||fn(n,e),Cr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Bt(r);o&&vi(e,n,r);const c=On(e,t,a,n);Cr(c,e),null!==s&&wi(0,a-i,c,r,0,s),o&&(ue(n.index,e)[8]=c)}}(t,e,n,se(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,c=ge.lFrame.currentDirectiveIndex;try{He(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Me(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?fi(r,i):s&&o.push(null)}}finally{He(-1),Me(c)}}(t,e,n))}function ii(t,e,n=se){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function oi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=si(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function si(t,e,n,r,i,o,s,a,c,u){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Nr);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function ai(t,e,n,r){const i=ji(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ci(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ui(t,e,n,r,i,o,s,a){const c=se(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(Di(t,n,u,r,i),Ft(e)&&function(t,e){const n=ue(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,ne(o)?o.setProperty(c,r,i):rn(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function li(t,e,n,r){let i=!1;if(ye()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Ar(n,s.selectors,!1)&&(i||(i=[]),yn(fn(n,e),t,s.type),Bt(s)?(mi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,yi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}pi(t,n,o.length);let a=!1,c=!1;for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=on(n.mergedAttrs,u.hostAttrs),bi(t,e,u),gi(t.data.length-1,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),c||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),c=!0),hi(t,u),r+=u.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||Er(e)?null:Oi(n,i);o.push(u),s=ci(n,c,s),a=ci(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),di(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=on(n.mergedAttrs,n.attrs),i}function hi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function di(t,e,n){for(let r=0;r<n;r++)e.push(Nr),t.blueprint.push(Nr),t.data.push(null)}function fi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function pi(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function mi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function gi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Bt(e)&&(n[""]=t)}}function yi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function bi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=jt(n.type)),i=new tn(r,Bt(n),null);t.blueprint.push(i),e.push(i)}function vi(t,e,n){const r=se(e,t),i=oi(n),o=t[10],s=Ti(t,Yr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function _i(t,e,n,r,i,o){const s=se(t,e),a=e[11];if(null==r)ne(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?qt(r):i(r,t.tagName||"",n);ne(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}function wi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Oi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ci(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function xi(t,e){const n=ue(e,t);if(de(n)){const t=n[1];80&n[2]?Jr(t,n,t.template,n[8]):n[5]>0&&Si(n)}}function Si(t){for(let n=Lr(t);null!==n;n=Fr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Jr(t,e,t.template,e[8])}else e[5]>0&&Si(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=ue(e[n],t);de(r)&&r[5]>0&&Si(r)}}function Ei(t,e){const n=ue(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Zr(r,n,n[8])}function Ti(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ki(t){for(;t;){t[2]|=64;const e=Dr(t);if(Vt(t)&&!e)return t;t=e}return null}function Ii(t,e,n){const r=e[10];r.begin&&r.begin();try{Jr(t,e,t.template,n)}catch(i){throw Ni(e,i),i}finally{r.end&&r.end()}}function Pi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=le(n),i=r[1];ti(i,r,i.template,n)}}(t[8])}function Ai(t,e,n){Ne(0),e(t,n)}const Mi=(()=>Promise.resolve(null))();function ji(t){return t[7]||(t[7]=[])}function Ri(t,e,n){return(null===t||Bt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Ni(t,e){const n=t[9],r=n?n.get(An,null):null;r&&r.handleError(e)}function Di(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Li(t,e,n){const r=oe(e,t),i=t[11];ne(i)?i.setValue(r,n):r.textContent=n}function Fi(t,e,n,r,i){if(null!=r){let o,s=!1;Dt(r)?o=r:Nt(r)&&(s=!0,r=r[0]);const a=ie(r);0===t&&null!==n?null==i?Ki(e,n,a):$i(e,n,a,i||null):1===t&&null!==n?$i(e,n,a,i||null):2===t?Ji(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ie(n)&&Fi(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];eo(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ui(t,e){return ne(e)?e.createText(t):e.createTextNode(t)}function Bi(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,me(i,-1)),n.splice(r,1)}function Vi(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Bi(o,r),e>0&&(t[n-1][4]=r[4]);const s=ft(t,10+e);eo(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function qi(t,e){if(!(256&e[2])){const n=e[11];ne(n)&&n.destroyNode&&eo(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return zi(t[1],t);for(;e;){let n=null;if(Nt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Nt(e)&&zi(e[1],e),e=e[3];null===e&&(e=t),Nt(e)&&zi(e[1],e),n=e&&e[4]}e=n}}(e)}}function zi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof tn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):ie(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&ne(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Dt(e[3])){n!==e[3]&&Bi(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Hi(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return se(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==vt.ShadowDom&&n!==vt.Native)return null}return se(r,n)}function $i(t,e,n,r){ne(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Ki(t,e,n){ne(t)?t.appendChild(e,n):e.appendChild(n)}function Gi(t,e,n,r){null!==r?$i(t,e,n,r):Ki(t,e,n)}function Wi(t,e){return ne(t)?t.parentNode(e):e.parentNode}function Qi(t,e){return 3===t.type||4===t.type?se(t,e):null}function Yi(t,e,n,r){const i=Hi(t,r,e);if(null!=i){const t=e[11],o=Qi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Gi(t,i,n[e],o);else Gi(t,i,n,o)}}function Xi(t,e){if(null!==e){const n=e.type;if(2===n)return se(e,t);if(0===n)return Zi(-1,t[e.index]);if(3===n||4===n){const n=e.child;if(null!==n)return Xi(t,n);{const n=t[e.index];return Dt(n)?Zi(-1,n):ie(n)}}{const n=t[16],r=n[6],i=Dr(n),o=r.projection[e.projection];return null!=o?Xi(i,o):Xi(t,e.next)}}return null}function Zi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Xi(t,r)}return e[7]}function Ji(t,e,n){const r=Wi(t,e);r&&function(t,e,n,r){ne(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function to(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;s&&0===e&&(a&&Cr(ie(a),r),n.flags|=4),64!=(64&n.flags)&&(3===c||4===c?(to(t,e,n.child,r,i,o,!1),Fi(e,t,i,a,o)):1===c?ro(t,e,r,n,i,o):Fi(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function eo(t,e,n,r,i,o){to(n,r,t.firstChild,e,i,o,!1)}function no(t,e,n){ro(e[11],0,e,n,Hi(t,n,e),Qi(n.parent||e[6],e))}function ro(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Fi(e,t,i,a[c],o);else to(t,e,a,s[3],i,o,!0)}function io(t,e,n){ne(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function oo(t,e,n){ne(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class so{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return co(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}qi(this._lView[1],this._lView)}onDestroy(t){ai(this._lView[1],this._lView,null,t)}markForCheck(){ki(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ii(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ee(!0);try{Ii(t,e,n)}finally{Ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,eo(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ao extends so{constructor(t){super(t),this._view=t}detectChanges(){Pi(this._view)}checkNoChanges(){!function(t){Ee(!0);try{Pi(t)}finally{Ee(!1)}}(this._view)}get context(){return null}}function co(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ie(o)),Dt(o))for(let t=10;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&co(e[1],e,n,r)}const s=n.type;if(3===s||4===s)co(t,e,n.child,r);else if(1===s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Dr(t);co(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}let uo,lo,ho;function fo(t,e,n){return uo||(uo=class extends t{}),new uo(se(e,n))}function po(t,e,n,r){return lo||(lo=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Yr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Zr(e,n,t),new so(n)}}),0===n.type?new lo(r,n,fo(e,n,r)):null}function mo(t,e,n,r){let i;ho||(ho=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return fo(e,this._hostTNode,this._hostView)}get injector(){return new Sn(this._hostTNode,this._hostView)}get parentInjector(){const t=gn(this._hostTNode,this._hostView);if(an(t)){const e=un(t,this._hostView),n=cn(t);return new Sn(e[1].data[n+8],e)}return new Sn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(at,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ho(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],dt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Zi(i,o),a=n[11],c=Wi(a,o[7]);return null!==c&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,eo(t,r,n,1,i,o)}(r,o[6],a,n,c,s),t.attachToViewContainerRef(this),dt(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Vi(this._lContainer,e);n&&(ft(this._lContainer[8],e),qi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Vi(this._lContainer,e);return n&&null!=ft(this._lContainer[8],e)?new so(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Dt(o))i=o;else{let t;if(3===n.type)t=ie(o);else if(t=r[11].createComment(""),Vt(r)){const e=r[11],i=se(n,r);$i(e,Wi(e,i),t,function(t,e){return ne(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Yi(r[1],r,t,n);r[n.index]=i=Ci(o,r,t,n),Ti(r,i)}return new ho(i,n,r)}function go(t=!1){return function(t,e,n){if(!n&&Ft(t)){const n=ue(t.index,e);return new so(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new so(e[16],e):null}(we(),be(),t)}let yo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>bo(),t})();const bo=go,vo=Function,_o=new K("Set Injector scope."),wo={},Oo={},Co=[];let xo;function So(){return void 0===xo&&(xo=new st),xo}function Eo(t,e=null,n=null,r){return new To(t,n,e||So(),r)}class To{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ht(e,n=>this.processProvider(n,t,e)),ht([t],t=>this.processInjectorType(t,[],i)),this.records.set(G,Po(void 0,this));const o=this.records.get(_o);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:k(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=W,n=p.Default){this.assertNotDestroyed();const r=J(this);try{if(!(n&p.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof K)&&_(t);e=n&&this.injectableDefInScope(n)?Po(ko(t),wo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&p.Self?So():this.parent).get(t,e=n&p.Optional&&e===W?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(k(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):k(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Q,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{J(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(k(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=M(t)))return!1;let r=O(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=O(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ht(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ht(r,t=>this.processProvider(t,n,r||Co))}}this.injectorDefTypes.add(o),this.records.set(o,Po(r.factory,wo));const a=r.providers;if(null!=a&&!s){const e=t;ht(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Mo(t=M(t))?t:M(t&&t.provide);const i=function(t,e,n){return Ao(t)?Po(void 0,t.useValue):Po(Io(t),wo)}(t);if(Mo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Po(void 0,wo,!0),e.factory=()=>ot(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===wo&&(e.value=Oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ko(t){const e=_(t),n=null!==e?e.factory:jt(t);if(null!==n)return n;const r=O(t);if(null!==r)return r.factory;if(t instanceof K)throw new Error(`Token ${k(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pt(e,"?");throw new Error(`Can't resolve all parameters for ${k(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[C]||t[E]||t[S]&&t[S]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Io(t,e,n){let r;if(Mo(t)){const e=M(t);return jt(e)||ko(e)}if(Ao(t))r=()=>M(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ot(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>nt(M(t.useExisting));else{const e=M(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return jt(e)||ko(e);r=()=>new e(...ot(t.deps))}var i;return r}function Po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ao(t){return null!==t&&"object"==typeof t&&Y in t}function Mo(t){return"function"==typeof t}const jo=function(t,e,n){return function(t,e=null,n=null,r){const i=Eo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ro=(()=>{class t{static create(t,e){return Array.isArray(t)?jo(t,e,""):jo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=W,t.NULL=new st,t.\u0275prov=y({token:t,providedIn:"any",factory:()=>nt(G)}),t.__NG_ELEMENT_ID__=-1,t})();const No=new K("AnalyzeForEntryComponents");function Do(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=I(i,t):2==o&&(r=I(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Lo(t,e){const n=le(t)[1],r=n.data.length-1;We(n,{directiveStart:r,directiveEnd:r+1})}function Fo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(Bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Uo(t.inputs),e.declaredInputs=Uo(t.declaredInputs),e.outputs=Uo(t.outputs);const n=i.hostBindings;n&&qo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Bo(t,o),s&&Vo(t,s),g(t.inputs,i.inputs),g(t.declaredInputs,i.declaredInputs),g(t.outputs,i.outputs),Bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Fo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=on(i.hostAttrs,n=on(n,i.hostAttrs))}}(r)}function Uo(t){return t===_t?{}:t===wt?[]:t}function Bo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Vo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function qo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let zo=null;function Ho(){if(!zo){const t=F.Symbol;if(t&&t.iterator)zo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(zo=n)}}}return zo}class $o{constructor(t){this.wrapped=t}static wrap(t){return new $o(t)}static unwrap(t){return $o.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof $o}}function Ko(t){return!!Go(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ho()in t)}function Go(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Wo(t,e,n){return t[e]=n}function Qo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Yo(t,e,n,r){const i=Qo(t,e,n);return Qo(t,e+1,r)||i}function Xo(t,e,n,r){const i=be();return Qo(i,Ie(),e)&&(ve(),_i($e(),i,t,e,n,r)),Xo}function Zo(t,e,n,r){return Qo(t,Ie(),n)?e+qt(n)+r:Nr}function Jo(t,e,n,r,i,o,s,a){const c=be(),u=ve(),l=t+20,h=u.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const u=e.consts,l=Xr(e,t,0,s||null,fe(u,a));li(e,n,l,fe(u,c)),We(e,l);const h=l.tViews=si(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,r,i,o,s):u.data[l];Oe(h,!1);const d=c[11].createComment("");Yi(u,c,d,h),Cr(d,c),Ti(c,c[l]=Ci(d,c,d,h)),Ut(h)&&ri(u,c,h),null!=s&&ii(c,h,a)}function ts(t){return ce(ge.lFrame.contextLView,t)}function es(t,e=p.Default){const n=be();return null===n?nt(t,e):bn(we(),n,M(t),e)}function ns(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(nn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(we(),t)}function rs(t,e,n){const r=be();return Qo(r,Ie(),e)&&ui(ve(),$e(),r,t,e,r[11],n,!1),rs}function is(t,e,n,r,i){const o=i?"class":"style";Di(t,n,e.inputs[o],o,r)}function os(t,e,n,r){const i=be(),o=ve(),s=20+t,a=i[11],c=i[s]=Qr(e,a,ge.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=Xr(e,t,2,i,fe(a,o));return li(e,n,c,fe(a,s)),null!==c.attrs&&Do(c,c.attrs,!1),null!==c.mergedAttrs&&Do(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[s];Oe(u,!0);const l=u.mergedAttrs;null!==l&&en(a,c,l);const h=u.classes;null!==h&&oo(a,c,h);const d=u.styles;null!==d&&io(a,c,d),Yi(o,i,c,u),0===ge.lFrame.elementDepthCount&&Cr(c,i),ge.lFrame.elementDepthCount++,Ut(u)&&(ri(o,i,u),ni(o,u,i)),null!==r&&ii(i,u)}function ss(){let t=we();Ce()?xe():(t=t.parent,Oe(t,!1));const e=t;ge.lFrame.elementDepthCount--;const n=ve();n.firstCreatePass&&(We(n,t),Lt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&is(n,e,be(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&is(n,e,be(),e.stylesWithoutHost,!1)}function as(t,e,n,r){os(t,e,n,r),ss()}function cs(t,e,n){const r=be(),i=ve(),o=t+20,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=fe(o,r),a=Xr(e,t,3,"ng-container",s);return null!==s&&Do(a,s,!0),li(e,n,a,fe(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];Oe(s,!0);const a=r[o]=r[11].createComment("");Yi(i,r,a,s),Cr(a,r),Ut(s)&&(ri(i,r,s),ni(i,s,r)),null!=n&&ii(r,s)}function us(){let t=we();const e=ve();Ce()?xe():(t=t.parent,Oe(t,!1)),e.firstCreatePass&&(We(e,t),Lt(t)&&e.queries.elementEnd(t))}function ls(t,e,n){cs(t,e,n),us()}function hs(){return be()}function ds(t){return!!t&&"function"==typeof t.then}function fs(t){return!!t&&"function"==typeof t.subscribe}function ps(t,e,n=!1,r){const i=be(),o=ve(),s=we();return gs(o,i,i[11],s,t,e,n,r),ps}function ms(t,e,n=!1,r){const i=we(),o=be(),s=ve();return gs(s,o,Ri(je(s.data),i,o),i,t,e,n,r),ms}function gs(t,e,n,r,i,o,s=!1,a){const c=Ut(r),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=ji(e);let h=!0;if(2===r.type){const d=se(r,e),f=a?a(d):_t,p=f.target||d,m=l.length,g=a?t=>a(ie(t[r.index])).target:r.index;if(ne(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=bs(r,e,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),u&&u.push(i,g,m,m+1)}}else o=bs(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),u&&u.push(i,g,m,s)}const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),u&&u.push(i,r.index,s,-(s+1))}}}function ys(t,e,n){try{return!1!==e(n)}catch(r){return Ni(t,r),!1}}function bs(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?ue(t.index,e):e;0==(32&e[2])&&ki(s);let a=ys(e,n,o),c=i.__ngNextListenerFn__;for(;c;)a=ys(e,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function vs(t=1){return function(t){return(ge.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ge.lFrame.contextLView))[8]}(t)}function _s(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Ar(t,o,!0):Mr(r,o))return i}else n=i}return n}function ws(t){const e=be()[16][6];if(!e.projection){const n=e.projection=pt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?_s(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let Os=!1;function Cs(t){Os=t}function xs(t,e=0,n){const r=be(),i=ve(),o=Xr(i,t,1,null,n||null);null===o.projection&&(o.projection=e),xe(),Os||no(i,r,o)}function Ss(t,e,n){return Es(t,"",e,"",n),Ss}function Es(t,e,n,r,i){const o=be(),s=Zo(o,e,n,r);return s!==Nr&&ui(ve(),$e(),o,t,s,o[11],i,!1),Es}const Ts=[];function ks(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?zr(o):$r(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];Is(t[a],e)&&(c=!0,t[a+1]=r?Gr(n):Hr(n)),a=r?zr(n):$r(n)}c&&(t[n+1]=r?Hr(o):Gr(o))}function Is(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&yt(t,e)>=0}const Ps={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function As(t){return t.substring(Ps.key,Ps.keyEnd)}function Ms(t,e){const n=Ps.textEnd;return n===e?-1:(e=Ps.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ps.key=e,n),js(t,e,n))}function js(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Rs(t,e,n){return Fs(t,e,n,!1),Rs}function Ns(t,e){return Fs(t,e,null,!0),Ns}function Ds(t){Us(mt,Ls,t,!0)}function Ls(t,e){for(let n=function(t){return function(t){Ps.key=0,Ps.keyEnd=0,Ps.value=0,Ps.valueEnd=0,Ps.textEnd=t.length}(t),Ms(t,js(t,0,Ps.textEnd))}(e);n>=0;n=Ms(e,n))mt(t,As(e),!0)}function Fs(t,e,n,r){const i=be(),o=ve(),s=Pe(2);o.firstUpdatePass&&Vs(o,t,s,r),e!==Nr&&Qo(i,s,e)&&Hs(o,o.data[ze()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=k(Fn(t)))),t}(e,n),r,s)}function Us(t,e,n,r){const i=ve(),o=Pe(2);i.firstUpdatePass&&Vs(i,null,o,r);const s=be();if(n!==Nr&&Qo(s,o,n)){const a=i.data[ze()+20];if(Gs(a,r)&&!Bs(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=I(t,n||"")),is(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Nr&&(i=Ts);let c=0,u=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0;let p,m=null;l===h?(c+=2,u+=2,d!==f&&(m=h,p=f)):null===h||null!==l&&l<h?(c+=2,m=l):(u+=2,m=h,p=f),null!==m&&Hs(t,e,n,r,m,p,s,a),l=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Ts;const r=[],i=Fn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Bs(t,e){return e>=t.expandoStartIndex}function Vs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ze()+20],s=Bs(t,n);Gs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=je(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=zs(n=qs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=qs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==$r(r))return t[zr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=qs(null,t,e,n[1],r),n=zs(n,e.attrs,r),function(t,e,n,r){t[zr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=zs(r,t[o].hostAttrs,n);return zs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=zr(s),c=$r(s);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||yt(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=zr(t[a+1]);t[r+1]=qr(e,a),0!==e&&(t[e+1]=Kr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=qr(a,0),0!==a&&(t[a+1]=Kr(t[a+1],r)),a=r;else t[r+1]=qr(c,0),0===a?a=r:t[c+1]=Kr(t[c+1],r),c=r;l&&(t[r+1]=Hr(t[r+1])),ks(t,u,r,!0),ks(t,u,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&yt(o,e)>=0&&(n[r+1]=Gr(n[r+1]))}(e,u,t,r,o),s=qr(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function qs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=zs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function zs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mt(t,s,!!n||e[++o]))}return void 0===t?null:t}function Hs(t,e,n,r,i,o,s,a){if(2!==e.type)return;const c=t.data,u=c[a+1];Ks(1==(1&u)?$s(c,e,n,i,$r(u),s):void 0)||(Ks(o)||2==(2&u)&&(o=$s(c,null,n,i,a,s)),function(t,e,n,r,i){const o=ne(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,oe(ze(),n),i,o))}function $s(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,u=null===c;let l=n[i+1];l===Nr&&(l=u?Ts:void 0);let h=u?gt(l,r):c===r?l:void 0;if(o&&!Ks(h)&&(h=gt(e,r)),Ks(h)&&(a=h,s))return a;const d=t[i+1];i=s?zr(d):$r(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=gt(t,r))}return a}function Ks(t){return void 0!==t}function Gs(t,e){return 0!=(t.flags&(e?16:32))}function Ws(t,e=""){const n=be(),r=ve(),i=t+20,o=r.firstCreatePass?Xr(r,t,2,null,null):r.data[i],s=n[i]=Ui(e,n[11]);Yi(r,n,s,o),Oe(o,!1)}function Qs(t){return Ys("",t,""),Qs}function Ys(t,e,n){const r=be(),i=Zo(r,t,e,n);return i!==Nr&&Li(r,ze(),i),Ys}function Xs(t,e,n,r,i){const o=be(),s=function(t,e,n,r,i,o){const s=Yo(t,ke(),n,i);return Pe(2),s?e+qt(n)+r+qt(i)+o:Nr}(o,t,e,n,r,i);return s!==Nr&&Li(o,ze(),s),Xs}function Zs(t,e,n){Us(mt,Ls,Zo(be(),t,e,n),!0)}function Js(t,e,n,r,i,o,s,a,c){Us(mt,Ls,function(t,e,n,r,i,o,s,a,c,u){const l=function(t,e,n,r,i,o){const s=Yo(t,e,n,r);return Yo(t,e+2,i,o)||s}(t,ke(),n,i,s,c);return Pe(4),l?e+qt(n)+r+qt(i)+o+qt(s)+a+qt(c)+u:Nr}(be(),t,e,n,r,i,o,s,a,c),!0)}function ta(t,e,n){const r=be();return Qo(r,Ie(),e)&&ui(ve(),$e(),r,t,e,r[11],n,!0),ta}function ea(t,e,n){const r=be();if(Qo(r,Ie(),e)){const i=ve(),o=$e();ui(i,o,r,t,e,Ri(je(i.data),o,r),n,!0)}return ea}const na=void 0;var ra=["en",[["a","p"],["AM","PM"],na],[["AM","PM"],na,na],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],na,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],na,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",na,"{1} 'at' {0}",na],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ia={};function oa(t,e,n){"string"!=typeof e&&(n=e,e=t[la.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ia[e]=t,n&&(ia[e][la.ExtraData]=n)}function sa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ua(e);if(n)return n;const r=e.split("-")[0];if(n=ua(r),n)return n;if("en"===r)return ra;throw new Error(`Missing locale data for the locale "${t}".`)}function aa(t){return sa(t)[la.CurrencyCode]||null}function ca(t){return sa(t)[la.PluralCase]}function ua(t){return t in ia||(ia[t]=F.ng&&F.ng.common&&F.ng.common.locales&&F.ng.common.locales[t]),ia[t]}var la=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ha=["zero","one","two","few","many"],da={marker:"element"},fa={marker:"comment"};let pa="en-US";function ma(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(pa=t.toLowerCase().replace(/_/g,"-"))}const ga=[];let ya=-1,ba=0,va=0;function _a(t,e,n,r){const i=r[11];let o=null,s=null;const a=[];for(let c=0;c<n.length;c++){const u=n[c];if("string"==typeof u){const e=Ui(u,i),l=n[++c];s=o,o=Ta(t,r,l,2,e,null),a.push(l),xe()}else if("number"==typeof u)switch(7&u){case 1:const i=u>>>17;let l;l=i===e?r[6]:ae(t,i),s=Sa(t,o,l,s,r);break;case 0:const h=u>=0,d=(h?u:~u)>>>3;a.push(d),s=o,o=ae(t,d),o&&Oe(o,h);break;case 5:s=o=ae(t,u>>>3),Oe(o,!1);break;case 4:const f=n[++c],p=n[++c];_i(ae(t,u>>>3),r,f,p,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case fa:const e=n[++c],l=n[++c],h=i.createComment(e);s=o,o=Ta(t,r,l,4,h,null),a.push(l),Cr(h,r),xe();break;case da:const d=n[++c],f=n[++c];s=o,o=Ta(t,r,f,2,i.createElement(d),d),a.push(f);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}}return xe(),a}function wa(t,e,n,r,i,o){let s=!1;for(let a=0;a<r.length;a++){const c=r[a],u=r[++a];if(c&o){let o="";for(let c=a+1;c<=a+u;c++){const a=r[c];if("string"==typeof a)o+=a;else if("number"==typeof a)if(a<0)o+=qt(n[i-a]);else{const u=a>>>2;switch(3&a){case 1:const a=r[++c],l=r[++c];ui(t,ae(t,u),n,a,o,n[11],l,!1);break;case 0:Li(n,u,o);break;case 2:s=Ca(t,e,r[++c],n,o);break;case 3:Oa(t,e,r[++c],i,n,s)}}}}a+=u}}function Oa(t,e,n,r,i,o){const s=e[n],a=i[s.currentCaseLViewIndex];null!==a&&wa(t,e,i,s.update[a],r,o?-1:ba)}function Ca(t,e,n,r,i){xa(t,e,n,r);let o=!1;const s=e[n],a=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ca(e)(parseInt(t,10)),r=ha[n];return void 0!==r?r:"other"}(e,pa);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}(s,i);return r[s.currentCaseLViewIndex]=-1!==a?a:null,a>-1&&(_a(t,-1,s.create[a],r),o=!0),o}function xa(t,e,n,r){const i=e[n],o=r[i.currentCaseLViewIndex];if(null!==o){const n=i.remove[o];for(let i=0;i<n.length;i++){const o=n[i],s=o>>>3;switch(7&o){case 3:Ea(t,r,s,!1);break;case 6:xa(t,e,s,r)}}}}function Sa(t,e,n,r,i){const o=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,null===e.parent?t.firstChild=e:n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let s=e.next;for(;s;)s.next===e&&(s.next=o),s=s.next;if(1===e.type)return no(t,i,e),e;Yi(t,i,se(e,i),e);const a=i[e.index];return 0!==e.type&&Dt(a)&&Yi(t,i,a[7],e),e}function Ea(t,e,n,r){const i=ae(t,n),o=oe(n,e);o&&Ji(e[11],o);const s=ce(e,n);if(Dt(s)){const t=s;0!==i.type&&Ji(e[11],t[7])}r&&i&&(i.flags|=64)}function Ta(t,e,n,r,i,o){const s=we();e[n+20]=i;const a=Xr(t,n,r,o,null);return s&&s.next===a&&(s.next=null),a}const ka=/\ufffd(\d+):?\d*\ufffd/gi,Ia=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,Pa=/\ufffd(\d+)\ufffd/,Aa=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/;let Ma;const ja=[],Ra=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Na=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,Da=/\uE500/g;function La(t,e,n,r=null){const i=[null,null],o=t.split(ka);let s=0;for(let a=0;a<o.length;a++){const t=o[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),s|=Ba(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function Fa(t,e=0){let n;e|=Ba(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=ka.exec(r);)e|=Ba(parseInt(n[1],10));else e=Fa(r,e)}}return e}function Ua(t){return t+Ma++}function Ba(t){return 1<<Math.min(t,31)}function Va(t){return void 0===t}function qa(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Ra.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function za(t,e,n,r){const i=[],o=[],s=[],a=[],c=[],u=e.values;for(let l=0;l<u.length;l++){const e=u[l],h=[];for(let t=0;t<e.length;t++){const n=e[t];if("string"!=typeof n){const r=h.push(n)-1;e[t]=`\x3c!--\ufffd${r}\ufffd--\x3e`}}const d=$a(e.join(""),n,h,t,r);i.push(d.create),o.push(d.remove),s.push(d.update),a.push(d.vars),c.push(d.childIcus)}t.push({type:e.type,vars:a,currentCaseLViewIndex:20+r+1,childIcus:c,cases:e.cases,create:i,remove:o,update:s}),Ma+=Math.max(...a)}function Ha(t){const e=[],n=[];let r=1,i=0;const o=Ka(t=t.replace(Aa,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=Ka(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function $a(t,e,n,r,i){const o=Yn(ee()).getInertBodyElement(t);if(!o)throw new Error("Unable to generate inert body element");const s={vars:1,childIcus:[],create:[],remove:[],update:[]};return Ga((_r(o)||o).firstChild,s,e,n,r,i),s}function Ka(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Aa.test(n)?r.push(Ha(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function Ga(t,e,n,r,i,o){if(t){const s=[];for(;t;){const a=t.nextSibling,c=o+ ++e.vars;switch(t.nodeType){case Node.ELEMENT_NODE:const a=t,u=a.tagName.toLowerCase();if(ur.hasOwnProperty(u)){e.create.push(da,u,c,n<<17|1);const s=a.attributes;for(let t=0;t<s.length;t++){const n=s.item(t),r=n.name.toLowerCase();n.value.match(ka)?dr.hasOwnProperty(r)&&ut(lr[r]?La(n.value,c,n.name,er):hr[r]?La(n.value,c,n.name,nr):La(n.value,c,n.name),e.update):e.create.push(c<<3|4,n.name,n.value)}Ga(t.firstChild,e,c,r,i,o),e.remove.push(c<<3|3)}else e.vars--;break;case Node.TEXT_NODE:const l=t.textContent||"",h=l.match(ka);e.create.push(h?"":l,c,n<<17|1),e.remove.push(c<<3|3),h&&ut(La(l,c),e.update);break;case Node.COMMENT_NODE:const d=Pa.exec(t.textContent||"");if(d){const t=parseInt(d[1],10);e.create.push(fa,"",c,n<<17|1),s.push([r[t],c])}else e.vars--;break;default:e.vars--}t=a}for(let t=0;t<s.length;t++){const n=s[t][0],r=s[t][1];za(i,n,r,o+e.vars);const a=i.length-1;e.vars+=Math.max(...i[a].vars),e.childIcus.push(a);const c=Fa(n);e.update.push(Ba(n.mainBinding),3,-1-n.mainBinding,r<<2|2,a,c,2,r<<2|3,a),e.remove.push(a<<3|6,r<<3|3)}}}function Wa(t,e,n){(function(t,e,n){const r=ve(),i=fe(r.consts,e);!function(t){ga[++ya]=t}(t),Cs(!0),r.firstCreatePass&&null===r.data[t+20]&&function(t,e,n,r,i){const o=e.blueprint.length-20;Ma=0;const s=we(),a=Ce()?s:s&&s.parent;let c=a&&a!==t[6]?a.index-20:n,u=0;ja[u]=c;const l=[];if(n>0&&s!==a){let t=s.index-20;Ce()||(t=~t),l.push(t<<3|0)}const h=[],d=[];if(""===r&&Va(i))l.push(r,Ua(o),c<<17|1);else{const t=function(t,e){if(Va(e))return qa(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return qa(t.substring(n,r))}}(r,i),e=(f=t,f.replace(Da," ")).split(Na);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);c=ja[--u],l.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);l.push((e?t:~t)<<3|0,c<<17|1),e&&(ja[++u]=c=t)}else{const e=Ka(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=Ua(o);l.push(fa,"",i,c<<17|1);const s=Fa(r);za(d,r,i,i);const a=d.length-1;h.push(Ba(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,s,2,i<<2|3,a)}else if(""!==e[n]){const t=e[n],r=t.match(ka),i=Ua(o);l.push(r?"":t,i,c<<17|1),r&&ut(La(t,i),h)}}}}var f;Ma>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,Ma),e.data[n+20]={vars:Ma,create:l,update:h,icus:d.length?d:null}}(be(),r,t,i,n)})(t,e,n),function(){const t=be();(function(t,e){const n=ga[ya--],r=t.data[n+20],i=we(),o=_a(t,n,r.create,e);let s=n+1;for(;null!==i&&s<=i.index-20;){-1===o.indexOf(s)&&Ea(t,e,s,!0);const n=ae(t,s);!n||0!==n.type&&2!==n.type&&3!==n.type||null===n.localNames||(s+=n.localNames.length>>1),s++}})(ve(),t),Cs(!1)}()}function Qa(t,e){const n=be(),r=ve();!function(t,e,n,r){const i=we().index-20,o=[];for(let s=0;s<r.length;s+=2){const a=r[s],c=r[s+1].split(Ia);for(let r=0;r<c.length;r++){const s=c[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s)if(s.match(ka))e.firstCreatePass&&null===e.data[n+20]&&ut(La(s,i,a),o);else{const n=ae(e,i);2===n.type&&_i(n,t,a,s,null,null);const r=null!==n.inputs&&n.inputs[a];r&&Di(e,t,r,a,s)}}}e.firstCreatePass&&null===e.data[n+20]&&(e.data[n+20]=o)}(n,r,t,fe(r.consts,e))}function Ya(t){return Qo(be(),Ie(),t)&&(ba|=1<<va),va++,Ya}function Xa(t){!function(t,e,n){if(va>0){const r=t.data[n+20];let i,o=null;Array.isArray(r)?i=r:(i=r.update,o=r.icus),wa(t,o,e,i,ke()-va-1,ba),ba=0,va=0}}(ve(),be(),t)}function Za(t,e,n,r,i){if(t=M(t),Array.isArray(t))for(let o=0;o<t.length;o++)Za(t[o],e,n,r,i);else{const o=ve(),s=be();let a=Mo(t)?t:M(t.provide),c=Io(t);const u=we(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(Mo(t)||!t.multi){const r=new tn(c,i,es),f=ec(a,e,i?l:l+d,h);-1===f?(yn(fn(u,s),o,a),Ja(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=ec(a,e,l+d,h),p=ec(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){yn(fn(u,s),o,a);const l=function(t,e,n,r,i){const o=new tn(t,n,es);return o.multi=[],o.index=e,o.componentProviders=0,tc(o,i,r&&!n),o}(i?rc:nc,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),Ja(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),s.push(l)}else Ja(o,t,f>-1?f:p,tc(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Ja(t,e,n,r){const i=Mo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function tc(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ec(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function nc(t,e,n,r){return ic(this.multi,[])}function rc(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=On(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ic(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ic(i,o);return o}function ic(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function oc(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=ve();if(r.firstCreatePass){const i=Bt(t);Za(n,r.data,r.blueprint,i,!0),Za(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class sc{}class ac{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${k(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let cc=(()=>{class t{}return t.NULL=new ac,t})(),uc=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>lc(t),t})();const lc=function(t){return fo(t,we(),be())};class hc{}var dc=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let fc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>pc(),t})();const pc=function(){const t=be(),e=ue(we().index,t);return function(t){const e=t[11];if(ne(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Nt(e)?e:t)};let mc=(()=>{class t{}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>null}),t})();class gc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const yc=new gc("10.2.5");class bc{constructor(){}supports(t){return Ko(t)}create(t){return new _c(t)}}const vc=(t,e)=>e;class _c{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||vc}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<xc(n,r,i)?e:n,s=xc(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ko(t))throw new Error(`Error trying to diff '${k(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ho()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new wc(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Cc),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class wc{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Oc{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Cc{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Oc,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xc(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Sc{constructor(){}supports(t){return t instanceof Map||Go(t)}create(){return new Ec}}class Ec{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Go(t)))throw new Error(`Error trying to diff '${k(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Tc(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Tc{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let kc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new f,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new bc])}),t})(),Ic=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new f,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=y({token:t,providedIn:"root",factory:()=>new t([new Sc])}),t})();const Pc=[new Sc],Ac=new kc([new bc]),Mc=new Ic(Pc);let jc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Rc(t,uc),t})();const Rc=function(t,e){return po(t,e,we(),be())};let Nc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Dc(t,uc),t})();const Dc=function(t,e){return mo(t,e,we(),be())},Lc={};class Fc extends cc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Mt(t);return new Vc(e,this.ngModule)}}function Uc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Bc=new K("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ht});class Vc extends sc{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Rr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Uc(this.componentDef.inputs)}get outputs(){return Uc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Lc,i);return o!==Lc||r===Lc?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(hc,re),s=i.get(mc,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(ne(t))return t.selectRootElement(e,n===vt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Qr(c,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ht,clean:Mi,playerHandler:null,flags:0},d=si(0,null,null,1,0,null,null,null,null,null),f=Yr(null,d,h,l,null,null,o,a,s,i);let p,m;Le(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Xr(s,0,2,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Do(a,c,!0),null!==t&&(en(i,t,c),null!==a.classes&&oo(i,t,a.classes),null!==a.styles&&io(i,t,a.styles)));const u=r.createRenderer(t,e),l=Yr(n,oi(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return s.firstCreatePass&&(yn(fn(a,n),s,e.type),mi(s,a),yi(a,n.length,1)),Ti(n,l),n[20]=l}(u,this.componentDef,f,o,a);if(u)if(n)en(a,u,["ng-version",yc.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ir(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&en(a,u,t),e&&e.length>0&&oo(a,u,e.join(" "))}if(m=ae(d,0),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=we();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),pi(t,r,1),bi(t,e,n));const i=On(e,t,e.length-1,r);Cr(i,e);const o=se(r,e);return o&&Cr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=we();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){He(a.index-20);const t=n[1];hi(t,e),di(t,n,e.hostVars),fi(e,s)}return s}(t,this.componentDef,f,h,[Lo]),Zr(d,f,null)}finally{qe()}return new qc(this.componentType,p,fo(uc,m,f),f,m)}}class qc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ao(r),this.componentType=t}get injector(){return new Sn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const zc=new Map;class Hc extends at{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fc(this);const n=Rt(t),r=t[z]||null;r&&ma(r),this._bootstrapComponents=$t(n.bootstrap),this._r3Injector=Eo(t,e,[{provide:at,useValue:this},{provide:cc,useValue:this.componentFactoryResolver}],k(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ro.THROW_IF_NOT_FOUND,n=p.Default){return t===Ro||t===at||t===G?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $c extends ct{constructor(t){super(),this.moduleType=t,null!==Rt(t)&&function(t){const e=new Set;!function t(n){const r=Rt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${k(e)} vs ${k(e.name)}`)}(i,zc.get(i),n),zc.set(i,n));const o=$t(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Hc(this.moduleType,t)}}function Kc(t,e,n){const r=Te()+t,i=be();return i[r]===Nr?Wo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Gc(t,e,n,r){return Xc(be(),Te(),t,e,n,r)}function Wc(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return Yo(t,a,i,o)?Wo(t,a+2,s?r.call(s,i,o):r(i,o)):Yc(t,a+2)}(be(),Te(),t,e,n,r,i)}function Qc(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,a){const c=e+n;return function(t,e,n,r,i){const o=Yo(t,e,n,r);return Qo(t,e+2,i)||o}(t,c,i,o,s)?Wo(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):Yc(t,c+3)}(be(),Te(),t,e,n,r,i,o)}function Yc(t,e){const n=t[e];return n===Nr?void 0:n}function Xc(t,e,n,r,i,o){const s=e+n;return Qo(t,s,i)?Wo(t,s+1,o?r.call(o,i):r(i)):Yc(t,s+1)}function Zc(t,e){const n=ve();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=jt(r.type)),s=tt(es);try{const e=hn(!1),r=o();return hn(e),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,be(),t,r),r}finally{tt(s)}}function Jc(t,e,n){const r=be(),i=ce(r,t);return function(t,e){return $o.isWrapped(e)&&(e=$o.unwrap(e),t[ke()]=Nr),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?Xc(r,Te(),e,i.transform,n,i):i.transform(n))}const tu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function eu(){return this._results[Ho()]()}class nu{constructor(){this.dirty=!0,this._results=[],this.changes=new tu,this.length=0;const t=Ho(),e=nu.prototype;e[t]||(e[t]=eu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=lt(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ru{constructor(t){this.queryList=t,this.matches=null}clone(){return new ru(this.queryList)}setDirty(){this.queryList.setDirty()}}class iu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new iu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ou(t,e).matches&&this.queries[e].setDirty()}}class ou{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class su{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new su(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class au{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new au(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,cu(e,i)),this.matchTNodeWithReadOption(t,e,wn(e,t,i,!1,!1))}else n===jc?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,wn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===uc||r===Nc||r===jc&&0===e.type)this.addMatch(e.index,-2);else{const n=wn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function cu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function uu(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?fo(uc,t,e):0===t.type?po(jc,uc,t,e):null}(e,t):-2===n?function(t,e,n){return n===uc?fo(uc,e,t):n===jc?po(jc,uc,e,t):n===Nc?mo(Nc,uc,e,t):void 0}(t,e,r):On(t,t[1],n,e)}function lu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:uu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function hu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=lu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=10;t<s.length;t++){const e=s[t];e[17]===e[3]&&hu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];hu(n[1],n,i,r)}}}}}return r}function du(t){const e=be(),n=ve(),r=Re();Ne(r+1);const i=Ou(n,r);if(t.dirty&&he(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?hu(n,e,r,[]):lu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function fu(t,e,n){mu(ve(),be(),t,e,n,!0)}function pu(t,e,n){mu(ve(),be(),t,e,n,!1)}function mu(t,e,n,r,i,o){t.firstCreatePass&&(wu(t,new ou(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),_u(t,e)}function gu(t,e,n,r){bu(ve(),be(),e,n,r,!1,we(),t)}function yu(t,e,n,r){bu(ve(),be(),e,n,r,!0,we(),t)}function bu(t,e,n,r,i,o,s,a){t.firstCreatePass&&(wu(t,new ou(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),_u(t,e)}function vu(){return t=be(),e=Re(),t[19].queries[e].queryList;var t,e}function _u(t,e){const n=new nu;ai(t,e,n,n.destroy),null===e[19]&&(e[19]=new iu),e[19].queries.push(new ru(n))}function wu(t,e,n){null===t.queries&&(t.queries=new su),t.queries.track(new au(e,n))}function Ou(t,e){return t.queries.getByIndex(e)}function Cu(t,e){return po(jc,uc,t,e)}function xu(t=p.Default){const e=go(!0);if(null!=e||t&p.Optional)return e;Kt("ChangeDetectorRef")}const Su=new K("Application Initializer");let Eu=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ds(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(nt(Su,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Tu=new K("AppId"),ku={provide:Tu,useFactory:function(){return`${Iu()}${Iu()}${Iu()}`},deps:[]};function Iu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pu=new K("Platform Initializer"),Au=new K("Platform ID"),Mu=new K("appBootstrapListener");let ju=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Ru=new K("LocaleId"),Nu=new K("DefaultCurrencyCode");class Du{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Lu=function(t){return new $c(t)},Fu=Lu,Uu=function(t){return Promise.resolve(Lu(t))},Bu=function(t){const e=Lu(t),n=$t(Rt(t).declarations).reduce((t,e)=>{const n=Mt(e);return n&&t.push(new Vc(n)),t},[]);return new Du(e,n)},Vu=Bu,qu=function(t){return Promise.resolve(Bu(t))};let zu=(()=>{class t{constructor(){this.compileModuleSync=Fu,this.compileModuleAsync=Uu,this.compileModuleAndAllComponentsSync=Vu,this.compileModuleAndAllComponentsAsync=qu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();const Hu=(()=>Promise.resolve(0))();function $u(t){"undefined"==typeof Zone?Hu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ku{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new tu(!1),this.onMicrotaskEmpty=new tu(!1),this.onStable=new tu(!1),this.onError=new tu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=F.requestAnimationFrame,e=F.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(F,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yu(t),Qu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Xu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Zu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Xu(t),e.invoke(r,i,o,s,a)}finally{Zu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Yu(t),Qu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ku.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ku.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Wu,Gu,Gu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Gu(){}const Wu={};function Qu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Xu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Zu(t){t._nesting--,Qu(t)}class Ju{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new tu,this.onMicrotaskEmpty=new tu,this.onStable=new tu,this.onError=new tu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let tl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ku.assertNotInAngularZone(),$u(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$u(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(nt(Ku))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})(),el=(()=>{class t{constructor(){this._applications=new Map,ol.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ol.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();class nl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function rl(t){ol=t}let il,ol=new nl;const sl=new K("AllowMultipleToken");class al{constructor(t,e){this.name=t,this.token=e}}function cl(t,e,n=[]){const r=`Platform: ${e}`,i=new K(r);return(e=[])=>{let o=ul();if(!o||o.injector.get(sl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:_o,useValue:"platform"});!function(t){if(il&&!il.destroyed&&!il.injector.get(sl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");il=t.get(ll);const e=t.get(Pu,null);e&&e.forEach(t=>t())}(Ro.create({providers:t,name:r}))}return function(t){const e=ul();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ul(){return il&&!il.destroyed?il:null}let ll=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ju:("zone.js"===t?void 0:t)||new Ku({enableLongStackTrace:Wn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ku,useValue:n}];return n.run(()=>{const e=Ro.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(An,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>fl(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return ds(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Eu);return t.runInitializers(),t.donePromise.then(()=>(ma(i.injector.get(Ru,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=hl({},e);return function(t,e,n){const r=new $c(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(dl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${k(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(nt(Ro))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function hl(t,e){return Array.isArray(e)?e.reduce(hl,t):Object.assign(Object.assign({},t),e)}let dl=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Wn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ku.assertNotInAngularZone(),$u(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ku.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof sc?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(at),i=n.create(Ro.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(tl,null);return o&&i.injector.get(el).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Wn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;fl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Mu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),fl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(nt(Ku),nt(ju),nt(Ro),nt(An),nt(cc),nt(Eu))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function fl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class pl{}class ml{}const gl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let yl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||gl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>bl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>bl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(nt(zu),nt(ml,8))},t.\u0275prov=y({token:t,factory:t.\u0275fac}),t})();function bl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const vl=function(t){return null},_l=cl(null,"core",[{provide:Au,useValue:"unknown"},{provide:ll,deps:[Ro]},{provide:el,deps:[]},{provide:ju,deps:[]}]),wl=[{provide:dl,useClass:dl,deps:[Ku,ju,Ro,An,cc,Eu]},{provide:Bc,deps:[Ku],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Eu,useClass:Eu,deps:[[new h,Su]]},{provide:zu,useClass:zu,deps:[]},ku,{provide:kc,useFactory:function(){return Ac},deps:[]},{provide:Ic,useFactory:function(){return Mc},deps:[]},{provide:Ru,useFactory:function(t){return ma(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new l(Ru),new h,new f]]},{provide:Nu,useValue:"USD"}];let Ol=(()=>{class t{constructor(t){}}return t.\u0275mod=Tt({type:t}),t.\u0275inj=v({factory:function(e){return new(e||t)(nt(dl))},providers:wl}),t})()},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.9.1","app"),r.a.SDK_VERSION="8.9.1"},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("EY2u"),i=n("LRne"),o=n("z6cu");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jmUF:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return E})),n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return x})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return O}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),c=n("8Y7J"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(m.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new c.q("angularfire2.app.options"),v=new c.q("angularfire2.app.nameOrConfig"),_=new c.P("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=(t,...e)=>{Object(c.X)()&&"undefined"!=typeof console&&console[t](...e)};function x(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&C("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:w,deps:[b,c.z,[new c.A,v]]};let E=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)(c.cc(c.B))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return l}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach((function(e){e.setLogLevel(t)}))}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return x})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return T})),n.d(e,"i",(function(){return u})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return f})),n.d(e,"l",(function(){return m})),n.d(e,"m",(function(){return g})),n.d(e,"n",(function(){return l})),n.d(e,"o",(function(){return h})),n.d(e,"p",(function(){return p})),n.d(e,"q",(function(){return b})),n.d(e,"r",(function(){return y}));var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function c(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return u().indexOf("Electron/")>=0}function g(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return u().indexOf("MSAppHost/")>=0}function b(){return!h()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,_.prototype.create),o}return Object(r.c)(e,t),e}(Error),_=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?w(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new v(i,a,r);return c},t}();function w(t,e){return t.replace(O,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function T(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof s?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM");class s extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new u(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class u extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new r.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new c.b("@firebase/app"),f=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.c)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,o,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),c=e.match(/\s|\//);if(s||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}o(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return d.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(c,o.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(f);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.j)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.o)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var b=p;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.29",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("8Y7J");const i={apiKey:"AIzaSyALAGLlmiIPG6gxzsk6J7InKxdr8dgSwmc",authDomain:"olio-ordering.firebaseapp.com",projectId:"olio-ordering",storageBucket:"olio-ordering.appspot.com",messagingSenderId:"721433473155",appId:"1:721433473155:web:e5c60978954a3cc814ebb6",measurementId:"G-0CFLYNKNPG"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.cc)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a))},t.\u0275prov=Object(r.Kb)({factory:f,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function f(){return new h(Object(r.cc)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function m(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.cc)(a).location;return new _(Object(r.cc)(c),e&&e.origin||"")}const v=new r.q("appBaseHref");let _=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c),r.cc(v,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(c),r.cc(v,8))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=m(x(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(y),r.cc(c))},t.normalizeQueryParams=g,t.joinWithSlash=p,t.stripTrailingSlash=m,t.\u0275prov=Object(r.Kb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new O(Object(r.cc)(y),Object(r.cc)(c))}function x(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const E=r.ob;class T{}let k=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(E(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.u))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class I{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let P=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.X)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new I(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new A(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new A(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.Q),r.Ob(r.L),r.Ob(r.s))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class A{constructor(t,e){this.record=t,this.view=e}}let M=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.Q),r.Ob(r.L))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.wb)(e)}'.`)}let N=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.Q))},t.\u0275dir=r.Jb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.zb]}),t})(),D=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:k}]}),t})();function L(t){return"browser"===t}let F=(()=>{class t{}return t.\u0275prov=Object(r.Kb)({token:t,providedIn:"root",factory:()=>new U(Object(r.cc)(a),window,Object(r.cc)(r.m))}),t})();class U{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=B(this.window.history)||B(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function B(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class V extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new V,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=z||(z=document.querySelector("base"),z)?z.getAttribute("href"):null;return null==e?null:(n=e,q||(q=document.createElement("a")),q.setAttribute("href",n),"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname);var n}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let q,z=null;const H=new r.q("TRANSITION_ID"),$=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[H,a,r.r],multi:!0}];class K{static init(){Object(r.Z)(new K)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const G=new r.q("EventManagerPlugins");let W=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(G),r.cc(r.z))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class Q{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Y=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends Y{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const Z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},J=/%COMP%/g;function tt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?tt(t,i,n):(i=i.replace(J,t),n.push(i))}return n}function et(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let nt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new rt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new it(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.R.Native:case r.R.ShadowDom:return new ot(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.cc(W),r.cc(X),r.cc(r.c))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class rt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Z[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Z[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Z[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.G.DashCase?t.style.setProperty(e,n,i&r.G.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.G.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,et(n)):this.eventManager.addEventListener(t,e,et(n))}}class it extends rt{constructor(t,e,n,r){super(t),this.component=n;const i=tt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(J,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(J,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ot extends rt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.R.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=tt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let st=(()=>{class t extends Q{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const at=["alt","control","meta","shift"],ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ut={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},lt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ht=(()=>{class t extends Q{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(at.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ut.hasOwnProperty(e)&&(e=ut[e]))}return ct[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),at.forEach(r=>{r!=n&&(0,lt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return Object(r.cc)(ft)},token:t,providedIn:"root"}),t})(),ft=(()=>{class t extends dt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.I.NONE:return e;case r.I.HTML:return Object(r.fb)(e,"HTML")?Object(r.xb)(e):Object(r.db)(this._doc,String(e));case r.I.STYLE:return Object(r.fb)(e,"Style")?Object(r.xb)(e):e;case r.I.SCRIPT:if(Object(r.fb)(e,"Script"))return Object(r.xb)(e);throw new Error("unsafe value used in a script context");case r.I.URL:return Object(r.pb)(e),Object(r.fb)(e,"URL")?Object(r.xb)(e):Object(r.eb)(String(e));case r.I.RESOURCE_URL:if(Object(r.fb)(e,"ResourceURL"))return Object(r.xb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.gb)(t)}bypassSecurityTrustStyle(t){return Object(r.jb)(t)}bypassSecurityTrustScript(t){return Object(r.ib)(t)}bypassSecurityTrustUrl(t){return Object(r.kb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.hb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return t=Object(r.cc)(r.o),new ft(t.get(a));var t},token:t,providedIn:"root"}),t})();const pt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){V.makeCurrent(),K.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],mt=Object(r.S)(r.Y,"browser",pt),gt=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:G,useClass:st,multi:!0,deps:[a,r.z,r.B]},{provide:G,useClass:ht,multi:!0,deps:[a]},[],{provide:nt,useClass:nt,deps:[W,X,r.c]},{provide:r.F,useExisting:nt},{provide:Y,useExisting:X},{provide:X,useClass:X,deps:[a]},{provide:r.M,useClass:r.M,deps:[r.z]},{provide:W,useClass:W,deps:[G,r.z]},[]];let yt,bt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:H,useExisting:r.c},$]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.cc(t,12))},providers:gt,imports:[D,r.f]}),t})();"undefined"!=typeof window&&window;try{yt="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(RT){yt=!1}let vt,_t,wt=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?L(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yt)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.B))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.B))},token:t,providedIn:"root"}),t})(),Ot=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();function Ct(t){return function(){if(null==vt&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vt=!0}))}finally{vt=vt||!1}return vt}()?t:!!t.capture}var xt=n("XNiG"),St=n("quSY"),Et=n("LRne"),Tt=n("vkgz"),kt=n("7o/Q"),It=n("D0XW");function Pt(t,e=It.a){return n=>n.lift(new At(t,e))}class At{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Mt(t,this.dueTime,this.scheduler))}}class Mt extends kt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(jt,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function jt(t){t.debouncedNext()}function Rt(t,e){return function(n){return n.lift(new Nt(t,e))}}class Nt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Dt(t,this.predicate,this.thisArg))}}class Dt extends kt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Lt=n("lJxs");const Ft=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var Ut=n("EY2u");function Bt(t){return e=>0===t?Object(Ut.b)():e.lift(new Vt(t))}class Vt{constructor(t){if(this.total=t,this.total<0)throw new Ft}call(t,e){return e.subscribe(new qt(t,this.total))}}class qt extends kt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function zt(t){return null!=t&&"false"!=`${t}`}function Ht(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function $t(t){return Array.isArray(t)?t:[t]}function Kt(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Gt(t){return t instanceof r.l?t.nativeElement:t}var Wt=n("HDdC");let Qt=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Yt=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Gt(t);return new Wt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new xt.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Qt))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(Qt))},token:t,providedIn:"root"}),t})(),Xt=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=zt(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ht(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Pt(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Yt),r.Ob(r.l),r.Ob(r.z))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Zt=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[Qt]}),t})(),Jt=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(RT){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===ee(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=ee(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||te(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(wt))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(wt))},token:t,providedIn:"root"}),t})();function te(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function ee(t){if(!te(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class ne{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Bt(1)).subscribe(t)}}let re=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new ne(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Jt),r.cc(r.z),r.cc(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(Jt),Object(r.cc)(r.z),Object(r.cc)(a))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const ie=new r.q("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),oe=new r.q("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let se=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(r.cc(ie,8),r.cc(r.z),r.cc(a),r.cc(oe,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(ie,8),Object(r.cc)(r.z),Object(r.cc)(a),Object(r.cc)(oe,8))},token:t,providedIn:"root"}),t})();function ae(t){return 0===t.buttons}const ce=new r.q("cdk-focus-monitor-default-options"),ue=Ct({passive:!0,capture:!0});let le=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=ae(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=he(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=he(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=Gt(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Et.a)(null);const r=function(t){if(function(){if(null==_t){const t="undefined"!=typeof document?document.head:null;_t=!(!t||!t.createShadowRoot&&!t.attachShadow)}return _t}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new xt.a,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=Gt(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Gt(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=he(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==he(t))return;const r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,ue),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,ue)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,ue),t.addEventListener("mousedown",this._documentMousedownListener,ue),t.addEventListener("touchstart",this._documentTouchstartListener,ue),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ue),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ue),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,ue),t.removeEventListener("mousedown",this._documentMousedownListener,ue),t.removeEventListener("touchstart",this._documentTouchstartListener,ue),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.z),r.cc(wt),r.cc(a,8),r.cc(ce,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.z),Object(r.cc)(wt),Object(r.cc)(a,8),Object(r.cc)(ce,8))},token:t,providedIn:"root"}),t})();function he(t){return t.composedPath?t.composedPath()[0]:t.target}let de=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(wt),r.cc(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(wt),Object(r.cc)(a))},token:t,providedIn:"root"}),t})();const fe=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(a)}});let pe=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(fe,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(fe,8))},token:t,providedIn:"root"}),t})(),me=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();const ge=new r.P("10.2.7");var ye=n("bHdf");function be(){return Object(ye.a)(1)}function ve(...t){return be()(Object(Et.a)(...t))}var _e=n("z+Ro");function we(...t){const e=t[t.length-1];return Object(_e.a)(e)?(t.pop(),n=>ve(t,n,e)):e=>ve(t,e)}class Oe{}function Ce(t,e){return{type:7,name:t,definitions:e,options:{}}}function xe(t,e=null){return{type:4,styles:e,timings:t}}function Se(t,e=null){return{type:3,steps:t,options:e}}function Ee(t,e=null){return{type:2,steps:t,options:e}}function Te(t){return{type:6,styles:t,offset:null}}function ke(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ie(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Pe(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function Ae(t){Promise.resolve(null).then(t)}class Me{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ae(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class je{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Ae(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Re(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ne(t){switch(t.length){case 0:return new Me;case 1:return t[0];default:return new je(t)}}function De(t,e,n,r,i={},o={}){const s=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),u=l,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Le(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Fe(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Fe(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Fe(n,"destroy",t)))}}function Fe(t,e,n){const r=n.totalTime,i=Ue(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function Ue(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Be(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Ve(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let qe=(t,e)=>!1,ze=(t,e)=>!1,He=(t,e,n)=>[];const $e=Re();($e||"undefined"!=typeof Element)&&(qe=(t,e)=>t.contains(e),ze=(()=>{if($e||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):ze}})(),He=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let Ke=null,Ge=!1;function We(t){Ke||(Ke=("undefined"!=typeof document?document.body:null)||{},Ge=!!Ke.style&&"WebkitAppearance"in Ke.style);let e=!0;return Ke.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Ke.style,!e&&Ge)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Ke.style),e}const Qe=ze,Ye=qe,Xe=He;function Ze(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Je=(()=>{class t{validateStyleProperty(t){return We(t)}matchesElement(t,e){return Qe(t,e)}containsElement(t,e){return Ye(t,e)}query(t,e,n){return Xe(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new Me(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),tn=(()=>{class t{}return t.NOOP=new Je,t})();function en(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:nn(parseFloat(e[1]),e[2])}function nn(t,e){switch(e){case"s":return 1e3*t;default:return t}}function rn(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=nn(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=nn(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function on(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function sn(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else on(t,n);return n}function an(t,e,n){return n?e+":"+n+";":""}function cn(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=an(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=an(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function un(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=yn(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Re()&&cn(t))}function ln(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=yn(e);t.style[n]=""}),Re()&&cn(t))}function hn(t){return Array.isArray(t)?1==t.length?t[0]:Ee(t):t}const dn=new RegExp("{{\\s*(.+?)\\s*}}","g");function fn(t){let e=[];if("string"==typeof t){let n;for(;n=dn.exec(t);)e.push(n[1]);dn.lastIndex=0}return e}function pn(t,e,n){const r=t.toString(),i=r.replace(dn,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function mn(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const gn=/-+([a-z0-9])/g;function yn(t){return t.replace(gn,(...t)=>t[1].toUpperCase())}function bn(t,e){return 0===t||0===e}function vn(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=wn(t,e)}))}}return e}function _n(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function wn(t,e){return window.getComputedStyle(t)[e]}function On(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(Sn(i,s)),"<"!=o[0]||"*"==i&&"*"==s||e.push(Sn(s,i))}(t,n,e)):n.push(t),n}const Cn=new Set(["true","1"]),xn=new Set(["false","0"]);function Sn(t,e){const n=Cn.has(t)||xn.has(t),r=Cn.has(e)||xn.has(e);return(i,o)=>{let s="*"==t||t==i,a="*"==e||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?Cn.has(t):xn.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?Cn.has(e):xn.has(e)),s&&a}}const En=new RegExp("s*:selfs*,?","g");function Tn(t,e,n){return new kn(t).build(e,n)}class kn{constructor(t){this._driver=t}build(t,e){const n=new In(e);return this._resetContextStyleTimingState(n),_n(this,hn(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(Pn(t)){const e=t;Object.keys(e).forEach(t=>{fn(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=mn(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=_n(this,hn(t.animation),e);return{type:1,matchers:On(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:An(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>_n(this,t,e)),options:An(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=_n(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:An(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Mn(rn(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Mn(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||rn(r,e),Mn(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Te({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=Te(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Pn(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=fn(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Pn(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Pn(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:_n(this,hn(t.animation),e),options:An(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:An(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:An(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(En,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Be(e.collectedStyles,e.currentQuerySelector,{});const s=_n(this,hn(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:An(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:rn(t.timings,e.errors,!0);return{type:12,animation:_n(this,hn(t.animation),e),timings:n,options:null}}}class In{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Pn(t){return!Array.isArray(t)&&"object"==typeof t}function An(t){var e;return t?(t=on(t)).params&&(t.params=(e=t.params)?on(e):null):t={},t}function Mn(t,e,n){return{duration:t,delay:e,easing:n}}function jn(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Rn{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Nn=new RegExp(":enter","g"),Dn=new RegExp(":leave","g");function Ln(t,e,n,r,i,o={},s={},a,c,u=[]){return(new Fn).buildKeyframes(t,e,n,r,i,o,s,a,c,u)}class Fn{buildKeyframes(t,e,n,r,i,o,s,a,c,u=[]){c=c||new Rn;const l=new Bn(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),_n(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[jn(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?en(n.duration):null,o=null!=n.delay?en(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),_n(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Un);const t=en(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>_n(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?en(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),_n(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return rn(e.params?pn(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?en(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Un);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),_n(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;_n(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const Un={};class Bn{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Un,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Vn(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=en(n.duration)),null!=n.delay&&(r.delay=en(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=pn(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Bn(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Un,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new qn(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(Nn,"."+this._enterClassName)).replace(Dn,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Vn{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Vn(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]="*"})):sn(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=pn(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=sn(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):"*"==r&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?mn(t.values()):[],o=e.size?mn(e.values()):[];if(n){const t=r[0],e=on(t);t.offset=0,e.offset=1,r=[t,e]}return jn(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class qn extends Vn{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=sn(t[0],!1);a.offset=0,i.push(a);const c=sn(t[0],!1);c.offset=zn(s),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let s=sn(t[r],!1);s.offset=zn((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return jn(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function zn(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Hn{}class $n extends Hn{normalizePropertyName(t,e){return yn(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(Kn[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const Kn=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Gn(t,e,n,r,i,o,s,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const Wn={};class Qn{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||Wn,d=this.buildStyles(n,s&&s.params||Wn,l),f=a&&a.params||Wn,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=u?[]:Ln(t,e,this.ast.animation,i,o,d,p,v,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Gn(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=Be(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Be(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const O=mn(m.values());return Gn(e,this._triggerName,n,r,b,d,p,_,O,g,y,w)}}class Yn{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=on(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=pn(o,r,e)),n[t]=o})}}),n}}class Xn{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Yn(t.style,t.options&&t.options.params||{})}),Zn(this.states,"true","1"),Zn(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Qn(t,e,this.states))}),this.fallbackTransition=new Qn(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Zn(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Jn=new Rn;class tr{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Tn(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=De(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=Ln(this._driver,e,i,"ng-enter","ng-leave",{},{},n,Jn,r),o.forEach(t=>{const e=Be(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Ne(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Ue(e,"","","");return Le(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const er=[],nr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class ir{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=on(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const or=new ir("void");class sr{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,fr(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=Be(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Be(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(fr(t,"ng-trigger"),fr(t,"ng-trigger-"+e),a[e]=or),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new cr(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(fr(t,"ng-trigger"),fr(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new ir(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=or),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{ln(t,n),un(t,r)})}return}const u=Be(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(fr(t,"ng-animate-queued"),o.onStart(()=>{pr(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Ne(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||or,s=new ir("void"),a=new cr(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==nr||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){fr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=Ue(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Le(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class ar{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new sr(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(ur(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!ur(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),fr(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pr(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(ur(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return ur(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ne(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=nr,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)fr(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Ne(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Rn,r=[],i=new Map,o=[],s=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=dr(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>fr(t,n))});const m=[],g=new Set,y=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const t=this.collectedLeaveElements[P],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=dr(h,Array.from(g));v.forEach((t,e)=>{const n="ng-leave"+p++;b.set(e,n),t.forEach(t=>fr(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>pr(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>pr(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>ln(i,p.fromStyles)),e.onDestroy(()=>un(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>ln(i,p.fromStyles)),e.onDestroy(()=>un(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Be(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const O=new Map,C=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,O))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Be(O,e,[]).push(t),t.destroy()})});const x=m.filter(t=>yr(t,a,c)),S=new Map;hr(S,this.driver,y,c,"*").forEach(t=>{yr(t,a,c)&&x.push(t)});const E=new Map;d.forEach((t,e)=>{hr(E,this.driver,new Set(t),a,"!")}),x.forEach(t=>{const e=S.get(t),n=E.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const T=[],k=[],I={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>un(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=I;if(C.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>C.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,O,i,E,S);if(o.setRealPlayer(n),t===I)T.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Ne(e)),r.push(o)}}else ln(e,s.fromStyles),o.onDestroy(()=>un(e,s.toStyles)),k.push(o),u.has(e)&&r.push(o)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Ne(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let P=0;P<m.length;P++){const t=m[P],e=t.__ng_removed;if(pr(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?mr(this,t,r):this.processLeaveNode(t)}return m.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,c=Be(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}ln(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Me(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return gr(t,e),e}((n.get(h)||er).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),y=De(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new cr(t,s,h);e.setRealPlayer(b),c.push(e)}return b});c.forEach(t=>{Be(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>fr(t,"ng-animating"));const d=Ne(h);return d.onDestroy(()=>{u.forEach(t=>pr(t,"ng-animating")),un(a,e.toStyles)}),l.forEach(t=>{Be(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Me(t.duration,t.delay)}}class cr{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Me,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Le(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Be(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ur(t){return t&&1===t.nodeType}function lr(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function hr(t,e,n,r,i){const o=[];n.forEach(t=>o.push(lr(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=rr,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>lr(t,o[a++])),s}function dr(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function fr(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function pr(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function mr(t,e,n){Ne(n).onDone(()=>t.processLeaveNode(e))}function gr(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof je?gr(r.players,e):e.push(r)}}function yr(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class br{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new ar(t,e,n),this._timelineEngine=new tr(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=Tn(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new Xn(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Ve(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Ve(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function vr(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=wr(e[0]),e.length>1&&(r=wr(e[e.length-1]))):e&&(n=wr(e)),n||r?new _r(t,n,r):null}let _r=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&un(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(un(this._element,this._initialStyles),this._endStyles&&(un(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ln(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ln(this._element,this._endStyles),this._endStyles=null),un(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function wr(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Or(i)&&(e=e||{},e[i]=t[i])}return e}function Or(t){return"display"===t||"position"===t}class Cr{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Ir(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),kr(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Tr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){xr(this._element,this._name,"paused")}resume(){xr(this._element,this._name,"running")}setPosition(t){const e=Sr(this._element,this._name);this._position=t*this._duration,kr(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Tr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Ir(t,"").split(","),r=Er(n,e);r>=0&&(n.splice(r,1),kr(t,"",n.join(",")))}(this._element,this._name))}}function xr(t,e,n){kr(t,"PlayState",n,Sr(t,e))}function Sr(t,e){const n=Ir(t,"");return n.indexOf(",")>0?Er(n.split(","),e):Er([n],e)}function Er(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Tr(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function kr(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Ir(t,e){return t.style["animation"+e]}class Pr{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Cr(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:wn(this.element,n))})}this.currentSnapshot=t}}class Ar extends Me{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Ze(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Mr{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return We(t)}matchesElement(t,e){return Qe(t,e)}containsElement(t,e){return Ye(t,e)}query(t,e,n){return Xe(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Ze(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof Pr),c={};bn(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=vn(t,e,c));if(0==n)return new Ar(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=vr(t,e),f=new Pr(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class jr{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:wn(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Rr{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Nr().toString()),this._cssKeyframesDriver=new Mr}validateStyleProperty(t){return We(t)}matchesElement(t,e){return Qe(t,e)}containsElement(t,e){return Ye(t,e)}query(t,e,n){return Xe(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=o.filter(t=>t instanceof jr);bn(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=vr(t,e=vn(t,e=e.map(t=>sn(t,!1)),c));return new jr(t,e,a,l)}}function Nr(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Dr=(()=>{class t extends Oe{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Ee(t):t;return Ur(this._renderer,null,e,"register",[n]),new Lr(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.F),r.cc(a))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class Lr extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Fr(this._id,t,e||{},this._renderer)}}class Fr{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ur(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Ur(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let Br=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Vr("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new qr(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.F),r.cc(br),r.cc(r.z))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();class Vr{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class qr extends Vr{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return"@"!=i.charAt(0)&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let zr=(()=>{class t extends br{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a),r.cc(tn),r.cc(Hn))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const Hr=new r.q("AnimationModuleType"),$r=[{provide:tn,useFactory:function(){return"function"==typeof Nr()?new Rr:new Mr}},{provide:Hr,useValue:"BrowserAnimations"},{provide:Oe,useClass:Dr},{provide:Hn,useFactory:function(){return new $n}},{provide:br,useClass:zr},{provide:r.F,useFactory:function(t,e,n){return new Br(t,e,n)},deps:[nt,br,r.z]}];let Kr=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:$r,imports:[bt]}),t})(),Gr=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),Wr=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const Qr=new r.P("10.2.7"),Yr=new r.q("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Xr,Zr=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Qr.full!==ge.full&&console.warn("The Angular Material version ("+Qr.full+") does not match the Angular CDK version ("+ge.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.cc(de),r.cc(Yr,8),r.cc(a,8))},imports:[[me],me]}),t})();function Jr(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=zt(t)}}}function ti(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function ei(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=zt(t)}}}function ni(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Ht(t):this.defaultTabIndex}}}try{Xr="undefined"!=typeof Intl}catch(RT){Xr=!1}let ri=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class ii{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const oi={enterDuration:450,exitDuration:400},si=Ct({passive:!0}),ai=["mousedown","touchstart"],ci=["mouseup","mouseleave","touchend","touchcancel"];class ui{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Gt(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},oi),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-o+"px",u.style.top=a-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new ii(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},oi),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Gt(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(ai))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ci),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=ae(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,si)})})}_removeTriggerEvents(){this._triggerElement&&(ai.forEach(t=>{this._triggerElement.removeEventListener(t,this,si)}),this._pointerUpEventsRegistered&&ci.forEach(t=>{this._triggerElement.removeEventListener(t,this,si)}))}}const li=new r.q("mat-ripple-global-options");let hi=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new ui(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.z),r.Ob(wt),r.Ob(li,8),r.Ob(Hr,8))},t.\u0275dir=r.Jb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Gb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),di=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Zr,Ot],Zr]}),t})();var fi=n("DH7j"),pi=n("XoHu"),mi=n("Cfvw");function gi(t,e){return new Wt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=Object(mi.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const yi=new r.q("NgValueAccessor");let bi=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),vi=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),_i=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[bi],imports:[vi]}),t})(),wi=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D,Zr],Zr]}),t})(),Oi=(()=>{class t{}return t.special="special",t.veg="veg",t.nonVeg="Non-veg",t.count="count",t.tags="tags",t.menu="menu",t.title="title",t.img="img",t.half="half",t.isFull="isfull",t.prize="prize",t.name_="name",t.id="id",t.data="data",t.cartItems="cart",t.blue="##296fca",t.orange="#f44336",t})(),Ci=(()=>{class t{static isAddedToCart(e){for(let n=0;n<t.cartItems.length;n++)if(t.cartItems[n].itemId===e.itemId)return!0;return!1}static removeFromCart(e){t.cartItems.forEach((n,r)=>{n.itemId!==e.itemId||t.cartItems.splice(r,1)})}}return t.allItems={},t.cartItems=[],t.prevCartItems=[],t})();var xi=n("9ppp");class Si extends xt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xi.a;return this._value}next(t){super.next(this._value=t)}}class Ei extends kt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Ti extends kt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ki=n("SeVD");function Ii(t,e,n,r,i=new Ti(t,n,r)){if(!i.closed)return e instanceof Wt.a?e.subscribe(i):Object(ki.a)(e)(i)}var Pi=n("yCtX");const Ai={};function Mi(...t){let e,n;return Object(_e.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(fi.a)(t[0])&&(t=t[0]),Object(Pi.a)(t,n).lift(new ji(e))}class ji{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ri(t,this.resultSelector))}}class Ri extends Ei{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ai),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ii(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ai?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ni=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Di(t){return new Wt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(mi.a)(n):Object(Ut.b)()).subscribe(e)})}function Li(t){return function(e){return 0===t?Object(Ut.b)():e.lift(new Fi(t))}}class Fi{constructor(t){if(this.total=t,this.total<0)throw new Ft}call(t,e){return e.subscribe(new Ui(t,this.total))}}class Ui extends kt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Bi(t=zi){return e=>e.lift(new Vi(t))}class Vi{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new qi(t,this.errorFactory))}}class qi extends kt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(PO){t=PO}this.destination.error(t)}}}function zi(){return new Ni}function Hi(t=null){return e=>e.lift(new $i(t))}class $i{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ki(t,this.defaultValue))}}class Ki extends kt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Gi=n("SpAZ"),Wi=n("zx2A");function Qi(t,e){return"function"==typeof e?n=>n.pipe(Qi((n,r)=>Object(mi.a)(t(n,r)).pipe(Object(Lt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Yi(t))}class Yi{constructor(t){this.project=t}call(t,e){return e.subscribe(new Xi(t,this.project))}}class Xi extends Wi.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Wi.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Wi.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function Zi(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ji(t,e,n))}}class Ji{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new to(t,this.accumulator,this.seed,this.hasSeed))}}class to extends kt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function eo(t){return function(e){const n=new no(t),r=e.lift(n);return n.caught=r}}class no{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ro(t,this.selector,this.caught))}}class ro extends Wi.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Wi.a(this);this.add(r);const i=Object(Wi.c)(n,r);i!==r&&this.add(i)}}}var io=n("5+tZ");function oo(t,e){return Object(io.a)(t,e,1)}function so(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Rt((e,n)=>t(e,n,r)):Gi.a,Bt(1),n?Hi(e):Bi(()=>new Ni))}function ao(t){return e=>e.lift(new co(t))}class co{constructor(t){this.callback=t}call(t,e){return e.subscribe(new uo(t,this.callback))}}class uo extends kt.a{constructor(t,e){super(t),this.add(new St.a(e))}}class lo{constructor(t,e){this.id=t,this.url=e}}class ho extends lo{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fo extends lo{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class po extends lo{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mo extends lo{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class go extends lo{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yo extends lo{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bo extends lo{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vo extends lo{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _o extends lo{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wo{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Oo{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Co{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xo{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eo{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class To{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ko{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Io(t){return new ko(t)}function Po(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ao(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Mo(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!jo(t[i],e[i]))return!1;return!0}function jo(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Ro(t){return Array.prototype.concat.apply([],t)}function No(t){return t.length>0?t[t.length-1]:null}function Do(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Lo(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(mi.a)(Promise.resolve(t)):Object(Et.a)(t)}function Fo(t,e,n){return n?function(t,e){return Mo(t,e)}(t.queryParams,e.queryParams)&&Uo(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>jo(t[n],e[n]))}(t.queryParams,e.queryParams)&&Bo(t.root,e.root)}function Uo(t,e){if(!$o(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Uo(t.children[n],e.children[n]))return!1}return!0}function Bo(t,e){return Vo(t,e,e.segments)}function Vo(t,e,n){if(t.segments.length>n.length)return!!$o(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!$o(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Bo(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!$o(t.segments,r)&&!!t.children.primary&&Vo(t.children.primary,e,i)}}class qo{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Io(this.queryParams)),this._queryParamMap}toString(){return Qo.serialize(this)}}class zo{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Do(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yo(this)}}class Ho{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Io(this.parameters)),this._parameterMap}toString(){return rs(this)}}function $o(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Ko(t,e){let n=[];return Do(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),Do(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Go{}class Wo{parse(t){const e=new cs(t);return new qo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Xo(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Jo(e)}=${Jo(t)}`).join("&"):`${Jo(e)}=${Jo(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Qo=new Wo;function Yo(t){return t.segments.map(t=>rs(t)).join("/")}function Xo(t,e){if(!t.hasChildren())return Yo(t);if(e){const e=t.children.primary?Xo(t.children.primary,!1):"",n=[];return Do(t.children,(t,e)=>{"primary"!==e&&n.push(`${e}:${Xo(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=Ko(t,(e,n)=>"primary"===n?[Xo(t.children.primary,!1)]:[`${n}:${Xo(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Yo(t)}/${e[0]}`:`${Yo(t)}/(${e.join("//")})`}}function Zo(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jo(t){return Zo(t).replace(/%3B/gi,";")}function ts(t){return Zo(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function es(t){return decodeURIComponent(t)}function ns(t){return es(t.replace(/\+/g,"%20"))}function rs(t){return`${ts(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ts(t)}=${ts(e[t])}`).join("")}`;var e}const is=/^[^\/()?;=#]+/;function os(t){const e=t.match(is);return e?e[0]:""}const ss=/^[^=?&#]+/,as=/^[^?&#]+/;class cs{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zo([],{}):new zo([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new zo(t,e)),n}parseSegment(){const t=os(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ho(es(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=os(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=os(this.remaining);t&&(n=t,this.capture(n))}t[es(e)]=es(n)}parseQueryParam(t){const e=function(t){const e=t.match(ss);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(as);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ns(e),i=ns(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=os(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new zo([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class us{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ls(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=ls(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=hs(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return hs(t,this._root).map(t=>t.value)}}function ls(t,e){if(t===e.value)return e;for(const n of e.children){const e=ls(t,n);if(e)return e}return null}function hs(t,e){if(t===e.value)return[e];for(const n of e.children){const r=hs(t,n);if(r.length)return r.unshift(e),r}return[]}class ds{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function fs(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ps extends us{constructor(t,e){super(t),this.snapshot=e,_s(this,t)}toString(){return this.snapshot.toString()}}function ms(t,e){const n=function(t,e){const n=new bs([],{},{},"",{},"primary",e,null,t.root,-1,{});return new vs("",new ds(n,[]))}(t,e),r=new Si([new Ho("",{})]),i=new Si({}),o=new Si({}),s=new Si({}),a=new Si(""),c=new gs(r,i,s,a,o,"primary",e,n.root);return c.snapshot=n.root,new ps(new ds(c,[]),n)}class gs{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Lt.a)(t=>Io(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Lt.a)(t=>Io(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ys(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class bs{constructor(t,e,n,r,i,o,s,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Io(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Io(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vs extends us{constructor(t,e){super(e),this.url=t,_s(this,e)}toString(){return ws(this._root)}}function _s(t,e){e.value._routerState=t,e.children.forEach(e=>_s(t,e))}function ws(t){const e=t.children.length>0?` { ${t.children.map(ws).join(", ")} } `:"";return`${t.value}${e}`}function Os(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Mo(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Mo(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Mo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Mo(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Cs(t,e){return Mo(t.params,e.params)&&function(t,e){return $o(t,e)&&t.every((t,n)=>Mo(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Cs(t.parent,e.parent))}function xs(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(r.value.snapshot,e.value))return xs(t,e,r);return xs(t,e)})}(t,e,n);return new ds(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Ss(e,t),t}{const n=new gs(new Si((r=e.value).url),new Si(r.params),new Si(r.queryParams),new Si(r.fragment),new Si(r.data),r.outlet,r.component,r),i=e.children.map(e=>xs(t,e));return new ds(n,i)}}var r}function Ss(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Ss(t.children[n],e.children[n])}function Es(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ts(t){return"object"==typeof t&&null!=t&&t.outlets}function ks(t,e,n,r,i){let o={};return r&&Do(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new qo(n.root===t?e:Is(n.root,t,e),o,i)}function Is(t,e,n){const r={};return Do(t.children,(t,i)=>{r[i]=t===e?n:Is(t,e,n)}),new zo(t.segments,r)}class Ps{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Es(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ts);if(r&&r!==No(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class As{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Ms(t,e,n){if(t||(t=new zo([],{})),0===t.segments.length&&t.hasChildren())return js(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Ts(s))break;const a=`${s}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ls(a,c,e))return o;r+=2}else{if(!Ls(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new zo(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new zo(t.segments.slice(r.pathIndex),t.children),js(e,0,i)}return r.match&&0===i.length?new zo(t.segments,{}):r.match&&!t.hasChildren()?Rs(t,e,n):r.match?js(t,0,i):Rs(t,e,n)}function js(t,e,n){if(0===n.length)return new zo(t.segments,{});{const r=function(t){return Ts(t[0])?t[0].outlets:{primary:t}}(n),i={};return Do(r,(n,r)=>{null!==n&&(i[r]=Ms(t.children[r],e,n))}),Do(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new zo(t.segments,i)}}function Rs(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ts(o)){const t=Ns(o.outlets);return new zo(r,t)}if(0===i&&Es(n[0])){r.push(new Ho(t.segments[e].path,n[0])),i++;continue}const s=Ts(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Es(a)?(r.push(new Ho(s,Ds(a))),i+=2):(r.push(new Ho(s,{})),i++)}return new zo(r,{})}function Ns(t){const e={};return Do(t,(t,n)=>{null!==t&&(e[n]=Rs(new zo([],{}),0,t))}),e}function Ds(t){const e={};return Do(t,(t,n)=>e[n]=`${t}`),e}function Ls(t,e,n){return t==n.path&&Mo(e,n.parameters)}class Fs{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Os(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=fs(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Do(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=fs(t),i=t.value.component?n.children:e;Do(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=fs(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Eo(t.value.snapshot))}),t.children.length&&this.forwardEvent(new xo(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Os(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Us(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Us(t){Os(t.value),t.children.forEach(Us)}class Bs{constructor(t,e){this.routes=t,this.module=e}}function Vs(t){return"function"==typeof t}function qs(t){return t instanceof qo}const zs=Symbol("INITIAL_VALUE");function Hs(){return Qi(t=>Mi(...t.map(t=>t.pipe(Bt(1),we(zs)))).pipe(Zi((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==zs)return t;if(r===zs&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||qs(r))return r}return t},t)},zs),Rt(t=>t!==zs),Object(Lt.a)(t=>qs(t)?t:!0===t),Bt(1)))}class $s{constructor(t){this.segmentGroup=t||null}}class Ks{constructor(t){this.urlTree=t}}function Gs(t){return new Wt.a(e=>e.error(new $s(t)))}function Ws(t){return new Wt.a(e=>e.error(new Ks(t)))}function Qs(t){return new Wt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ys{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Lt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(eo(t=>{if(t instanceof Ks)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof $s)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Lt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(eo(t=>{if(t instanceof $s)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new zo([],{primary:t}):t;return new qo(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Lt.a)(t=>new zo([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(Et.a)({});const n=[],r=[],i={};return Do(t,(t,o)=>{const s=e(o,t).pipe(Object(Lt.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),Et.a.apply(null,n.concat(r)).pipe(be(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Rt((e,n)=>t(e,n,r)):Gi.a,Li(1),n?Hi(e):Bi(()=>new Ni))}(),Object(Lt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(Et.a)(...n).pipe(oo(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(eo(t=>{if(t instanceof $s)return Object(Et.a)(null);throw t}))),so(t=>!!t),eo((t,n)=>{if(t instanceof Ni||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(Et.a)(new zo([],{}));throw new $s(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ta(r)!==o?Gs(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Gs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ws(i):this.lineralizeSegments(n,i).pipe(Object(io.a)(n=>{const i=new zo(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Xs(e,r,i);if(!s)return Gs(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Ws(l):this.lineralizeSegments(r,l).pipe(Object(io.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Lt.a)(t=>(n._loadedConfig=t,new zo(r,{})))):Object(Et.a)(new zo(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Xs(e,n,r);if(!i)return Gs(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(io.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Js(t,e,n)&&"primary"!==ta(n))}(t,n,r)?{segmentGroup:Zs(new zo(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==ta(r)&&(n[ta(r)]=new zo([],{}));return n}(r,new zo(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Js(t,e,n))}(t,n,r)?{segmentGroup:Zs(new zo(t.segments,function(t,e,n,r){const i={};for(const o of n)Js(t,e,o)&&!r[ta(o)]&&(i[ta(o)]=new zo([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Lt.a)(t=>new zo(o,t))):0===r.length&&0===s.length?Object(Et.a)(new zo(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(Lt.a)(t=>new zo(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Et.a)(new Bs(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Et.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(io.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Lt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Wt.a(e=>e.error(Po(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Et.a)(new Bs([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Et.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Vs(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Vs(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Lo(o)});return Object(Et.a)(i).pipe(Hs(),Object(Tt.a)(t=>{if(!qs(t))return;const e=Po(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Lt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Et.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Qs(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new qo(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Do(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Do(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new zo(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Xs(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Ao)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Zs(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new zo(t.segments.concat(e.segments),e.children)}return t}function Js(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ta(t){return t.outlet||"primary"}class ea{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class na{constructor(t,e){this.component=t,this.route=e}}function ra(t,e,n){const r=t._root;return oa(r,e?e._root:null,n,[r.value])}function ia(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function oa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=fs(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!$o(t.url,e.url);case"pathParamsOrQueryParamsChange":return!$o(t.url,e.url)||!Mo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cs(t,e)||!Mo(t.queryParams,e.queryParams);case"paramsChange":default:return!Cs(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ea(r)):(o.data=s.data,o._resolvedData=s._resolvedData),oa(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new na(a.outlet.component,s))}else s&&sa(e,a,i),i.canActivateChecks.push(new ea(r)),oa(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Do(o,(t,e)=>sa(t,n.getContext(e),i)),i}function sa(t,e,n){const r=fs(t),i=t.value;Do(r,(t,r)=>{sa(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new na(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function aa(t,e){return null!==t&&e&&e(new So(t)),Object(Et.a)(!0)}function ca(t,e){return null!==t&&e&&e(new Co(t)),Object(Et.a)(!0)}function ua(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Et.a)(!0);const i=r.map(r=>Di(()=>{const i=ia(r,e,n);let o;if(function(t){return t&&Vs(t.canActivate)}(i))o=Lo(i.canActivate(e,t));else{if(!Vs(i))throw new Error("Invalid CanActivate guard");o=Lo(i(e,t))}return o.pipe(so())}));return Object(Et.a)(i).pipe(Hs())}function la(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Di(()=>{const i=e.guards.map(i=>{const o=ia(i,e.node,n);let s;if(function(t){return t&&Vs(t.canActivateChild)}(o))s=Lo(o.canActivateChild(r,t));else{if(!Vs(o))throw new Error("Invalid CanActivateChild guard");s=Lo(o(r,t))}return s.pipe(so())});return Object(Et.a)(i).pipe(Hs())}));return Object(Et.a)(i).pipe(Hs())}class ha{}class da{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=ma(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new bs([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ds(n,e),i=new vs(this.url,r);return this.inheritParamsAndData(i._root),Object(Et.a)(i)}catch(PO){return new Wt.a(e=>e.error(PO))}}inheritParamsAndData(t){const e=t.value,n=ys(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Ko(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(PO){if(!(PO instanceof ha))throw PO}if(this.noLeftoversInUrl(e,n,r))return[];throw new ha}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new ha;if((t.outlet||"primary")!==r)throw new ha;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?No(n).parameters:{};i=new bs(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ba(t),r,t.component,t,fa(e),pa(e)+n.length,va(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ha;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Ao)(n,t,e);if(!r)throw new ha;const i={};Do(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new bs(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ba(t),r,t.component,t,fa(e),pa(e)+o.length,va(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=ma(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new ds(i,t)]}if(0===a.length&&0===u.length)return[new ds(i,[])];const l=this.processSegment(a,c,u,"primary");return[new ds(i,l)]}}function fa(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pa(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ma(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>ga(t,e,n)&&"primary"!==ya(n))}(t,n,r)){const i=new zo(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==ya(o)){const n=new zo([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[ya(o)]=n}return i}(t,e,r,new zo(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ga(t,e,n))}(t,n,r)){const o=new zo(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(ga(t,n,a)&&!i[ya(a)]){const n=new zo([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[ya(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new zo(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function ga(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ya(t){return t.outlet||"primary"}function ba(t){return t.data||{}}function va(t){return t.resolve||{}}function _a(t){return function(e){return e.pipe(Qi(e=>{const n=t(e);return n?Object(mi.a)(n).pipe(Object(Lt.a)(()=>e)):Object(mi.a)([e])}))}}class wa extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let Oa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Pb(0,"router-outlet")},directives:function(){return[Fa]},encapsulation:2}),t})();function Ca(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];xa(r,Sa(e,r))}}function xa(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Ca(t.children,e)}function Sa(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ea(t){const e=t.children&&t.children.map(Ea),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Oa),n}const Ta=new r.q("ROUTES");class ka{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Lt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Bs(Ro(r.injector.get(Ta)).map(Ea),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(mi.a)(this.loader.load(t)):Lo(t()).pipe(Object(io.a)(t=>t instanceof r.v?Object(Et.a)(t):Object(mi.a)(this.compiler.compileModuleAsync(t))))}}class Ia{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pa,this.attachRef=null}}class Pa{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ia,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Aa{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ma(t){throw t}function ja(t,e,n){return e.parse("/")}function Ra(t,e){return Object(Et.a)(null)}let Na=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new xt.a,this.errorHandler=Ma,this.malformedUriErrorHandler=ja,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ra,afterPreactivation:Ra},this.urlHandlingStrategy=new Aa,this.routeReuseStrategy=new wa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.ab);const u=o.get(r.z);this.isNgZoneEnabled=u instanceof r.z,this.resetConfig(c),this.currentUrlTree=new qo(new zo([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ka(s,a,t=>this.triggerEvent(new wo(t)),t=>this.triggerEvent(new Oo(t))),this.routerState=ms(this.currentUrlTree,this.rootComponentType),this.transitions=new Si({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Rt(t=>0!==t.id),Object(Lt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Qi(t=>{let n=!1,r=!1;return Object(Et.a)(t).pipe(Object(Tt.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qi(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Et.a)(t).pipe(Qi(t=>{const n=this.transitions.getValue();return e.next(new ho(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ut.a:[t]}),Qi(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Qi(t=>function(t,e,n,r,i){return new Ys(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Lt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Tt.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(io.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new da(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Lt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Tt.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Tt.a)(t=>{const n=new go(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new ho(n,this.serializeUrl(r),i,o);e.next(a);const c=ms(r,this.rootComponentType).snapshot;return Object(Et.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ut.a}),_a(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Tt.a)(t=>{const e=new yo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Lt.a)(t=>Object.assign(Object.assign({},t),{guards:ra(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(io.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(Et.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(mi.a)(t).pipe(Object(io.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Et.a)(!0);const s=o.map(o=>{const s=ia(o,e,i);let a;if(function(t){return t&&Vs(t.canDeactivate)}(s))a=Lo(s.canDeactivate(t,e,n,r));else{if(!Vs(s))throw new Error("Invalid CanDeactivate guard");a=Lo(s(t,e,n,r))}return a.pipe(so())});return Object(Et.a)(s).pipe(Hs())}(t.component,t.route,n,e,r)),so(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(io.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(mi.a)(e).pipe(oo(e=>Object(mi.a)([ca(e.route.parent,r),aa(e.route,r),la(t,e.path,n),ua(t,e.route,n)]).pipe(be(),so(t=>!0!==t,!0))),so(t=>!0!==t,!0))}(r,o,t,e):Object(Et.a)(n)),Object(Lt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Tt.a)(t=>{if(qs(t.guardsResult)){const e=Po(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Tt.a)(t=>{const e=new bo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Rt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new po(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),_a(t=>{if(t.guards.canActivateChecks.length)return Object(Et.a)(t).pipe(Object(Tt.a)(t=>{const e=new vo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Qi(t=>{let n=!1;return Object(Et.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(io.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Et.a)(t);let o=0;return Object(mi.a)(n).pipe(oo(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Et.a)({});const o={};return Object(mi.a)(i).pipe(Object(io.a)(i=>function(t,e,n,r){const i=ia(t,e,r);return Lo(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Tt.a)(t=>{o[i]=t}))),Li(1),Object(io.a)(()=>Object.keys(o).length===i.length?Object(Et.a)(o):Ut.a))}(t._resolve,t,e,r).pipe(Object(Lt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ys(t,n).resolve),null)))}(t.route,e,r,i)),Object(Tt.a)(()=>o++),Li(1),Object(io.a)(e=>o===n.length?Object(Et.a)(t):Ut.a))}))}),Object(Tt.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new po(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Tt.a)(t=>{const e=new _o(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),_a(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Lt.a)(t=>{const e=function(t,e,n){const r=xs(t,e._root,n?n._root:void 0);return new ps(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Tt.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(Lt.a)(t=>(new Fs(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(Tt.a)({next(){n=!0},complete(){n=!0}}),ao(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new po(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),eo(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=qs(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new po(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new mo(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(tp){t.reject(tp)}}var i;return Ut.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ca(t),this.config=t.map(Ea),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:c}=e;Object(r.X)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=c?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return ks(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ps(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Do(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Ps(n,e,r)}(n);if(o.toRoot())return ks(e.root,new zo([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new As(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new As(t,t===e.root,0)}const r=Es(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new As(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?js(s.segmentGroup,s.index,o.commands):Ms(s.segmentGroup,s.index,o.commands);return ks(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.X)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=qs(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(PO){e=this.malformedUriErrorHandler(PO,this.urlSerializer,t)}return e}isActive(t,e){if(qs(t))return Fo(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Fo(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new fo(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.N),r.cc(Go),r.cc(Pa),r.cc(O),r.cc(r.r),r.cc(r.w),r.cc(r.i),r.cc(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),Da=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new xt.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(r.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:La(this.skipLocationChange),replaceUrl:La(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:La(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:La(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Na),r.Ob(gs),r.dc("tabindex"),r.Ob(r.E),r.Ob(r.l))},t.\u0275dir=r.Jb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.fc("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.zb]}),t})();function La(t){return""===t||!!t}let Fa=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ua(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Pa),r.Ob(r.Q),r.Ob(r.j),r.dc("name"),r.Ob(r.h))},t.\u0275dir=r.Jb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ua{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===gs?this.route:t===Pa?this.childContexts:this.parent.get(t,e)}}class Ba{}class Va{preload(t,e){return Object(Et.a)(null)}}let qa=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ka(e,n,e=>t.triggerEvent(new wo(e)),e=>t.triggerEvent(new Oo(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Rt(t=>t instanceof fo),oo(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(mi.a)(n).pipe(Object(ye.a)(),Object(Lt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(io.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Na),r.cc(r.w),r.cc(r.i),r.cc(r.r),r.cc(Ba))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})(),za=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ho?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof To&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new To(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Na),r.cc(F),r.cc(void 0))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const Ha=new r.q("ROUTER_CONFIGURATION"),$a=new r.q("ROUTER_FORROOT_GUARD"),Ka=[O,{provide:Go,useClass:Wo},{provide:Na,useFactory:function(t,e,n,r,i,o,a,c={},u,l){const h=new Na(null,t,e,n,r,i,o,Ro(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[Go,Pa,O,r.r,r.w,r.i,Ta,Ha,[class{},new r.A],[class{},new r.A]]},Pa,{provide:gs,useFactory:function(t){return t.routerState.root},deps:[Na]},{provide:r.w,useClass:r.K},qa,Va,class{preload(t,e){return e().pipe(eo(()=>Object(Et.a)(null)))}},{provide:Ha,useValue:{enableTracing:!1}}];function Ga(){return new r.y("Router",Na)}let Wa=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ka,Za(e),{provide:$a,useFactory:Xa,deps:[[Na,new r.A,new r.J]]},{provide:Ha,useValue:n||{}},{provide:y,useFactory:Ya,deps:[c,[new r.p(v),new r.A],Ha]},{provide:za,useFactory:Qa,deps:[Na,F,Ha]},{provide:Ba,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Va},{provide:r.y,multi:!0,useFactory:Ga},[Ja,{provide:r.d,multi:!0,useFactory:tc,deps:[Ja]},{provide:nc,useFactory:ec,deps:[Ja]},{provide:r.b,multi:!0,useExisting:nc}]]}}static forChild(e){return{ngModule:t,providers:[Za(e)]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)(r.cc($a,8),r.cc(Na,8))}}),t})();function Qa(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new za(t,e,n)}function Ya(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function Xa(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Za(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Ta,multi:!0,useValue:t}]}let Ja=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new xt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Na),r=this.injector.get(Ha);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(Et.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Ha),n=this.injector.get(qa),i=this.injector.get(za),o=this.injector.get(Na),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.r))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();function tc(t){return t.appInitializer.bind(t)}function ec(t){return t.bootstrapListener.bind(t)}const nc=new r.q("Router Initializer");function rc(){return t=>t.lift(new ic)}class ic{call(t,e){return e.subscribe(new oc(t))}}class oc extends kt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function sc(t,e){return n=>n.lift(new ac(t,e))}class ac{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new cc(t,this.compare,this.keySelector))}}class cc extends kt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var uc=n("pxpQ"),lc=n("jmUF"),hc=n("Jgta"),dc=n("zIRd"),fc=n("mrSG"),pc=n("qOnz"),mc=n("q/0M"),gc=function(t,e){return(gc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function yc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var bc,vc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_c=_c||{},wc=vc||self;function Oc(){}function Cc(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function xc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Sc="closure_uid_"+(1e9*Math.random()>>>0),Ec=0;function Tc(t,e,n){return t.call.apply(t.bind,arguments)}function kc(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ic(t,e,n){return(Ic=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tc:kc).apply(null,arguments)}function Pc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ac(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Mc(){this.s=this.s,this.o=this.o}var jc={};Mc.prototype.s=!1,Mc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Sc)&&t[Sc]||(t[Sc]=++Ec)}(this);delete jc[t]}},Mc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Rc=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Nc=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Dc(t){return Array.prototype.concat.apply([],arguments)}function Lc(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Fc(t){return/^[\s\xa0]*$/.test(t)}var Uc,Bc=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Vc(t,e){return-1!=t.indexOf(e)}function qc(t,e){return t<e?-1:t>e?1:0}t:{var zc=wc.navigator;if(zc){var Hc=zc.userAgent;if(Hc){Uc=Hc;break t}}Uc=""}function $c(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Kc(t){var e={};for(var n in t)e[n]=t[n];return e}var Gc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wc(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Gc.length;o++)n=Gc[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qc(t){return Qc[" "](t),t}Qc[" "]=Oc;var Yc,Xc,Zc=Vc(Uc,"Opera"),Jc=Vc(Uc,"Trident")||Vc(Uc,"MSIE"),tu=Vc(Uc,"Edge"),eu=tu||Jc,nu=Vc(Uc,"Gecko")&&!(Vc(Uc.toLowerCase(),"webkit")&&!Vc(Uc,"Edge"))&&!(Vc(Uc,"Trident")||Vc(Uc,"MSIE"))&&!Vc(Uc,"Edge"),ru=Vc(Uc.toLowerCase(),"webkit")&&!Vc(Uc,"Edge");function iu(){var t=wc.document;return t?t.documentMode:void 0}t:{var ou="",su=(Xc=Uc,nu?/rv:([^\);]+)(\)|;)/.exec(Xc):tu?/Edge\/([\d\.]+)/.exec(Xc):Jc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Xc):ru?/WebKit\/(\S+)/.exec(Xc):Zc?/(?:Version)[ \/]?(\S+)/.exec(Xc):void 0);if(su&&(ou=su?su[1]:""),Jc){var au=iu();if(null!=au&&au>parseFloat(ou)){Yc=String(au);break t}}Yc=ou}var cu={};var uu=wc.document&&Jc&&(iu()||parseInt(Yc,10))||void 0,lu=function(){if(!wc.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{wc.addEventListener("test",Oc,e),wc.removeEventListener("test",Oc,e)}catch(n){}return t}();function hu(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function du(t,e){if(hu.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(nu){t:{try{Qc(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:fu[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&du.Z.h.call(this)}}hu.prototype.h=function(){this.defaultPrevented=!0},Ac(du,hu);var fu={2:"touch",3:"pen",4:"mouse"};du.prototype.h=function(){du.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var pu="closure_listenable_"+(1e6*Math.random()|0),mu=0;function gu(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++mu,this.ca=this.fa=!1}function yu(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function bu(t){this.src=t,this.g={},this.h=0}function vu(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Rc(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(yu(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function _u(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}bu.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=_u(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new gu(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var wu="closure_lm_"+(1e6*Math.random()|0),Ou={};function Cu(t,e,n,r,i){if(r&&r.once)return Su(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Cu(t,e[o],n,r,i);return null}return n=Mu(n),t&&t[pu]?t.N(e,n,xc(r)?!!r.capture:!!r,i):xu(t,e,n,!1,r,i)}function xu(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=xc(i)?!!i.capture:!!i,a=Pu(t);if(a||(t[wu]=a=new bu(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Iu;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)lu||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(ku(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Su(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Su(t,e[o],n,r,i);return null}return n=Mu(n),t&&t[pu]?t.O(e,n,xc(r)?!!r.capture:!!r,i):xu(t,e,n,!0,r,i)}function Eu(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Eu(t,e[o],n,r,i);else r=xc(r)?!!r.capture:!!r,n=Mu(n),t&&t[pu]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=_u(o=t.g[e],n,r,i))&&(yu(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Pu(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_u(e,n,r,i)),(n=-1<t?e[t]:null)&&Tu(n))}function Tu(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[pu])vu(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(ku(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Pu(e))?(vu(n,t),0==n.h&&(n.src=null,e[wu]=null)):yu(t)}}}function ku(t){return t in Ou?Ou[t]:Ou[t]="on"+t}function Iu(t,e){if(t.ca)t=!0;else{e=new du(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Tu(t),t=n.call(r,e)}return t}function Pu(t){return(t=t[wu])instanceof bu?t:null}var Au="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mu(t){return"function"==typeof t?t:(t[Au]||(t[Au]=function(e){return t.handleEvent(e)}),t[Au])}function ju(){Mc.call(this),this.i=new bu(this),this.P=this,this.I=null}function Ru(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new hu(e,t);else if(e instanceof hu)e.target=e.target||t;else{var i=e;Wc(e=new hu(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Nu(s,r,!0,e)&&i}if(i=Nu(s=e.g=t,r,!0,e)&&i,i=Nu(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Nu(s=e.g=n[o],r,!1,e)&&i}function Nu(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,c=s.ia||s.src;s.fa&&vu(t.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Ac(ju,Mc),ju.prototype[pu]=!0,ju.prototype.removeEventListener=function(t,e,n,r){Eu(this,t,e,n,r)},ju.prototype.M=function(){if(ju.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)yu(n[r]);delete e.g[t],e.h--}}this.I=null},ju.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ju.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Du=wc.JSON.stringify;function Lu(){var t=$u,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Fu,Uu=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Bu.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Bu=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())((function(){return new Vu}),(function(t){return t.reset()})),Vu=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function qu(t){wc.setTimeout((function(){throw t}),0)}function zu(t,e){Fu||function(){var t=wc.Promise.resolve(void 0);Fu=function(){t.then(Ku)}}(),Hu||(Fu(),Hu=!0),$u.add(t,e)}var Hu=!1,$u=new Uu;function Ku(){for(var t;t=Lu();){try{t.h.call(t.g)}catch(n){qu(n)}var e=Bu;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Hu=!1}function Gu(t,e){ju.call(this),this.h=t||1,this.g=e||wc,this.j=Ic(this.kb,this),this.l=Date.now()}function Wu(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Qu(t,e,n){if("function"==typeof t)n&&(t=Ic(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ic(t.handleEvent,t)}return 2147483647<Number(e)?-1:wc.setTimeout(t,e||0)}function Yu(t){t.g=Qu((function(){t.g=null,t.i&&(t.i=!1,Yu(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Ac(Gu,ju),(bc=Gu.prototype).da=!1,bc.S=null,bc.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ru(this,"tick"),this.da&&(Wu(this),this.start()))}},bc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},bc.M=function(){Gu.Z.M.call(this),Wu(this),delete this.g};var Xu=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}gc(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Yu(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(wc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Mc);function Zu(t){Mc.call(this),this.h=t,this.g={}}Ac(Zu,Mc);var Ju=[];function tl(t,e,n,r){Array.isArray(n)||(n&&(Ju[0]=n.toString()),n=Ju);for(var i=0;i<n.length;i++){var o=Cu(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function el(t){$c(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Tu(t)}),t),t.g={}}function nl(){this.g=!0}function rl(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Du(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}Zu.prototype.M=function(){Zu.Z.M.call(this),el(this)},Zu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nl.prototype.Aa=function(){this.g=!1},nl.prototype.info=function(){};var il={},ol=null;function sl(){return ol=ol||new ju}function al(t){hu.call(this,il.Ma,t)}function cl(t){var e=sl();Ru(e,new al(e,t))}function ul(t,e){hu.call(this,il.STAT_EVENT,t),this.stat=e}function ll(t){var e=sl();Ru(e,new ul(e,t))}function hl(t,e){hu.call(this,il.Na,t),this.size=e}function dl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return wc.setTimeout((function(){t()}),e)}il.Ma="serverreachability",Ac(al,hu),il.STAT_EVENT="statevent",Ac(ul,hu),il.Na="timingevent",Ac(hl,hu);var fl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ml(){}function gl(){}ml.prototype.h=null;var yl,bl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vl(){hu.call(this,"d")}function _l(){hu.call(this,"c")}function wl(){}function Ol(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Zu(this),this.P=xl,this.W=new Gu(t=eu?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Cl}function Cl(){this.i=null,this.g="",this.h=!1}Ac(vl,hu),Ac(_l,hu),Ac(wl,ml),wl.prototype.g=function(){return new XMLHttpRequest},wl.prototype.i=function(){return{}},yl=new wl;var xl=45e3,Sl={},El={};function Tl(t,e,n){t.K=1,t.v=Yl(Hl(e)),t.s=n,t.U=!0,kl(t,null)}function kl(t,e){t.F=Date.now(),Ml(t),t.A=Hl(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),uh(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Cl,t.g=ld(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Xu(Ic(t.Ia,t,t.g),t.O)),tl(t.V,t.g,"readystatechange",t.gb),e=t.H?Kc(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),cl(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Il(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Pl(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Al(t,n))==El){4==e&&(t.o=4,ll(14),i=!1),rl(t.j,t.m,null,"[Incomplete Response]");break}if(r==Sl){t.o=4,ll(15),rl(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}rl(t.j,t.m,r,null),Ll(t,r)}Il(t)&&r!=El&&r!=Sl&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ll(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nd(e),e.L=!0,ll(11))):(rl(t.j,t.m,n,"[Invalid Chunked Response]"),Dl(t),Nl(t))}function Al(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?El:(n=Number(e.substring(n,r)),isNaN(n)?Sl:(r+=1)+n>e.length?El:(e=e.substr(r,n),t.C=r+n,e))}function Ml(t){t.Y=Date.now()+t.P,jl(t,t.P)}function jl(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=dl(Ic(t.eb,t),e)}function Rl(t){t.B&&(wc.clearTimeout(t.B),t.B=null)}function Nl(t){0==t.l.G||t.I||od(t.l,t)}function Dl(t){Rl(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Wu(t.W),el(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ll(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||gh(n.i,t)))if(n.I=t.N,!t.J&&gh(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;id(n),Gh(n)}ed(n),ll(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=dl(Ic(n.ab,n),6e3));if(1>=mh(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else ad(n,11)}else if((t.J||n.g==t)&&id(n),!Fc(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var c=o[5];null!=c&&"number"==typeof c&&0<c&&(n.K=r=1.5*c,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=t.g;if(u){var l=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(Vc(l,"spdy")||Vc(l,"quic")||Vc(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(yh(h,h.h),h.h=null))}if(r.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Ql(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=ud(r,r.H?r.la:null,r.W),f.J){bh(r.i,f);var p=f,m=r.K;m&&p.setTimeout(m),p.B&&(Rl(p),Ml(p)),r.g=f}else td(r);0<n.l.length&&Yh(n)}else"stop"!=o[0]&&"close"!=o[0]||ad(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?ad(n,7):Kh(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}cl(4)}catch(o){}}function Fl(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Cc(t)||"string"==typeof t)Nc(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Cc(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Cc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ul(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ul)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Bl(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Vl(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Vl(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Vl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(bc=Ol.prototype).setTimeout=function(t){this.P=t},bc.gb=function(t){t=t.target;var e=this.L;e&&3==Vh(t)?e.l():this.Ia(t)},bc.Ia=function(t){try{if(t==this.g)t:{var e=Vh(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||eu||this.g&&(this.h.h||this.g.ga()||qh(this.g)))){this.I||4!=e||7==n||cl(8==n||0>=r?3:2),Rl(this);var i=this.g.ba();this.N=i;e:if(Il(this)){var o=qh(this.g);t="";var s=o.length,a=4==Vh(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Dl(this),Nl(this);var c="";break e}this.h.i=new wc.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fc(u)){var h=u;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,ll(12),Dl(this),Nl(this);break t}rl(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ll(this,i)}this.U?(Pl(this,e,c),eu&&this.i&&3==e&&(tl(this.V,this.W,"tick",this.fb),this.W.start())):(rl(this.j,this.m,c,null),Ll(this,c)),4==e&&Dl(this),this.i&&!this.I&&(4==e?od(this.l,this):(this.i=!1,Ml(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,ll(12)):(this.o=0,ll(13)),Dl(this),Nl(this)}}}catch(e){}},bc.fb=function(){if(this.g){var t=Vh(this.g),e=this.g.ga();this.C<e.length&&(Rl(this),Pl(this,t,e),this.i&&4!=t&&Ml(this))}},bc.cancel=function(){this.I=!0,Dl(this)},bc.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(cl(3),ll(17)),Dl(this),this.o=2,Nl(this)):jl(this,this.Y-t)},(bc=Ul.prototype).R=function(){Bl(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},bc.T=function(){return Bl(this),this.g.concat()},bc.get=function(t,e){return Vl(this.h,t)?this.h[t]:e},bc.set=function(t,e){Vl(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},bc.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ql=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zl(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof zl){this.g=void 0!==e?e:t.g,$l(this,t.j),this.s=t.s,Kl(this,t.i),Gl(this,t.m),this.l=t.l,e=t.h;var n=new oh;n.i=e.i,e.g&&(n.g=new Ul(e.g),n.h=e.h),Wl(this,n),this.o=t.o}else t&&(n=String(t).match(ql))?(this.g=!!e,$l(this,n[1]||"",!0),this.s=Xl(n[2]||""),Kl(this,n[3]||"",!0),Gl(this,n[4]),this.l=Xl(n[5]||"",!0),Wl(this,n[6]||"",!0),this.o=Xl(n[7]||"")):(this.g=!!e,this.h=new oh(null,this.g))}function Hl(t){return new zl(t)}function $l(t,e,n){t.j=n?Xl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Kl(t,e,n){t.i=n?Xl(e,!0):e}function Gl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Wl(t,e,n){e instanceof oh?(t.h=e,function(t,e){e&&!t.j&&(sh(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ah(this,e),uh(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=Zl(e,rh)),t.h=new oh(e,t.g))}function Ql(t,e,n){t.h.set(e,n)}function Yl(t){return Ql(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Xl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Jl),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jl(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}zl.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Zl(e,th,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Zl(e,th,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Zl(n,"/"==n.charAt(0)?nh:eh,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Zl(n,ih)),t.join("")};var th=/[#\/\?@]/g,eh=/[#\?:]/g,nh=/[#\?]/g,rh=/[#\?@]/g,ih=/#/g;function oh(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function sh(t){t.g||(t.g=new Ul,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function ah(t,e){sh(t),e=lh(t,e),Vl(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Vl((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Bl(t)))}function ch(t,e){return sh(t),e=lh(t,e),Vl(t.g.h,e)}function uh(t,e,n){ah(t,e),0<n.length&&(t.i=null,t.g.set(lh(t,e),Lc(n)),t.h+=n.length)}function lh(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(bc=oh.prototype).add=function(t,e){sh(this),this.i=null,t=lh(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},bc.forEach=function(t,e){sh(this),this.g.forEach((function(n,r){Nc(n,(function(n){t.call(e,n,r,this)}),this)}),this)},bc.T=function(){sh(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},bc.R=function(t){sh(this);var e=[];if("string"==typeof t)ch(this,t)&&(e=Dc(e,this.g.get(lh(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Dc(e,t[n])}return e},bc.set=function(t,e){return sh(this),this.i=null,ch(this,t=lh(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},bc.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},bc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var hh=function(){return function(t,e){this.h=t,this.g=e}}();function dh(t){this.l=t||fh,t=wc.PerformanceNavigationTiming?0<(t=wc.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(wc.g&&wc.g.Ea&&wc.g.Ea()&&wc.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fh=10;function ph(t){return!!t.h||!!t.g&&t.g.size>=t.j}function mh(t){return t.h?1:t.g?t.g.size:0}function gh(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function yh(t,e){t.g?t.g.add(e):t.h=e}function bh(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function vh(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=yc(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Lc(t.i)}function _h(){}function wh(){this.g=new _h}function Oh(t,e,n){var r=n||"";try{Fl(t,(function(t,n){var i=t;xc(t)&&(i=Du(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(PO){throw e.push(r+"type="+encodeURIComponent("_badmap")),PO}}function Ch(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function xh(t){this.l=t.$b||null,this.j=t.ib||!1}function Sh(t,e){ju.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Eh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dh.prototype.cancel=function(){var t,e;if(this.i=vh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=yc(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},_h.prototype.stringify=function(t){return wc.JSON.stringify(t,void 0)},_h.prototype.parse=function(t){return wc.JSON.parse(t,void 0)},Ac(xh,ml),xh.prototype.g=function(){return new Sh(this.l,this.j)},xh.prototype.i=function(t){return function(){return t}}({}),Ac(Sh,ju);var Eh=0;function Th(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function kh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ih(t)}function Ih(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(bc=Sh.prototype).open=function(t,e){if(this.readyState!=Eh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ih(this)},bc.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||wc).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},bc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kh(this)),this.readyState=Eh},bc.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ih(this)),this.g&&(this.readyState=3,Ih(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==wc.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Th(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},bc.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?kh(this):Ih(this),3==this.readyState&&Th(this)}},bc.Ua=function(t){this.g&&(this.response=this.responseText=t,kh(this))},bc.Ta=function(t){this.g&&(this.response=t,kh(this))},bc.ha=function(){this.g&&kh(this)},bc.setRequestHeader=function(t,e){this.v.append(t,e)},bc.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},bc.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Sh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Ph=wc.JSON.parse;function Ah(t){ju.call(this),this.headers=new Ul,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mh,this.K=this.L=!1}Ac(Ah,ju);var Mh="",jh=/^https?$/i,Rh=["POST","PUT"];function Nh(t){return"content-type"==t.toLowerCase()}function Dh(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Lh(t),Uh(t)}function Lh(t){t.D||(t.D=!0,Ru(t,"complete"),Ru(t,"error"))}function Fh(t){if(t.h&&void 0!==_c&&(!t.C[1]||4!=Vh(t)||2!=t.ba()))if(t.v&&4==Vh(t))Qu(t.Fa,0,t);else if(Ru(t,"readystatechange"),4==Vh(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(ql)[1]||null;if(!o&&wc.self&&wc.self.location){var s=wc.self.location.protocol;o=s.substr(0,s.length-1)}i=!jh.test(o?o.toLowerCase():"")}e=i}if(e)Ru(t,"complete"),Ru(t,"success");else{t.m=6;try{var a=2<Vh(t)?t.g.statusText:""}catch(c){a=""}t.j=a+" ["+t.ba()+"]",Lh(t)}}finally{Uh(t)}}}function Uh(t,e){if(t.g){Bh(t);var n=t.g,r=t.C[0]?Oc:null;t.g=null,t.C=null,e||Ru(t,"ready");try{n.onreadystatechange=r}catch(PO){}}}function Bh(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(wc.clearTimeout(t.A),t.A=null)}function Vh(t){return t.g?t.g.readyState:0}function qh(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Mh:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function zh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return $c(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ql(t,e,n))}function Hh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function $h(t){this.za=0,this.l=[],this.h=new nl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hh("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hh("baseRetryDelayMs",5e3,t),this.$a=Hh("retryDelaySeedMs",1e4,t),this.Ya=Hh("forwardChannelMaxRetries",2,t),this.ra=Hh("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new dh(t&&t.concurrentRequestLimit),this.Ca=new wh,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Kh(t){if(Wh(t),3==t.G){var e=t.V++,n=Hl(t.F);Ql(n,"SID",t.J),Ql(n,"RID",e),Ql(n,"TYPE","terminate"),Zh(t,n),(e=new Ol(t,t.h,e,void 0)).K=2,e.v=Yl(Hl(n)),n=!1,wc.navigator&&wc.navigator.sendBeacon&&(n=wc.navigator.sendBeacon(e.v.toString(),"")),!n&&wc.Image&&((new Image).src=e.v,n=!0),n||(e.g=ld(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ml(e)}cd(t)}function Gh(t){t.g&&(nd(t),t.g.cancel(),t.g=null)}function Wh(t){Gh(t),t.u&&(wc.clearTimeout(t.u),t.u=null),id(t),t.i.cancel(),t.m&&("number"==typeof t.m&&wc.clearTimeout(t.m),t.m=null)}function Qh(t,e){t.l.push(new hh(t.Za++,e)),3==t.G&&Yh(t)}function Yh(t){ph(t.i)||t.m||(t.m=!0,zu(t.Ha,t),t.C=0)}function Xh(t,e){var n;n=e?e.m:t.V++;var r=Hl(t.F);Ql(r,"SID",t.J),Ql(r,"RID",n),Ql(r,"AID",t.U),Zh(t,r),t.o&&t.s&&zh(r,t.o,t.s),n=new Ol(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Jh(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),yh(t.i,n),Tl(n,r,e)}function Zh(t,e){t.j&&Fl({},(function(t,n){Ql(e,n,t)}))}function Jh(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ic(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var u=i[c].h,l=i[c].g;if(0>(u-=o))o=Math.max(0,i[c].h-100),a=!1;else try{Oh(l,s,"req"+u+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function td(t){t.g||t.u||(t.Y=1,zu(t.Ga,t),t.A=0)}function ed(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=dl(Ic(t.Ga,t),sd(t,t.A)),t.A++,0))}function nd(t){null!=t.B&&(wc.clearTimeout(t.B),t.B=null)}function rd(t){t.g=new Ol(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Hl(t.oa);Ql(e,"RID","rpc"),Ql(e,"SID",t.J),Ql(e,"CI",t.N?"0":"1"),Ql(e,"AID",t.U),Zh(t,e),Ql(e,"TYPE","xmlhttp"),t.o&&t.s&&zh(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Yl(Hl(e)),n.s=null,n.U=!0,kl(n,t)}function id(t){null!=t.v&&(wc.clearTimeout(t.v),t.v=null)}function od(t,e){var n=null;if(t.g==e){id(t),nd(t),t.g=null;var r=2}else{if(!gh(t.i,e))return;n=e.D,bh(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ru(r=sl(),new hl(r,n,e,i)),Yh(t)}else td(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(mh(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=dl(Ic(t.Ha,t,e),sd(t,t.C)),t.C++,0)))}(t,e)||2==r&&ed(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ad(t,5);break;case 4:ad(t,10);break;case 3:ad(t,6);break;default:ad(t,2)}}function sd(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function ad(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Ic(t.jb,t);n||(n=new zl("//www.google.com/images/cleardot.gif"),wc.location&&"http"==wc.location.protocol||$l(n,"https"),Yl(n)),function(t,e){var n=new nl;if(wc.Image){var r=new Image;r.onload=Pc(Ch,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Pc(Ch,n,r,"TestLoadImage: error",!1,e),r.onabort=Pc(Ch,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pc(Ch,n,r,"TestLoadImage: timeout",!1,e),wc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ll(2);t.G=0,t.j&&t.j.va(e),cd(t),Wh(t)}function cd(t){t.G=0,t.I=-1,t.j&&(0==vh(t.i).length&&0==t.l.length||(t.i.i.length=0,Lc(t.l),t.l.length=0),t.j.ua())}function ud(t,e,n){var r=function(t){return t instanceof zl?Hl(t):new zl(t,void 0)}(n);if(""!=r.i)e&&Kl(r,e+"."+r.i),Gl(r,r.m);else{var i=wc.location;r=function(t,e,n,r){var i=new zl(null,void 0);return t&&$l(i,t),e&&Kl(i,e),n&&Gl(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&$c(t.aa,(function(t,e){Ql(r,e,t)})),n=t.sa,(e=t.D)&&n&&Ql(r,e,n),Ql(r,"VER",t.ma),Zh(t,r),r}function ld(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ah(n&&t.Ba&&!t.qa?new xh({ib:!0}):t.qa)).L=t.H,e}function hd(){}function dd(){if(Jc&&!(10<=Number(uu)))throw Error("Environmental error: no available transport.")}function fd(t,e){ju.call(this),this.g=new $h(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Fc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fc(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new gd(this)}function pd(t){vl.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function md(){_l.call(this),this.status=1}function gd(t){this.g=t}(bc=Ah.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yl.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:yl),this.g.onreadystatechange=Ic(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Dh(this,o)}t=n||"";var i=new Ul(this.headers);r&&Fl(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Nh,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=wc.FormData&&t instanceof wc.FormData,!(0<=Rc(Rh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bh(this),0<this.B&&((this.K=function(t){return Jc&&function(){return t=cu,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Bc(String(Yc)).split("."),n=Bc("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=qc(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||qc(0==o[2].length,0==s[2].length)||qc(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ic(this.pa,this)):this.A=Qu(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Dh(this,o)}},bc.pa=function(){void 0!==_c&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ru(this,"timeout"),this.abort(8))},bc.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ru(this,"complete"),Ru(this,"abort"),Uh(this))},bc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uh(this,!0)),Ah.Z.M.call(this)},bc.Fa=function(){this.s||(this.F||this.v||this.l?Fh(this):this.cb())},bc.cb=function(){Fh(this)},bc.ba=function(){try{return 2<Vh(this)?this.g.status:-1}catch(Xc){return-1}},bc.ga=function(){try{return this.g?this.g.responseText:""}catch(Xc){return""}},bc.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Ph(e)}},bc.Da=function(){return this.m},bc.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(bc=$h.prototype).ma=8,bc.G=1,bc.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},bc.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ol(this,this.h,t,void 0),n=this.s;if(this.P&&(n?Wc(n=Kc(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Jh(this,e,r),Ql(i=Hl(this.F),"RID",t),Ql(i,"CVER",22),this.D&&Ql(i,"X-HTTP-Session-Id",this.D),Zh(this,i),this.o&&n&&zh(i,this.o,n),yh(this.i,e),this.Ra&&Ql(i,"TYPE","init"),this.ja?(Ql(i,"$req",r),Ql(i,"SID","null"),e.$=!0,Tl(e,i,null)):Tl(e,i,r),this.G=2}}else 3==this.G&&(t?Xh(this,t):0==this.l.length||ph(this.i)||Xh(this))},bc.Ga=function(){if(this.u=null,rd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=dl(Ic(this.bb,this),t)}},bc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ll(10),Gh(this),rd(this))},bc.ab=function(){null!=this.v&&(this.v=null,Gh(this),ed(this),ll(19))},bc.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ll(2)):(this.h.info("Failed to ping google.com"),ll(1))},(bc=hd.prototype).xa=function(){},bc.wa=function(){},bc.va=function(){},bc.ua=function(){},bc.Oa=function(){},dd.prototype.g=function(t,e){return new fd(t,e)},Ac(fd,ju),fd.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),zu(Ic(t.hb,t,e))),ll(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=ud(t,null,t.W),Yh(t)},fd.prototype.close=function(){Kh(this.g)},fd.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Qh(this.g,e)}else this.v?((e={}).__data__=Du(t),Qh(this.g,e)):Qh(this.g,t)},fd.prototype.M=function(){this.g.j=null,delete this.j,Kh(this.g),delete this.g,fd.Z.M.call(this)},Ac(pd,vl),Ac(md,_l),Ac(gd,hd),gd.prototype.xa=function(){Ru(this.g,"a")},gd.prototype.wa=function(t){Ru(this.g,new pd(t))},gd.prototype.va=function(t){Ru(this.g,new md(t))},gd.prototype.ua=function(){Ru(this.g,"b")},dd.prototype.createWebChannel=dd.prototype.g,fd.prototype.send=fd.prototype.u,fd.prototype.open=fd.prototype.m,fd.prototype.close=fd.prototype.close,fl.NO_ERROR=0,fl.TIMEOUT=8,fl.HTTP_ERROR=6,pl.COMPLETE="complete",gl.EventType=bl,bl.OPEN="a",bl.CLOSE="b",bl.ERROR="c",bl.MESSAGE="d",ju.prototype.listen=ju.prototype.N,Ah.prototype.listenOnce=Ah.prototype.O,Ah.prototype.getLastError=Ah.prototype.La,Ah.prototype.getLastErrorCode=Ah.prototype.Da,Ah.prototype.getStatus=Ah.prototype.ba,Ah.prototype.getResponseJson=Ah.prototype.Qa,Ah.prototype.getResponseText=Ah.prototype.ga,Ah.prototype.send=Ah.prototype.ea;var yd=fl,bd=pl,vd=il,_d=xh,wd=gl,Od=Ah,Cd=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Cd.o=-1;var xd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Sd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(fc.c)(e,t),e}(Error),Ed=new mc.b("@firebase/firestore");function Td(){return Ed.logLevel}function kd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ed.logLevel<=mc.a.DEBUG){var r=e.map(Ad);Ed.debug.apply(Ed,Object(fc.f)(["Firestore (8.8.1): "+t],r))}}function Id(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ed.logLevel<=mc.a.ERROR){var r=e.map(Ad);Ed.error.apply(Ed,Object(fc.f)(["Firestore (8.8.1): "+t],r))}}function Pd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ed.logLevel<=mc.a.WARN){var r=e.map(Ad);Ed.warn.apply(Ed,Object(fc.f)(["Firestore (8.8.1): "+t],r))}}function Ad(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(PO){return t}}function Md(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+t;throw Id(e),new Error(e)}function jd(t,e){t||Md()}function Rd(t,e){return t}function Nd(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Dd=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Nd(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ld(t,e){return t<e?-1:t>e?1:0}function Fd(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ud(t){return t+"\0"}var Bd=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Sd(xd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Sd(xd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Sd(xd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Sd(xd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Ld(this.nanoseconds,t.nanoseconds):Ld(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Vd=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Bd(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function qd(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zd(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hd(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $d=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Md(),void 0===n?n=t.length-e:n>t.length-e&&Md(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Kd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Sd(xd.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}($d),Gd=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Gd.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Sd(xd.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Sd(xd.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Sd(xd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Sd(xd.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}($d),Qd=function(){function t(t){this.fields=t,t.sort(Wd.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Fd(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Yd=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Ld(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Yd.EMPTY_BYTE_STRING=new Yd("");var Xd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zd(t){if(jd(!!t),"string"==typeof t){var e=0,n=Xd.exec(t);if(jd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Jd(t.seconds),nanos:Jd(t.nanos)}}function Jd(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function tf(t){return"string"==typeof t?Yd.fromBase64String(t):Yd.fromUint8Array(t)}function ef(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function nf(t){var e=t.mapValue.fields.__previous_value__;return ef(e)?nf(e):e}function rf(t){var e=Zd(t.mapValue.fields.__local_write_time__.timestampValue);return new Bd(e.seconds,e.nanos)}function of(t){return null==t}function sf(t){return 0===t&&1/t==-1/0}function af(t){return"number"==typeof t&&Number.isInteger(t)&&!sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var cf=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Kd.fromString(e))},t.fromName=function(e){return new t(Kd.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Kd.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Kd.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Kd(e.slice()))},t}();function uf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ef(t)?4:10:Md()}function lf(t,e){var n=uf(t);if(n!==uf(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rf(t).isEqual(rf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Zd(t.timestampValue),r=Zd(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return tf(t.bytesValue).isEqual(tf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Jd(t.geoPointValue.latitude)===Jd(e.geoPointValue.latitude)&&Jd(t.geoPointValue.longitude)===Jd(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Jd(t.integerValue)===Jd(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Jd(t.doubleValue),r=Jd(e.doubleValue);return n===r?sf(n)===sf(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Fd(t.arrayValue.values||[],e.arrayValue.values||[],lf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(qd(n)!==qd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!lf(n[i],r[i])))return!1;return!0}(t,e);default:return Md()}}function hf(t,e){return void 0!==(t.values||[]).find((function(t){return lf(t,e)}))}function df(t,e){var n=uf(t),r=uf(e);if(n!==r)return Ld(n,r);switch(n){case 0:return 0;case 1:return Ld(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Jd(t.integerValue||t.doubleValue),r=Jd(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ff(t.timestampValue,e.timestampValue);case 4:return ff(rf(t),rf(e));case 5:return Ld(t.stringValue,e.stringValue);case 6:return function(t,e){var n=tf(t),r=tf(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ld(n[i],r[i]);if(0!==o)return o}return Ld(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ld(Jd(t.latitude),Jd(e.latitude));return 0!==n?n:Ld(Jd(t.longitude),Jd(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=df(n[i],r[i]);if(o)return o}return Ld(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Ld(r[s],o[s]);if(0!==a)return a;var c=df(n[r[s]],i[o[s]]);if(0!==c)return c}return Ld(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Md()}}function ff(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ld(t,e);var n=Zd(t),r=Zd(e),i=Ld(n.seconds,r.seconds);return 0!==i?i:Ld(n.nanos,r.nanos)}function pf(t){return mf(t)}function mf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Zd(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?tf(t.bytesValue).toBase64():"referenceValue"in t?cf.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=mf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+mf(t.fields[o])}return e+"}"}(t.mapValue):Md();var e}function gf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function yf(t){return!!t&&"integerValue"in t}function bf(t){return!!t&&"arrayValue"in t}function vf(t){return!!t&&"nullValue"in t}function _f(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wf(t){return!!t&&"mapValue"in t}function Of(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return zd(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Of(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Of(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Cf=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!wf(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Of(e)},t.prototype.setAll=function(t){var e=this,n=Wd.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Of(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());wf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return lf(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];wf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){zd(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Of(this.value))},t}();function xf(t){var e=[];return zd(t.fields,(function(t,n){var r=new Wd([t]);if(wf(n)){var i=xf(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new Qd(e)}var Sf=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Vd.min(),Cf.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Cf.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Cf.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Cf.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Cf.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ef=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Tf(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ef(t,e,n,r,i,o,s)}function kf(t){var e=Rd(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+pf(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Vf(e.startAt)),e.endAt&&(n+="|ub:",n+=Vf(e.endAt)),e.h=n}return e.h}function If(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!zf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!lf(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$f(t.startAt,e.startAt)&&$f(t.endAt,e.endAt)}function Pf(t){return cf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Af=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(fc.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Mf(t,n,r):"array-contains"===n?new Df(t,r):"in"===n?new Lf(t,r):"not-in"===n?new Ff(t,r):"array-contains-any"===n?new Uf(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new jf(t,n):new Rf(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(df(e,this.value)):null!==e&&uf(this.value)===uf(e)&&this.m(df(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Md()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Mf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=cf.fromName(r.referenceValue),i}return Object(fc.c)(e,t),e.prototype.matches=function(t){var e=cf.comparator(t.key,this.key);return this.m(e)},e}(Af),jf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Nf(0,n),r}return Object(fc.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Af),Rf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Nf(0,n),r}return Object(fc.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Af);function Nf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return cf.fromName(t.referenceValue)}))}var Df=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(fc.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return bf(e)&&hf(e.arrayValue,this.value)},e}(Af),Lf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(fc.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&hf(this.value.arrayValue,e)},e}(Af),Ff=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(fc.c)(e,t),e.prototype.matches=function(t){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!hf(this.value.arrayValue,e)},e}(Af),Uf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(fc.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!bf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return hf(e.value.arrayValue,t)}))},e}(Af),Bf=function(t,e){this.position=t,this.before=e};function Vf(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return pf(t)})).join(",")}var qf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function zf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Hf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?cf.comparator(cf.fromName(s.referenceValue),n.key):df(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function $f(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!lf(t.position[n],e.position[n]))return!1;return!0}var Kf=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function Gf(t,e,n,r,i,o,s,a){return new Kf(t,e,n,r,i,o,s,a)}function Wf(t){return new Kf(t)}function Qf(t){return!of(t.limit)&&"F"===t.limitType}function Yf(t){return!of(t.limit)&&"L"===t.limitType}function Xf(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Zf(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Jf(t){return null!==t.collectionGroup}function tp(t){var e=Rd(t);if(null===e.p){e.p=[];var n=Zf(e),r=Xf(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new qf(n)),e.p.push(new qf(Wd.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new qf(Wd.keyField(),c))}}}return e.p}function ep(t){var e=Rd(t);if(!e.T)if("F"===e.limitType)e.T=Tf(e.path,e.collectionGroup,tp(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=tp(e);r<i.length;r++){var o=i[r];n.push(new qf(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Bf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Bf(e.startAt.position,!e.startAt.before):null;e.T=Tf(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function np(t,e,n){return new Kf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rp(t,e){return If(ep(t),ep(e))&&t.limitType===e.limitType}function ip(t){return kf(ep(t))+"|lt:"+t.limitType}function op(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+pf(e.value);var e})).join(", ")+"]"),of(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Vf(t.startAt)),t.endAt&&(e+=", endAt: "+Vf(t.endAt)),"Target("+e+")"}(ep(t))+"; limitType="+t.limitType+")"}function sp(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):cf.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Hf(t.startAt,tp(t),e)||t.endAt&&Hf(t.endAt,tp(t),e))}(t,e)}function ap(t){return function(e,n){for(var r=!1,i=0,o=tp(t);i<o.length;i++){var s=o[i],a=cp(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function cp(t,e,n){var r=t.field.isKeyField()?cf.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?df(r,i):Md()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Md()}}function up(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function lp(t){return{integerValue:""+t}}function hp(t,e){return af(e)?lp(e):up(t,e)}var dp=function(){this._=void 0};function fp(t,e,n){return t instanceof gp?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof yp?bp(t,e):t instanceof vp?_p(t,e):function(t,e){var n=mp(t,e),r=Op(n)+Op(t.A);return yf(n)&&yf(t.A)?lp(r):up(t.R,r)}(t,e)}function pp(t,e,n){return t instanceof yp?bp(t,e):t instanceof vp?_p(t,e):n}function mp(t,e){return t instanceof wp?yf(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var gp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e}(dp),yp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(fc.c)(e,t),e}(dp);function bp(t,e){for(var n=Cp(e),r=function(t){n.some((function(e){return lf(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var vp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(fc.c)(e,t),e}(dp);function _p(t,e){for(var n=Cp(e),r=function(t){n=n.filter((function(e){return!lf(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var wp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(fc.c)(e,t),e}(dp);function Op(t){return Jd(t.integerValue||t.doubleValue)}function Cp(t){return bf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var xp=function(t,e){this.field=t,this.transform=e},Sp=function(t,e){this.version=t,this.transformResults=e},Ep=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Tp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var kp=function(){};function Ip(t,e,n){t instanceof Rp?function(t,e,n){var r=t.value.clone(),i=Lp(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Np?function(t,e,n){if(Tp(t.precondition,e)){var r=Lp(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Dp(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Pp(t,e,n){t instanceof Rp?function(t,e,n){if(Tp(t.precondition,e)){var r=t.value.clone(),i=Fp(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(jp(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Np?function(t,e,n){if(Tp(t.precondition,e)){var r=Fp(t.fieldTransforms,n,e),i=e.data;i.setAll(Dp(t)),i.setAll(r),e.convertToFoundDocument(jp(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Tp(t.precondition,e)&&e.convertToNoDocument(Vd.min())}(t,e)}function Ap(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=mp(o.transform,s||null);null!=a&&(null==n&&(n=Cf.empty()),n.set(o.field,a))}return n||null}function Mp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Fd(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof yp&&e instanceof yp||t instanceof vp&&e instanceof vp?Fd(t.elements,e.elements,lf):t instanceof wp&&e instanceof wp?lf(t.A,e.A):t instanceof gp&&e instanceof gp}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function jp(t){return t.isFoundDocument()?t.version:Vd.min()}var Rp=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(fc.c)(e,t),e}(kp),Np=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(fc.c)(e,t),e}(kp);function Dp(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Lp(t,e,n){var r=new Map;jd(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,pp(s,a,n[i]))}return r}function Fp(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,c=n.data.field(s.field);r.set(s.field,fp(a,c,e))}return r}var Up,Bp,Vp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(fc.c)(e,t),e}(kp),qp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(fc.c)(e,t),e}(kp),zp=function(t){this.count=t};function Hp(t){switch(t){case xd.OK:return Md();case xd.CANCELLED:case xd.UNKNOWN:case xd.DEADLINE_EXCEEDED:case xd.RESOURCE_EXHAUSTED:case xd.INTERNAL:case xd.UNAVAILABLE:case xd.UNAUTHENTICATED:return!1;case xd.INVALID_ARGUMENT:case xd.NOT_FOUND:case xd.ALREADY_EXISTS:case xd.PERMISSION_DENIED:case xd.FAILED_PRECONDITION:case xd.ABORTED:case xd.OUT_OF_RANGE:case xd.UNIMPLEMENTED:case xd.DATA_LOSS:return!0;default:return Md()}}function $p(t){if(void 0===t)return Id("GRPC error has no .code"),xd.UNKNOWN;switch(t){case Up.OK:return xd.OK;case Up.CANCELLED:return xd.CANCELLED;case Up.UNKNOWN:return xd.UNKNOWN;case Up.DEADLINE_EXCEEDED:return xd.DEADLINE_EXCEEDED;case Up.RESOURCE_EXHAUSTED:return xd.RESOURCE_EXHAUSTED;case Up.INTERNAL:return xd.INTERNAL;case Up.UNAVAILABLE:return xd.UNAVAILABLE;case Up.UNAUTHENTICATED:return xd.UNAUTHENTICATED;case Up.INVALID_ARGUMENT:return xd.INVALID_ARGUMENT;case Up.NOT_FOUND:return xd.NOT_FOUND;case Up.ALREADY_EXISTS:return xd.ALREADY_EXISTS;case Up.PERMISSION_DENIED:return xd.PERMISSION_DENIED;case Up.FAILED_PRECONDITION:return xd.FAILED_PRECONDITION;case Up.ABORTED:return xd.ABORTED;case Up.OUT_OF_RANGE:return xd.OUT_OF_RANGE;case Up.UNIMPLEMENTED:return xd.UNIMPLEMENTED;case Up.DATA_LOSS:return xd.DATA_LOSS;default:return Md()}}(Bp=Up||(Up={}))[Bp.OK=0]="OK",Bp[Bp.CANCELLED=1]="CANCELLED",Bp[Bp.UNKNOWN=2]="UNKNOWN",Bp[Bp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bp[Bp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bp[Bp.NOT_FOUND=5]="NOT_FOUND",Bp[Bp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bp[Bp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bp[Bp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bp[Bp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bp[Bp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bp[Bp.ABORTED=10]="ABORTED",Bp[Bp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bp[Bp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bp[Bp.INTERNAL=13]="INTERNAL",Bp[Bp.UNAVAILABLE=14]="UNAVAILABLE",Bp[Bp.DATA_LOSS=15]="DATA_LOSS";var Kp=function(){function t(t,e){this.comparator=t,this.root=e||Wp.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wp.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wp.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Gp(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Gp(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Gp(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Gp(this.root,t,this.comparator,!0)},t}(),Gp=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Wp=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Md();if(this.right.isRed())throw Md();var t=this.left.check();if(t!==this.right.check())throw Md();return t+(this.isRed()?0:1)},t}();Wp.EMPTY=null,Wp.RED=!0,Wp.BLACK=!1,Wp.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Md()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Md()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Md()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Md()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Md()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Wp(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Qp=function(){function t(t){this.comparator=t,this.data=new Kp(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Yp(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Yp(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Yp=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Xp=new Kp(cf.comparator);function Zp(){return Xp}var Jp=new Kp(cf.comparator);function tm(){return Jp}var em=new Kp(cf.comparator);function nm(){return em}var rm=new Qp(cf.comparator);function im(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=rm,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var om=new Qp(Ld);function sm(){return om}var am=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,cm.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Vd.min(),r,sm(),Zp(),im())},t}(),cm=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Yd.EMPTY_BYTE_STRING,n,im(),im(),im())},t}(),um=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},lm=function(t,e){this.targetId=t,this.V=e},hm=function(t,e,n,r){void 0===n&&(n=Yd.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},dm=function(){function t(){this.S=0,this.D=mm(),this.C=Yd.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=im(),e=im(),n=im();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Md()}})),new cm(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=mm()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),fm=function(){function t(t){this.W=t,this.G=new Map,this.H=Zp(),this.J=pm(),this.Y=new Qp(Ld)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Md()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Pf(i))if(0===n){var o=new cf(i.path);this.tt(e,o,Sf.newNoDocument(o,Vd.min()))}else jd(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Pf(o.target)){var s=new cf(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Sf.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=im();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new am(t,n,this.Y,this.H,r);return this.H=Zp(),this.J=pm(),this.Y=new Qp(Ld),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new dm,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Qp(Ld),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||kd("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new dm),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function pm(){return new Kp(cf.comparator)}function mm(){return new Kp(cf.comparator)}var gm={asc:"ASCENDING",desc:"DESCENDING"},ym={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bm=function(t,e){this.databaseId=t,this.I=e};function vm(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function _m(t,e){return t.I?e.toBase64():e.toUint8Array()}function wm(t,e){return vm(t,e.toTimestamp())}function Om(t){return jd(!!t),Vd.fromTimestamp(function(t){var e=Zd(t);return new Bd(e.seconds,e.nanos)}(t))}function Cm(t,e){return function(t){return new Kd(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function xm(t){var e=Kd.fromString(t);return jd(Wm(e)),e}function Sm(t,e){return Cm(t.databaseId,e.path)}function Em(t,e){var n=xm(e);if(n.get(1)!==t.databaseId.projectId)throw new Sd(xd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Sd(xd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new cf(Pm(n))}function Tm(t,e){return Cm(t.databaseId,e)}function km(t){var e=xm(t);return 4===e.length?Kd.emptyPath():Pm(e)}function Im(t){return new Kd(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Pm(t){return jd(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Am(t,e,n){return{name:Sm(t,e),fields:n.value.mapValue.fields}}function Mm(t,e,n){var r=Em(t,e.name),i=Om(e.updateTime),o=new Cf({mapValue:{fields:e.fields}}),s=Sf.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function jm(t,e){var n;if(e instanceof Rp)n={update:Am(t,e.key,e.value)};else if(e instanceof Vp)n={delete:Sm(t,e.key)};else if(e instanceof Np)n={update:Am(t,e.key,e.data),updateMask:Gm(e.fieldMask)};else{if(!(e instanceof qp))return Md();n={verify:Sm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof gp)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof yp)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof vp)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wp)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Md()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:wm(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Md()}(t,e.precondition)),n}function Rm(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ep.updateTime(Om(t.updateTime)):void 0!==t.exists?Ep.exists(t.exists):Ep.none()}(e.currentDocument):Ep.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(jd("REQUEST_TIME"===e.setToServerValue),n=new gp):"appendMissingElements"in e?n=new yp(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new vp(e.removeAllFromArray.values||[]):"increment"in e?n=new wp(t,e.increment):Md();var r=Wd.fromServerFormat(e.fieldPath);return new xp(r,n)}(t,e)})):[];if(e.update){var i=Em(t,e.update.name),o=new Cf({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Qd((t.fieldPaths||[]).map((function(t){return Wd.fromServerFormat(t)})))}(e.updateMask);return new Np(i,o,s,n,r)}return new Rp(i,o,n,r)}if(e.delete){var a=Em(t,e.delete);return new Vp(a,n)}if(e.verify){var c=Em(t,e.verify);return new qp(c,n)}return Md()}function Nm(t,e){return{documents:[Tm(t,e.path)]}}function Dm(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Tm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Tm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(_f(t.value))return{unaryFilter:{field:zm(t.field),op:"IS_NAN"}};if(vf(t.value))return{unaryFilter:{field:zm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_f(t.value))return{unaryFilter:{field:zm(t.field),op:"IS_NOT_NAN"}};if(vf(t.value))return{unaryFilter:{field:zm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zm(t.field),op:qm(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:zm(t.field),direction:Vm(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||of(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Um(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Um(e.endAt)),n}function Lm(t){var e=km(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){jd(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Fm(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new qf(Hm(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var c=null;n.limit&&(c=function(t){var e;return of(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Bm(n.startAt));var l=null;return n.endAt&&(l=Bm(n.endAt)),Gf(e,i,a,s,c,"F",u,l)}function Fm(t){return t?void 0!==t.unaryFilter?[Km(t)]:void 0!==t.fieldFilter?[$m(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Fm(t)})).reduce((function(t,e){return t.concat(e)})):Md():[]}function Um(t){return{before:t.before,values:t.position}}function Bm(t){return new Bf(t.values||[],!!t.before)}function Vm(t){return gm[t]}function qm(t){return ym[t]}function zm(t){return{fieldPath:t.canonicalString()}}function Hm(t){return Wd.fromServerFormat(t.fieldPath)}function $m(t){return Af.create(Hm(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Md()}}(t.fieldFilter.op),t.fieldFilter.value)}function Km(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Hm(t.unaryFilter.field);return Af.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Hm(t.unaryFilter.field);return Af.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Hm(t.unaryFilter.field);return Af.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Hm(t.unaryFilter.field);return Af.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Md()}}function Gm(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Wm(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Qm(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Xm(e)),e=Ym(t.get(n),e);return Xm(e)}function Ym(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Xm(t){return t+"\x01\x01"}function Zm(t){var e=t.length;if(jd(e>=2),2===e)return jd("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Kd.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Md(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Md()}o=s+2}return new Kd(r)}var Jm=function(t,e){this.seconds=t,this.nanoseconds=e},tg=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};tg.store="owner",tg.key="owner";var eg=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};eg.store="mutationQueues",eg.keyPath="userId";var ng=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ng.store="mutations",ng.keyPath="batchId",ng.userMutationsIndex="userMutationsIndex",ng.userMutationsKeyPath=["userId","batchId"];var rg=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Qm(e)]},t.key=function(t,e,n){return[t,Qm(e),n]},t}();rg.store="documentMutations",rg.PLACEHOLDER=new rg;var ig=function(t,e){this.path=t,this.readTime=e},og=function(t,e){this.path=t,this.version=e},sg=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};sg.store="remoteDocuments",sg.readTimeIndex="readTimeIndex",sg.readTimeIndexPath="readTime",sg.collectionReadTimeIndex="collectionReadTimeIndex",sg.collectionReadTimeIndexPath=["parentPath","readTime"];var ag=function(t){this.byteSize=t};ag.store="remoteDocumentGlobal",ag.key="remoteDocumentGlobalKey";var cg=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};cg.store="targets",cg.keyPath="targetId",cg.queryTargetsIndexName="queryTargetsIndex",cg.queryTargetsKeyPath=["canonicalId","targetId"];var ug=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ug.store="targetDocuments",ug.keyPath=["targetId","path"],ug.documentTargetsIndex="documentTargetsIndex",ug.documentTargetsKeyPath=["path","targetId"];var lg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};lg.key="targetGlobalKey",lg.store="targetGlobal";var hg=function(t,e){this.collectionId=t,this.parent=e};hg.store="collectionParents",hg.keyPath=["collectionId","parent"];var dg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};dg.store="clientMetadata",dg.keyPath="clientId";var fg=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};fg.store="bundles",fg.keyPath="bundleId";var pg=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};pg.store="namedQueries",pg.keyPath="name";var mg=Object(fc.f)(Object(fc.f)([],Object(fc.f)(Object(fc.f)([],Object(fc.f)(Object(fc.f)([],Object(fc.f)(Object(fc.f)([],[eg.store,ng.store,rg.store,sg.store,cg.store,tg.store,lg.store,ug.store]),[dg.store])),[ag.store])),[hg.store])),[fg.store,pg.store]),gg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yg=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),bg=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},vg=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Md(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),_g=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new bg,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Cg(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=kg(e.target.error);n.ft.reject(new Cg(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Cg(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(kd("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Sg(e)},t}(),wg=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(pc.i)())&&Id("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return kd("SimpleDb","Removing database:",t),Eg(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(pc.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n=this;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(kd("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Cg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Sd(xd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Cg(t,n))},i.onupgradeneeded=function(t){kd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){kd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(fc.b)(this,void 0,void 0,(function(){var i,o,s,a,c;return Object(fc.d)(this,(function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c,u,l;return Object(fc.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=_g.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),vg.reject(t)})).toPromise(),c={},s.catch((function(){})),[4,e.dt];case 3:return[2,(c.value=(h.sent(),s),c)];case 4:return kd("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Og=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Eg(this.Pt.delete())},t}(),Cg=function(t){function e(e,n){var r=this;return(r=t.call(this,xd.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(fc.c)(e,t),e}(Sd);function xg(t){return"IndexedDbTransactionError"===t.name}var Sg=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(kd("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(kd("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Eg(n)},t.prototype.add=function(t){return kd("SimpleDb","ADD",this.store.name,t,t),Eg(this.store.add(t))},t.prototype.get=function(t){var e=this;return Eg(this.store.get(t)).next((function(n){return void 0===n&&(n=null),kd("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return kd("SimpleDb","DELETE",this.store.name,t),Eg(this.store.delete(t))},t.prototype.count=function(){return kd("SimpleDb","COUNT",this.store.name),Eg(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){kd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new vg((function(n,r){e.onerror=function(t){var e=kg(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new vg((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Og(i),s=e(i.primaryKey,i.value,o);if(s instanceof vg){var a=s.catch((function(t){return o.done(),vg.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return vg.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Eg(t){return new vg((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=kg(t.target.error);n(e)}}))}var Tg=!1;function kg(t){var e=wg._t(Object(pc.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Sd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Tg||(Tg=!0,setTimeout((function(){throw r}),0)),r}}return t}var Ig=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(fc.c)(e,t),e}(yg);function Pg(t,e){var n=Rd(t);return wg.It(n.Mt,e)}var Ag=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ip(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Pp(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Pp(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Vd.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),im())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Fd(this.mutations,t.mutations,(function(t,e){return Mp(t,e)}))&&Fd(this.baseMutations,t.baseMutations,(function(t,e){return Mp(t,e)}))},t}(),Mg=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){jd(e.mutations.length===r.length);for(var i=nm(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),jg=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Vd.min()),void 0===o&&(o=Vd.min()),void 0===s&&(s=Yd.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Rg=function(t){this.Lt=t};function Ng(t,e){if(e.document)return Mm(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=cf.fromSegments(e.noDocument.path),r=Bg(e.noDocument.readTime),i=Sf.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=cf.fromSegments(e.unknownDocument.path);return r=Bg(e.unknownDocument.version),Sf.newUnknownDocument(o,r)}return Md()}function Dg(t,e,n){var r=Lg(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Sm(t,e.key),fields:e.data.value.mapValue.fields,updateTime:vm(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new sg(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=Ug(e.version);return s=e.hasCommittedMutations,new sg(null,new ig(a,c),null,s,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=Ug(e.version);return new sg(new og(u,l),null,null,!0,r,i)}return Md()}function Lg(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Fg(t){var e=new Bd(t[0],t[1]);return Vd.fromTimestamp(e)}function Ug(t){var e=t.toTimestamp();return new Jm(e.seconds,e.nanoseconds)}function Bg(t){var e=new Bd(t.seconds,t.nanoseconds);return Vd.fromTimestamp(e)}function Vg(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Rm(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Rm(t.Lt,e)})),o=Bd.fromMillis(e.localWriteTimeMs);return new Ag(e.batchId,o,n,i)}function qg(t){var e,n,r=Bg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Bg(t.lastLimboFreeSnapshotVersion):Vd.min();return void 0!==t.query.documents?(jd(1===(n=t.query).documents.length),e=ep(Wf(km(n.documents[0])))):e=function(t){return ep(Lm(t))}(t.query),new jg(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Yd.fromBase64String(t.resumeToken))}function zg(t,e){var n,r=Ug(e.snapshotVersion),i=Ug(e.lastLimboFreeSnapshotVersion);n=Pf(e.target)?Nm(t.Lt,e.target):Dm(t.Lt,e.target);var o=e.resumeToken.toBase64();return new cg(e.targetId,kf(e.target),r,o,e.sequenceNumber,i,n)}function Hg(t){var e=Lm({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?np(e,e.limit,"L"):e}var $g=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Kg(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Bg(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Kg(t).put({bundleId:(n=e).id,createTime:Ug(Om(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Gg(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Hg(e.bundledQuery),readTime:Bg(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Gg(t).put(function(t){return{name:t.name,readTime:Ug(Om(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Kg(t){return Pg(t,fg.store)}function Gg(t){return Pg(t,pg.store)}var Wg=function(){function t(){this.Bt=new Qg}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),vg.resolve()},t.prototype.getCollectionParents=function(t,e){return vg.resolve(this.Bt.getEntries(e))},t}(),Qg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Qp(Kd.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Qp(Kd.comparator)).toArray()},t}(),Yg=function(){function t(){this.qt=new Qg}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Qm(i)};return Xg(t).put(o)}return vg.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ud(e),""],!1,!0);return Xg(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Zm(o.parent))}return n}))},t}();function Xg(t){return Pg(t,hg.store)}var Zg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jg=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function ty(t,e,n){var r=t.store(ng.store),i=t.store(rg.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(c.next((function(){jd(1===a)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=rg.key(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return vg.waitFor(o).next((function(){return u}))}function ey(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Md();e=t.noDocument}return JSON.stringify(e).length}Jg.DEFAULT_COLLECTION_PERCENTILE=10,Jg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jg.DEFAULT=new Jg(41943040,Jg.DEFAULT_COLLECTION_PERCENTILE,Jg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jg.DISABLED=new Jg(-1,0,0);var ny=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return jd(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return iy(t).$t({index:ng.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=oy(t),s=iy(t);return s.add({}).next((function(a){jd("number"==typeof a);for(var c=new Ag(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map((function(e){return jm(t.Lt,e)})),i=n.mutations.map((function(e){return jm(t.Lt,e)}));return new ng(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new Qp((function(t,e){return Ld(t.canonicalString(),e.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],m=rg.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(u)),l.push(o.put(m,rg.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=c.keys()})),vg.waitFor(l).next((function(){return c}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return iy(t).get(e).next((function(t){return t?(jd(t.userId===n.userId),Vg(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?vg.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return iy(t).$t({index:ng.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(jd(e.batchId>=r),o=Vg(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return iy(t).$t({index:ng.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return iy(t).Nt(ng.userMutationsIndex,n).next((function(t){return t.map((function(t){return Vg(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=rg.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return oy(t).$t({range:i},(function(r,i,s){var a=r[0],c=r[2],u=Zm(r[1]);if(a===n.userId&&e.path.isEqual(u))return iy(t).get(c).next((function(t){if(!t)throw Md();jd(t.userId===n.userId),o.push(Vg(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Qp(Ld),i=[];return e.forEach((function(e){var o=rg.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=oy(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[2],c=Zm(t[1]);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()}));i.push(a)})),vg.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=rg.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Qp(Ld);return oy(t).$t({range:s},(function(t,e,o){var s=t[0],c=t[2],u=Zm(t[1]);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(iy(t).get(e).next((function(t){if(null===t)throw Md();jd(t.userId===n.userId),r.push(Vg(n.R,t))})))})),vg.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return ty(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),vg.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return vg.resolve();var r=IDBKeyRange.lowerBound(rg.prefixForUser(e.userId)),i=[];return oy(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Zm(t[1]);i.push(o)}else r.done()})).next((function(){jd(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return ry(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return sy(t).get(this.userId).next((function(t){return t||new eg(e.userId,-1,"")}))},t}();function ry(t,e,n){var r=rg.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return oy(t).$t({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function iy(t){return Pg(t,ng.store)}function oy(t){return Pg(t,rg.store)}function sy(t){return Pg(t,eg.store)}var ay=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),cy=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new ay(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Vd.fromTimestamp(new Bd(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return uy(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return jd(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return uy(t).$t((function(s,a){var c=qg(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,o.push(r.removeTargetData(t,c)))})).next((function(){return vg.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return uy(t).$t((function(t,n){var r=qg(n);e(r)}))},t.prototype.Xt=function(t){return ly(t).get(lg.key).next((function(t){return jd(null!==t),t}))},t.prototype.Zt=function(t,e){return ly(t).put(lg.key,e)},t.prototype.te=function(t,e){return uy(t).put(zg(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=kf(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return uy(t).$t({range:r,index:cg.queryTargetsIndexName},(function(t,n,r){var o=qg(n);If(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=hy(t);return e.forEach((function(e){var s=Qm(e.path);i.push(o.put(new ug(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),vg.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=hy(t);return vg.forEach(e,(function(e){var o=Qm(e.path);return vg.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=hy(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=hy(t),i=im();return r.$t({range:n,kt:!0},(function(t,e,n){var r=Zm(t[1]),o=new cf(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Qm(e.path),r=IDBKeyRange.bound([n],[Ud(n)],!1,!0),i=0;return hy(t).$t({index:ug.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return uy(t).get(e).next((function(t){return t?qg(t):null}))},t}();function uy(t){return Pg(t,cg.store)}function ly(t){return Pg(t,lg.store)}function hy(t){return Pg(t,ug.store)}function dy(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){if(t.code!==xd.FAILED_PRECONDITION||t.message!==gg)throw t;return kd("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function fy(t,e){var n=t[1],r=e[1],i=Ld(t[0],e[0]);return 0===i?Ld(n,r):i}var py=function(){function t(t){this.ne=t,this.buffer=new Qp(fy),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();fy(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),my=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;kd("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(fc.b)(e,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return xg(e=n.sent())?(kd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,dy(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),gy=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return vg.resolve(Cd.o);var r=new py(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(kd("LruGarbageCollector","Garbage collection skipped; disabled"),vg.resolve(Zg)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(kd("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Zg):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>u.params.maximumSequenceNumbersToCollect?(kd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),u.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),u.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),Td()<=mc.a.DEBUG&&kd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),vg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),yy=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new gy(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return by(t,n)},t.prototype.removeReference=function(t,e,n){return by(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return by(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return sy(t).Ot((function(r){return ry(t,r,e).next((function(t){return t&&(n=!0),vg.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var c=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),hy(t).delete([0,Qm(s.path)])}))}));i.push(c)}})).next((function(){return vg.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return by(t,e)},t.prototype.we=function(t,e){var n,r=hy(t),i=Cd.o;return r.$t({index:ug.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Cd.o&&e(new cf(Zm(n)),i),i=s,n=o):i=Cd.o})).next((function(){i!==Cd.o&&e(new cf(Zm(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function by(t,e){return hy(t).put(function(t,e){return new ug(0,Qm(t.path),e)}(e,t.currentSequenceNumber))}var vy=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){zd(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Hd(this.inner)},t}(),_y=function(){function t(){this.changes=new vy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Vd.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Sf.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?vg.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),wy=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return xy(t).put(Sy(e),n)},t.prototype.removeEntry=function(t,e){var n=xy(t),r=Sy(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return xy(t).get(Sy(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return xy(t).get(Sy(e)).next((function(t){return{document:n.ye(e,t),size:ey(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Zp();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Zp(),i=new Kp(cf.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,ey(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return vg.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return xy(t).$t({range:r},(function(t,e,r){for(var s=cf.fromSegments(t);o&&cf.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Zp(),o=e.path.length+1,s={};if(n.isEqual(Vd.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=Lg(n);s.range=IDBKeyRange.lowerBound([c,u],!0),s.index=sg.collectionReadTimeIndex}return xy(t).$t(s,(function(t,n,s){if(t.length===o){var a=Ng(r.R,n);e.path.isPrefixOf(a.key.path)?sp(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Oy(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Cy(t).get(ag.key).next((function(t){return jd(!!t),t}))},t.prototype.me=function(t,e){return Cy(t).put(ag.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ng(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Vd.min()))return n}return Sf.newInvalidDocument(t)},t}(),Oy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new vy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(fc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Qp((function(t,e){return Ld(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var c=Dg(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var u=ey(c);r+=u-a,n.push(e.Ie.addEntry(t,o,c))}else if(r-=a,e.trackRemovals){var l=Dg(e.Ie.R,Sf.newNoDocument(o,Vd.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),vg.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(_y);function Cy(t){return Pg(t,ag.store)}function xy(t){return Pg(t,sg.store)}function Sy(t){return t.path.toArray()}var Ey=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;jd(n<r&&n>=0&&r<=11);var o=new _g("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(tg.store)}(t),function(t){t.createObjectStore(eg.store,{keyPath:eg.keyPath}),t.createObjectStore(ng.store,{keyPath:ng.keyPath,autoIncrement:!0}).createIndex(ng.userMutationsIndex,ng.userMutationsKeyPath,{unique:!0}),t.createObjectStore(rg.store)}(t),Ty(t),function(t){t.createObjectStore(sg.store)}(t));var s=vg.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ug.store),t.deleteObjectStore(cg.store),t.deleteObjectStore(lg.store)}(t),Ty(t)),s=s.next((function(){return function(t){var e=t.store(lg.store),n=new lg(0,0,Vd.min().toTimestamp(),0);return e.put(lg.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(ng.store).Nt().next((function(n){t.deleteObjectStore(ng.store),t.createObjectStore(ng.store,{keyPath:ng.keyPath,autoIncrement:!0}).createIndex(ng.userMutationsIndex,ng.userMutationsKeyPath,{unique:!0});var r=e.store(ng.store),i=n.map((function(t){return r.put(t)}));return vg.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(dg.store,{keyPath:dg.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(ag.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(sg.store);e.createIndex(sg.readTimeIndex,sg.readTimeIndexPath,{unique:!1}),e.createIndex(sg.collectionReadTimeIndex,sg.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(fg.store,{keyPath:fg.keyPath})}(t),function(t){t.createObjectStore(pg.store,{keyPath:pg.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(sg.store).$t((function(t,n){e+=ey(n)})).next((function(){var n=new ag(e);return t.store(ag.store).put(ag.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(eg.store),r=t.store(ng.store);return n.Nt().next((function(n){return vg.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ng.userMutationsIndex,i).next((function(r){return vg.forEach(r,(function(r){jd(r.userId===n.userId);var i=Vg(e.R,r);return ty(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(ug.store),n=t.store(sg.store);return t.store(lg.store).get(lg.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Kd(n),s=function(t){return[0,Qm(t)]}(o);r.push(e.get(s).next((function(n){return n?vg.resolve():function(n){return e.put(new ug(0,Qm(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return vg.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(hg.store,{keyPath:hg.keyPath});var n=e.store(hg.store),r=new Qg,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Qm(i)})}};return e.store(sg.store).$t({kt:!0},(function(t,e){var n=new Kd(t);return i(n.popLast())})).next((function(){return e.store(rg.store).$t({kt:!0},(function(t,e){var n=Zm(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(cg.store);return n.$t((function(t,r){var i=qg(r),o=zg(e.R,i);return n.put(o)}))},t}();function Ty(t){t.createObjectStore(ug.store,{keyPath:ug.keyPath}).createIndex(ug.documentTargetsIndex,ug.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(cg.store,{keyPath:cg.keyPath}).createIndex(cg.queryTargetsIndexName,cg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(lg.store)}var ky="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Iy=function(){function t(e,n,r,i,o,s,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Sd(xd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yy(this,i),this.Le=n+"main",this.R=new Rg(c),this.Be=new wg(this.Le,11,new Ey(this.R)),this.qe=new cy(this.referenceDelegate,this.R),this.Ut=new Yg,this.Ue=function(t,e){return new wy(t,e)}(this.R,this.Ut),this.Ke=new $g,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Id("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Sd(xd.FAILED_PRECONDITION,ky);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Cd(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(fc.b)(e,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return Object(fc.b)(e,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return Object(fc.b)(e,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ay(e).put(new dg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(xg(e))return kd("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return kd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Py(t).get(tg.key).next((function(t){return vg.resolve(e.tn(t))}))},t.prototype.en=function(t){return Ay(t).delete(this.clientId)},t.prototype.nn=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Pg(t,dg.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return vg.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?vg.resolve(!0):Py(t).get(tg.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Sd(xd.FAILED_PRECONDITION,ky);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ay(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&kd("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t=this;return Object(fc.d)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[tg.store,dg.store],(function(e){var n=new Ig(e,Cd.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ay(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return ny.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return kd("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",mg,(function(o){return r=new Ig(o,i.Ne?i.Ne.next():Cd.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw Id("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Sd(xd.FAILED_PRECONDITION,gg);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Py(t).get(tg.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Sd(xd.FAILED_PRECONDITION,ky)}))},t.prototype.Ze=function(t){var e=new tg(this.clientId,this.allowTabSynchronization,Date.now());return Py(t).put(tg.key,e)},t.yt=function(){return wg.yt()},t.prototype.Xe=function(t){var e=this,n=Py(t);return n.get(tg.key).next((function(t){return e.tn(t)?(kd("IndexedDbPersistence","Releasing primary lease."),n.delete(tg.key)):vg.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Id("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),Object(pc.q)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return kd("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Id("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Id("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Py(t){return Pg(t,tg.store)}function Ay(t){return Pg(t,dg.store)}function My(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var jy=function(t,e){this.progress=t,this.wn=e},Ry=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return cf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Jf(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new cf(e)).next((function(t){var e=tm();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=tm();return this.Ut.getCollectionParents(t,i).next((function(s){return vg.forEach(s,(function(s){var a=function(t,e){return new Kf(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],u=c.key,l=r.get(u);null==l&&(l=Sf.newInvalidDocument(u),r=r.insert(u,l)),Pp(c,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}}))})).next((function(){return r.forEach((function(t,n){sp(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=im(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var c=a[s];c instanceof Np&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))})),u}))},t}(),Ny=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=im(),i=im(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Dy=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Vd.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return(Qf(e)||Yf(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Td()<=mc.a.DEBUG&&kd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),op(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Qp(ap(t));return e.forEach((function(e,r){sp(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Td()<=mc.a.DEBUG&&kd("QueryEngine","Using full collection scan to execute query:",op(e)),this.Sn.getDocumentsMatchingQuery(t,e,Vd.min())},t}(),Ly=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Kp(Ld),this.kn=new vy((function(t){return kf(t)}),If),this.$n=Vd.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Ry(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function Fy(t,e,n,r){return new Ly(t,e,n,r)}function Uy(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(fc.d)(this,(function(s){switch(s.label){case 0:return n=Rd(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Ry(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=im(),a=0,c=o;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return i.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function By(t,e){var n=Rd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=vg.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);jd(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Vy(t){var e=Rd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function qy(t,e){var n=Rd(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,u),function(t,e,n){return jd(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&s.push(n.qe.updateTargetData(t,u))}}}));var a=Zp();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(zy(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(Vd.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(c)}return vg.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.Fn=i,t}))}function zy(t,e,n,r,i){var o=im();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Zp();return n.forEach((function(n,s){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Vd.min())?(e.removeEntry(n,c),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,c),o=o.insert(n,s)):kd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function Hy(t,e){var n=Rd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function $y(t,e){var n=Rd(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?vg.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new jg(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function Ky(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(fc.d)(this,(function(a){switch(a.label){case 0:r=Rd(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!xg(s=a.sent()))throw s;return kd("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Gy(t,e,n){var r=Rd(t),i=Vd.min(),o=im();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Rd(t),i=r.kn.get(n);return void 0!==i?vg.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,ep(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Vd.min(),n?o:im())})).next((function(t){return{documents:t,Bn:o}}))}))}function Wy(t,e){var n=Rd(t),r=Rd(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Qy(t){var e=Rd(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Rd(t),i=Zp(),o=Lg(n),s=xy(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:sg.readTimeIndex,range:a},(function(t,e){var n=Ng(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Fg(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn;return e.$n=t.readTime,n}))}function Yy(t){return Object(fc.b)(this,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){return[2,(e=Rd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=xy(t),n=Vd.min();return e.$t({index:sg.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Fg(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Xy(t,e,n,r){return Object(fc.b)(this,void 0,void 0,(function(){var i,o,s,a,c,u,l,h,d,f;return Object(fc.d)(this,(function(p){switch(p.label){case 0:for(i=Rd(t),o=im(),s=Zp(),a=nm(),c=0,u=n;c<u.length;c++)h=e.qn((l=u[c]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,$y(i,function(t){return ep(Wf(Kd.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return zy(t,d,s,Vd.min(),a).next((function(e){return d.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next((function(){return i.qe.addMatchingKeys(t,o,f.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Zy(t,e,n){return void 0===n&&(n=im()),Object(fc.b)(this,void 0,void 0,(function(){var r,i;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return[4,$y(t,ep(Hg(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Rd(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=Om(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(Yd.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var Jy=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return vg.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Om(n.createTime)}),vg.resolve()},t.prototype.getNamedQuery=function(t,e){return vg.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Hg(t.bundledQuery),readTime:Om(t.readTime)}}(e)),vg.resolve()},t}(),tb=function(){function t(){this.Wn=new Qp(eb.Gn),this.zn=new Qp(eb.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new eb(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new eb(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new cf(new Kd([])),r=new eb(n,t),i=new eb(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new cf(new Kd([])),n=new eb(e,t),r=new eb(e,t+1),i=im();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new eb(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),eb=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return cf.comparator(t.key,e.key)||Ld(t.ns,e.ns)},t.Hn=function(t,e){return Ld(t.ns,e.ns)||cf.comparator(t.key,e.key)},t}(),nb=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Qp(eb.Gn)}return t.prototype.checkEmpty=function(t){return vg.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Ag(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var c=a[s];this.rs=this.rs.add(new eb(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return vg.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return vg.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return vg.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return vg.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return vg.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new eb(e,0),i=new eb(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),vg.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Qp(Ld);return e.forEach((function(t){var e=new eb(t,0),i=new eb(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),vg.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;cf.isDocumentKey(i)||(i=i.child(""));var o=new eb(new cf(i),0),s=new Qp(Ld);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),vg.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;jd(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return vg.forEach(e.mutations,(function(i){var o=new eb(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new eb(e,0),r=this.rs.firstAfterOrEqual(n);return vg.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return vg.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),rb=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Kp(cf.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return vg.resolve(n?n.document.clone():Sf.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Zp();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Sf.newInvalidDocument(t))})),vg.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Zp(),i=new cf(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;u.compareTo(n)<=0||sp(e,c)&&(r=r.insert(c.key,c.clone()))}return vg.resolve(r)},t.prototype.fs=function(t,e){return vg.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new ib(this)},t.prototype.getSize=function(t){return vg.resolve(this.size)},t}(),ib=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(fc.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),vg.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(_y),ob=function(){function t(t){this.persistence=t,this.ds=new vy((function(t){return kf(t)}),If),this.lastRemoteSnapshotVersion=Vd.min(),this.highestTargetId=0,this.ws=0,this._s=new tb,this.targetCount=0,this.ys=ay.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),vg.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return vg.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return vg.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),vg.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),vg.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new ay(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,vg.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),vg.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,vg.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),vg.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return vg.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return vg.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),vg.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),vg.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),vg.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return vg.resolve(n)},t.prototype.containsKey=function(t,e){return vg.resolve(this._s.containsKey(e))},t}(),sb=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Cd(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new ob(this),this.Ut=new Wg,this.Ue=function(t,e){return new rb(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Rg(e),this.Ke=new Jy(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new nb(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;kd("MemoryPersistence","Starting transaction:",t);var i=new ab(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return vg.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),ab=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(fc.c)(e,t),e}(yg),cb=function(){function t(t){this.persistence=t,this.As=new tb,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Md()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),vg.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),vg.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),vg.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return vg.forEach(this.vs,(function(r){var i=cf.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return vg.or([function(){return vg.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ub=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function lb(t,e){return"firestore_clients_"+t+"_"+e}function hb(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function db(t,e){return"firestore_targets_"+t+"_"+e}ub.UNAUTHENTICATED=new ub(null),ub.GOOGLE_CREDENTIALS=new ub("google-credentials-uid"),ub.FIRST_PARTY=new ub("first-party-uid");var fb=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Sd(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Id("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pb=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Sd(i.error.code,i.error.message)),o?new t(e,i.state,r):(Id("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),mb=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=sm(),s=0;i&&s<r.activeTargetIds.length;++s)i=af(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Id("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),gb=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Id("SharedClientState","Failed to parse online state: "+e),null)},t}(),yb=function(){function t(){this.activeTargetIds=sm()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),bb=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Kp(Ld),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=lb(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new yb),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,c,u,l=this;return Object(fc.d)(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(lb(this.persistenceKey,r)))&&(o=mb.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),c=0,u=this.$s;c<u.length;c++)this.Fs(u[c]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(db(this.persistenceKey,t));if(n){var r=pb.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(db(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return kd("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){kd("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){kd("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(kd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Id("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(fc.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(fc.d)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Cd.o;if(null!=t)try{var n=JSON.parse(t);jd("number"==typeof n),e=n}catch(t){Id("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Cd.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new fb(this.currentUser,t,e,n),i=hb(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=hb(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=db(this.persistenceKey,t),i=new pb(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return mb.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return fb.Vs(new ub(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return pb.Vs(r,e)},t.prototype.js=function(t){return gb.Vs(t)},t.prototype.ii=function(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(kd("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=sm();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),vb=function(){function t(){this.li=new yb,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new yb,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),_b=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),wb=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){kd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){kd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Ob={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Cb=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),xb=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(fc.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var s=new Od;s.listenOnce(bd.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case yd.NO_ERROR:var e=s.getResponseJson();kd("Connection","XHR received:",JSON.stringify(e)),i(e);break;case yd.TIMEOUT:kd("Connection",'RPC "'+t+'" timed out'),o(new Sd(xd.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:var n=s.getStatus();if(kd("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(xd).indexOf(e)>=0?e:xd.UNKNOWN}(r.status);o(new Sd(a,r.message))}else o(new Sd(xd.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Sd(xd.UNAVAILABLE,"Connection failed."));break;default:Md()}}finally{kd("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new dd,i=sl(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new _d({})),this.Fi(o.initMessageHeaders,e),Object(pc.n)()||Object(pc.p)()||Object(pc.l)()||Object(pc.m)()||Object(pc.r)()||Object(pc.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");kd("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),c=!1,u=!1,l=new Cb({Ei:function(t){u?kd("Connection","Not sending because WebChannel is closed:",t):(c||(kd("Connection","Opening WebChannel transport."),a.open(),c=!0),kd("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(a,wd.EventType.OPEN,(function(){u||kd("Connection","WebChannel transport opened.")})),h(a,wd.EventType.CLOSE,(function(){u||(u=!0,kd("Connection","WebChannel transport closed"),l.Vi())})),h(a,wd.EventType.ERROR,(function(t){u||(u=!0,Pd("Connection","WebChannel transport errored:",t),l.Vi(new Sd(xd.UNAVAILABLE,"The operation could not be completed")))})),h(a,wd.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];jd(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){kd("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Up[t];if(void 0!==e)return $p(e)}(i),s=r.message;void 0===o&&(o=xd.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),u=!0,l.Vi(new Sd(o,s)),a.close()}else kd("Connection","WebChannel received:",n),l.Si(n)}})),h(i,vd.STAT_EVENT,(function(t){10===t.stat?kd("Connection","Detected buffering proxy"):11===t.stat&&kd("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);kd("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return kd("RestConnection","Received: ",t),t}),(function(e){throw Pd("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Ob[t]},t}());function Sb(){return"undefined"!=typeof window?window:null}function Eb(){return"undefined"!=typeof document?document:null}function Tb(t){return new bm(t,!0)}var kb=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&kd("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ib=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new kb(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===xd.RESOURCE_EXHAUSTED?(Id(e.toString()),Id("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===xd.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Sd(xd.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return Object(fc.b)(t,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return kd("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(kd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Pb=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(fc.c)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Md()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(jd(void 0===e||"string"==typeof e),Yd.fromBase64String(e||"")):(jd(void 0===e||e instanceof Uint8Array),Yd.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?xd.UNKNOWN:$p(t.code);return new Sd(e,t.message||"")}(a);n=new hm(r,i,o,s||null)}else if("documentChange"in e){i=Em(t,(r=e.documentChange).document.name),o=Om(r.document.updateTime);var a=new Cf({mapValue:{fields:r.document.fields}}),c=(s=Sf.newFoundDocument(i,o,a),r.targetIds||[]);n=new um(c,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Em(t,(r=e.documentDelete).document),o=r.readTime?Om(r.readTime):Vd.min(),a=Sf.newNoDocument(i,o),n=new um([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Em(t,(r=e.documentRemove).document),n=new um([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Md();var u=e.filter;i=new zp(r=u.count||0),n=new lm(o=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Vd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Vd.min():e.readTime?Om(e.readTime):Vd.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Im(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Pf(r)?{documents:Nm(t,r)}:{query:Dm(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=_m(t,e.resumeToken):e.snapshotVersion.compareTo(Vd.min())>0&&(n.readTime=vm(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Md()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Im(this.R),e.removeTarget=t,this.cr(e)},e}(Ib),Ab=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(jd(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(jd(void 0!==e),t.map((function(t){return function(t,e){var n=Om(t.updateTime?t.updateTime:e);return n.isEqual(Vd.min())&&(n=Om(e)),new Sp(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Om(t.commitTime);return this.listener.Tr(n,e)}return jd(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Im(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return jm(e.R,t)}))};this.cr(n)},e}(Ib),Mb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(fc.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Sd(xd.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===xd.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Sd(xd.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===xd.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Sd(xd.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),jb=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Id(e),this.Vr=!1):kd("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Rb=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return Object(fc.b)(o,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){switch(t.label){case 0:return zb(this)?(kd("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(fc.b)(this,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return(e=Rd(t)).Or.add(4),[4,Db(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Nb(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new jb(n,r)};function Nb(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:if(!zb(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Db(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Lb(t,e){var n=Rd(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),qb(n)?Vb(n):iv(n).er()&&Ub(n,e))}function Fb(t,e){var n=Rd(t),r=iv(n);n.$r.delete(e),r.er()&&Bb(n,e),0===n.$r.size&&(r.er()?r.ir():zb(n)&&n.Br.set("Unknown"))}function Ub(t,e){t.qr.U(e.targetId),iv(t).mr(e)}function Bb(t,e){t.qr.U(e),iv(t).yr(e)}function Vb(t){t.qr=new fm({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),iv(t).start(),t.Br.Sr()}function qb(t){return zb(t)&&!iv(t).tr()&&t.$r.size>0}function zb(t){return 0===Rd(t).Or.size}function Hb(t){t.qr=void 0}function $b(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){return t.$r.forEach((function(e,n){Ub(t,e)})),[2]}))}))}function Kb(t,e){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(n){return Hb(t),qb(t)?(t.Br.Nr(e),Vb(t)):t.Br.set("Unknown"),[2]}))}))}function Gb(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,o;return Object(fc.d)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof hm&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(fc.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),kd("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Wb(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof um?t.qr.X(e):e instanceof lm?t.qr.rt(e):t.qr.et(e),n.isEqual(Vd.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Vy(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Yd.EMPTY_BYTE_STRING,n.snapshotVersion)),Bb(t,e);var r=new jg(n.target,e,1,n.sequenceNumber);Ub(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return kd("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Wb(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Wb(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r=this;return Object(fc.d)(this,(function(i){switch(i.label){case 0:if(!xg(e))throw e;return t.Or.add(1),[4,Db(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Vy(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return Object(fc.b)(r,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return kd("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Nb(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Qb(t,e){return e().catch((function(n){return Wb(t,n,e)}))}function Yb(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(fc.d)(this,(function(s){switch(s.label){case 0:e=Rd(t),n=ov(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return zb(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Hy(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=ov(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Wb(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Xb(e)&&Zb(e),[2]}}))}))}function Xb(t){return zb(t)&&!ov(t).tr()&&t.kr.length>0}function Zb(t){ov(t).start()}function Jb(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){return ov(t).Ar(),[2]}))}))}function tv(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n,r;return Object(fc.d)(this,(function(i){for(e=ov(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function ev(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Mg.from(r,e,n),[4,Qb(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Yb(t)];case 2:return o.sent(),[2]}}))}))}function nv(t,e){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(n){switch(n.label){case 0:return e&&ov(t).pr?[4,function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return Hp(r=e.code)&&r!==xd.ABORTED?(n=t.kr.shift(),ov(t).sr(),[4,Qb(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Yb(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Xb(t)&&Zb(t),[2]}}))}))}function rv(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return n=Rd(t),e?(n.Or.delete(2),[4,Nb(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Db(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function iv(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Rd(t);return r.br(),new Pb(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:$b.bind(null,t),Ri:Kb.bind(null,t),_r:Gb.bind(null,t)}),t.Mr.push((function(n){return Object(fc.b)(e,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),qb(t)?Vb(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Hb(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function ov(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Rd(t);return r.br(),new Ab(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Jb.bind(null,t),Ri:nv.bind(null,t),Ir:tv.bind(null,t),Tr:ev.bind(null,t)}),t.Mr.push((function(n){return Object(fc.b)(e,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Yb(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(kd("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var sv=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Sd(xd.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function av(t,e){if(Id("AsyncQueue",e+": "+t),xg(t))return new Sd(xd.UNAVAILABLE,e+": "+t);throw t}var cv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||cf.comparator(e.key,n.key)}:function(t,e){return cf.comparator(t.key,e.key)},this.keyedMap=tm(),this.sortedSet=new Kp(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),uv=function(){function t(){this.Qr=new Kp(cf.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Md():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),lv=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,cv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),hv=function(){this.Wr=void 0,this.listeners=[]},dv=function(){this.queries=new vy((function(t){return ip(t)}),rp),this.onlineState="Unknown",this.Gr=new Set};function fv(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return Object(fc.d)(this,(function(u){switch(u.label){case 0:if(n=Rd(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new hv),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=av(a,"Initialization of query '"+op(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&yv(n),[2]}}))}))}function pv(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(fc.d)(this,(function(a){return n=Rd(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function mv(t,e){for(var n=Rd(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(s)&&(r=!0);a.Wr=s}}r&&yv(n)}function gv(t,e,n){var r=Rd(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function yv(t){t.Gr.forEach((function(t){t.next()}))}var bv=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new lv(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=lv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),vv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),_v=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Em(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Mm(this.R,t.document,!1):Sf.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Om(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new _v(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,c=o.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||im()).add(s);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return[4,Xy(this.localStore,new _v(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Zy(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new jy(Object.assign({},this.progress),t))]}}))}))}}();var wv=function(t){this.key=t},Ov=function(t){this.key=t},Cv=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=im(),this.mutatedKeys=im(),this.lo=ap(t),this.fo=new cv(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new uv,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=Qf(this.query)&&i.size===this.query.limit?i.last():null,u=Yf(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=sp(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),Qf(this.query)||Yf(this.query))for(;s.size>this.query.limit;){var l=Qf(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Md()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==o.length||c?{snapshot:new lv(this.query,t.fo,i,o,t.mutatedKeys,0===a,c,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new uv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=im(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Ov(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new wv(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=im();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return lv.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),xv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Sv=function(t){this.key=t,this.bo=!1},Ev=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new vy((function(t){return ip(t)}),rp),this.Vo=new Map,this.So=new Set,this.Do=new Kp(cf.comparator),this.Co=new Map,this.No=new tb,this.xo={},this.Fo=new Map,this.ko=ay.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Tv(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(fc.d)(this,(function(a){switch(a.label){case 0:return n=n_(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,$y(n.localStore,ep(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,kv(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Lb(n.remoteStore,o),a.label=4;case 4:return[2,r]}}))}))}function kv(t,e,n,r){return Object(fc.b)(this,void 0,void 0,(function(){var i,o,s,a,c,u;return Object(fc.d)(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return Object(fc.b)(this,void 0,void 0,(function(){var i,o,s;return Object(fc.d)(this,(function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,Gy(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Vv(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,Gy(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Cv(e,i.Bn),s=o._o(i.documents),a=cm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,a),Vv(t,n,c.To),u=new xv(e,n,o),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}}))}))}function Iv(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return n=Rd(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!rp(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ky(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Fb(n.remoteStore,r.targetId),Uv(n,r.targetId)})).catch(dy)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Uv(n,r.targetId),[4,Ky(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Pv(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(fc.d)(this,(function(a){switch(a.label){case 0:r=r_(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Rd(t),i=Bd.now(),o=e.reduce((function(t,e){return t.add(e.key)}),im());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,c=e;a<c.length;a++){var u=c[a],l=Ap(u,n.get(u.key));null!=l&&s.push(new Np(u.key,l,xf(l.value.mapValue),Ep.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Kp(Ld)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Hv(r,i.changes)];case 3:return a.sent(),[4,Yb(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=av(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Av(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r;return Object(fc.d)(this,(function(i){switch(i.label){case 0:n=Rd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qy(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(jd(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?jd(r.bo):t.removedDocuments.size>0&&(jd(r.bo),r.bo=!1))})),[4,Hv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,dy(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Mv(t,e,n){var r=Rd(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Rd(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&yv(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jv(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,o,s,a,c;return Object(fc.d)(this,(function(u){switch(u.label){case 0:return(r=Rd(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Kp(cf.comparator)).insert(o,Sf.newNoDocument(o,Vd.min())),a=im().add(o),c=new am(Vd.min(),new Map,new Qp(Ld),s,a),[4,Av(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),zv(r),[3,4];case 2:return[4,Ky(r.localStore,e,!1).then((function(){return Uv(r,e,n)})).catch(dy)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))}function Rv(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(fc.d)(this,(function(o){switch(o.label){case 0:n=Rd(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,By(n.localStore,e)];case 2:return i=o.sent(),Fv(n,r,null),Lv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,dy(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Nv(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i;return Object(fc.d)(this,(function(o){switch(o.label){case 0:r=Rd(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Rd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return jd(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Fv(r,e,n),Lv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Hv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,dy(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Dv(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(fc.d)(this,(function(a){switch(a.label){case 0:zb((n=Rd(t)).remoteStore)||kd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Rd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=av(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Lv(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Fv(t,e,n){var r=Rd(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Uv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Bv(t,e)}))}function Bv(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Fb(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),zv(t))}function Vv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof wv?(t.No.addReference(o.key,e),qv(t,o)):o instanceof Ov?(kd("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Bv(t,o.key)):Md()}}function qv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(kd("SyncEngine","New document in limbo: "+n),t.So.add(r),zv(t))}function zv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new cf(Kd.fromString(e)),r=t.ko.next();t.Co.set(r,new Sv(n)),t.Do=t.Do.insert(n,r),Lb(t.remoteStore,new jg(ep(Wf(n.path)),r,2,Cd.o))}}function Hv(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(fc.d)(this,(function(a){switch(a.label){case 0:return r=Rd(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,a){s.push(r.Oo(a,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ny.Pn(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u;return Object(fc.d)(this,(function(l){switch(l.label){case 0:n=Rd(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return vg.forEach(e,(function(e){return vg.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return vg.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!xg(r=l.sent()))throw r;return kd("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(c=n.Fn.get(a),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,u));return[2]}}))}))}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function $v(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return(n=Rd(t)).currentUser.isEqual(e)?[3,3]:(kd("SyncEngine","User change. New user:",e.toKey()),[4,Uy(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new Sd(xd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Hv(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Kv(t,e){var n=Rd(t),r=n.Co.get(e);if(r&&r.bo)return im().add(r.key);var i=im(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var c=n.Po.get(a[s]);i=i.unionWith(c.view.wo)}return i}function Gv(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return[4,Gy((n=Rd(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Vv(n,e.targetId,i.To),i)]}}))}))}function Wv(t){return Object(fc.b)(this,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){return[2,Qy((e=Rd(t)).localStore).then((function(t){return Hv(e,t)}))]}))}))}function Qv(t,e,n,r){return Object(fc.b)(this,void 0,void 0,(function(){var i,o;return Object(fc.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Rd(t),r=Rd(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):vg.resolve(null)}))}))}((i=Rd(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Yb(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Fv(i,e,r||null),Lv(i,e),function(t,e){Rd(Rd(t)._n).Gt(e)}(i.localStore,e)):Md(),s.label=4;case 4:return[4,Hv(i,o)];case 5:return s.sent(),[3,7];case 6:kd("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function Yv(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c;return Object(fc.d)(this,(function(u){switch(u.label){case 0:return n_(n=Rd(t)),r_(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Xv(n,r.toArray())]);case 1:return i=u.sent(),n.$o=!0,[4,rv(n.remoteStore,!0)];case 2:for(u.sent(),o=0,s=i;o<s.length;o++)Lb(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then((function(){return Uv(n,e),Ky(n.localStore,e,!0)})),Fb(n.remoteStore,e)})),[4,c]);case 4:return u.sent(),[4,Xv(n,a)];case 5:return u.sent(),function(t){var e=Rd(t);e.Co.forEach((function(t,n){Fb(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Kp(cf.comparator)}(n),n.$o=!1,[4,rv(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))}function Xv(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a,c,u,l,h,d,f,p;return Object(fc.d)(this,(function(m){switch(m.label){case 0:n=Rd(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(c=void 0,(u=n.Vo.get(a=s[o]))&&0!==u.length?[4,$y(n.localStore,ep(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Gv(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Wy(n.localStore,a)];case 8:return p=m.sent(),[4,$y(n.localStore,p)];case 9:return c=m.sent(),[4,kv(n,Zv(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Zv(t){return Gf(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Jv(t){var e=Rd(t);return Rd(Rd(e.localStore).persistence).fn()}function t_(t,e,n,r){return Object(fc.b)(this,void 0,void 0,(function(){var i,o,s;return Object(fc.d)(this,(function(a){switch(a.label){case 0:return(i=Rd(t)).$o?(kd("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Qy(i.localStore)];case 3:return o=a.sent(),s=am.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Hv(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Ky(i.localStore,e,!0)];case 6:return a.sent(),Uv(i,e,r),[3,8];case 7:Md(),a.label=8;case 8:return[2]}}))}))}function e_(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,o,s,a,c,u,l,h;return Object(fc.d)(this,(function(d){switch(d.label){case 0:if(!(r=n_(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(kd("SyncEngine","Adding an already active target "+s),[3,5]):[4,Wy(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,$y(r.localStore,a)];case 3:return c=d.sent(),[4,kv(r,Zv(a),c.targetId,!1)];case 4:d.sent(),Lb(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Ky(r.localStore,t,!1).then((function(){Fb(r.remoteStore,t),Uv(r,t)})).catch(dy)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function n_(t){var e=Rd(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Av.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jv.bind(null,e),e.vo._r=mv.bind(null,e.eventManager),e.vo.Mo=gv.bind(null,e.eventManager),e}function r_(t){var e=Rd(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nv.bind(null,e),e}var i_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return this.R=Tb(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Fy(this.persistence,new Dy,t.initialUser,this.R)},t.prototype.qo=function(t){return new sb(cb.bs,this.R)},t.prototype.Bo=function(t){return new vb},t.prototype.terminate=function(){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),o_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(fc.c)(e,t),e.prototype.initialize=function(e){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Yy(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,r_(this.Qo.syncEngine)];case 4:return n.sent(),[4,Yb(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Fy(this.persistence,new Dy,t.initialUser,this.R)},e.prototype.Uo=function(t){return new my(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=My(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Jg.withCacheSize(this.cacheSizeBytes):Jg.DEFAULT;return new Iy(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Sb(),Eb(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new vb},e}(i_),s_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(fc.c)(e,t),e.prototype.initialize=function(e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r=this;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof bb?(this.sharedClientState.syncEngine={ui:Qv.bind(null,n),ai:t_.bind(null,n),hi:e_.bind(null,n),fn:Jv.bind(null,n),ci:Wv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return Object(fc.b)(r,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return[4,Yv(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Sb();if(!bb.yt(e))throw new Sd(xd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=My(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new bb(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(o_),a_=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n=this;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Mv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$v.bind(null,this.syncEngine),[4,rv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new dv},t.prototype.createDatastore=function(t){var e=Tb(t.databaseInfo.databaseId),n=new xb(t.databaseInfo);return function(t,e,n){return new Mb(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Mv(s.syncEngine,t,0)},o=wb.yt()?new wb:new _b,new Rb(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Ev(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(fc.b)(this,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return e=Rd(t),kd("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Db(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),c_=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),u_=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new bg,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new vv(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t,e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return Object(fc.b)(this,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t,e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n=this;return Object(fc.d)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Sd(xd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i,o,s,a;return Object(fc.d)(this,(function(c){switch(c.label){case 0:return n=Rd(t),r=Im(n.R)+"/documents",i={documents:e.map((function(t){return Sm(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=c.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){jd(!!e.found);var n=Em(t,e.found.name),r=Om(e.found.updateTime),i=new Cf({mapValue:{fields:e.found.fields}});return Sf.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){jd(!!e.missing),jd(!!e.readTime);var n=Em(t,e.missing),r=Om(e.readTime);return Sf.newNoDocument(n,r)}(t,e):Md()}(n.R,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());jd(!!e),a.push(e)})),a)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Vp(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t,e=this;return Object(fc.d)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=cf.fromPath(n);e.mutations.push(new qp(r,e.precondition(r)))})),[4,function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return n=Rd(t),r=Im(n.R)+"/documents",i={writes:e.map((function(t){return jm(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Md();e=Vd.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Sd(xd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ep.updateTime(e):Ep.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Vd.min()))throw new Sd(xd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ep.updateTime(e)}return Ep.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),l_=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new kb(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return Object(fc.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(fc.d)(this,(function(r){return t=new u_(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!of(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Hp(e)}return!1},t}(),h_=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ub.UNAUTHENTICATED,this.clientId=Dd.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return Object(fc.b)(r,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return kd("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Sd(xd.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new bg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(fc.b)(t,void 0,void 0,(function(){var t,n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=av(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function d_(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),kd("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return Object(fc.b)(i,void 0,void 0,(function(){return Object(fc.d)(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Uy(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function f_(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,p_(t)];case 1:return n=i.sent(),kd("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return Object(fc.b)(this,void 0,void 0,(function(){var n,r;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return(n=Rd(t)).asyncQueue.verifyOperationInProgress(),kd("RemoteStore","RemoteStore received new credentials"),r=zb(n),n.Or.add(3),[4,Db(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Nb(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function p_(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(kd("FirestoreClient","Using default OfflineComponentProvider"),[4,d_(t,new i_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function m_(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(kd("FirestoreClient","Using default OnlineComponentProvider"),[4,f_(t,new a_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function g_(t){return p_(t).then((function(t){return t.persistence}))}function y_(t){return p_(t).then((function(t){return t.localStore}))}function b_(t){return m_(t).then((function(t){return t.remoteStore}))}function v_(t){return m_(t).then((function(t){return t.syncEngine}))}function __(t){return Object(fc.b)(this,void 0,void 0,(function(){var e,n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return[4,m_(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Tv.bind(null,e.syncEngine),n.onUnlisten=Iv.bind(null,e.syncEngine),n)]}}))}))}function w_(t,e,n){var r=this;void 0===n&&(n={});var i=new bg;return t.asyncQueue.enqueueAndForget((function(){return Object(fc.b)(r,void 0,void 0,(function(){var r;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new c_({next:function(o){e.enqueueAndForget((function(){return pv(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Sd(xd.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Sd(xd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new bv(Wf(n.path),o,{includeMetadataChanges:!0,so:!0});return fv(t,s)},[4,__(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function O_(t,e,n){var r=this;void 0===n&&(n={});var i=new bg;return t.asyncQueue.enqueueAndForget((function(){return Object(fc.b)(r,void 0,void 0,(function(){var r;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new c_({next:function(n){e.enqueueAndForget((function(){return pv(t,s)})),n.fromCache&&"server"===r.source?i.reject(new Sd(xd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new bv(n,o,{includeMetadataChanges:!0,so:!0});return fv(t,s)},[4,__(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var C_=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},x_=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),S_=new Map,E_=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},T_=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(ub.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),k_=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),I_=function(){function t(t){var e=this;this.currentUser=ub.UNAUTHENTICATED,this.oc=new bg,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){kd("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(kd("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(kd("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(jd("string"==typeof n.accessToken),new E_(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return Object(fc.b)(n,void 0,void 0,(function(){return Object(fc.d)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return jd(null===t||"string"==typeof t),new ub(t)},t}(),P_=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=ub.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),A_=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new P_(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(ub.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function M_(t,e,n){if(!n)throw new Sd(xd.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function j_(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Sd(xd.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function R_(t,e,n,r){if(!0===e&&!0===r)throw new Sd(xd.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function N_(t){if(!cf.isDocumentKey(t))throw new Sd(xd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function D_(t){if(cf.isDocumentKey(t))throw new Sd(xd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function L_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Md()}function F_(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Sd(xd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=L_(t);throw new Sd(xd.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function U_(t,e){if(e<=0)throw new Sd(xd.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var B_=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Sd(xd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Sd(xd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,R_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),V_=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B_({}),this._settingsFrozen=!1,t instanceof x_?(this._databaseId=t,this._credentials=new T_):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Sd(xd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new x_(t.options.projectId)}(t),this._credentials=new I_(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Sd(xd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Sd(xd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B_(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new T_;switch(t.type){case"gapi":var e=t.client;return jd(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new A_(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Sd(xd.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=S_.get(this))&&(kd("ComponentProvider","Removing Datastore"),S_.delete(this),t.terminate()),Promise.resolve();var t},t}(),q_=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new H_(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),z_=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),H_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Wf(r))||this)._path=r,i.type="collection",i}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new q_(this.firestore,null,new cf(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(z_);function $_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(pc.h)(t),M_("collection","path",e),t instanceof V_)return D_(n=Kd.fromString.apply(Kd,Object(fc.f)([e],r))),new H_(t,null,n);if(!(t instanceof q_||t instanceof H_))throw new Sd(xd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return D_(n=Kd.fromString.apply(Kd,Object(fc.f)([t.path],r)).child(Kd.fromString(e))),new H_(t.firestore,null,n)}function K_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(pc.h)(t),1===arguments.length&&(e=Dd.u()),M_("doc","path",e),t instanceof V_)return N_(n=Kd.fromString.apply(Kd,Object(fc.f)([e],r))),new q_(t,null,new cf(n));if(!(t instanceof q_||t instanceof H_))throw new Sd(xd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return N_(n=t._path.child(Kd.fromString.apply(Kd,Object(fc.f)([e],r)))),new q_(t.firestore,t instanceof H_?t.converter:null,new cf(n))}function G_(t,e){return t=Object(pc.h)(t),e=Object(pc.h)(e),(t instanceof q_||t instanceof H_)&&(e instanceof q_||e instanceof H_)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function W_(t,e){return t=Object(pc.h)(t),e=Object(pc.h)(e),t instanceof z_&&e instanceof z_&&t.firestore===e.firestore&&rp(t._query,e._query)&&t.converter===e.converter}var Q_=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new kb(this,"async_queue_retry"),this.Ic=function(){var e=Eb();e&&kd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Eb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Eb();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new bg;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t,e=this;return Object(fc.d)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!xg(t=n.sent()))throw t;return kd("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Id("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=sv.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Md()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return Object(fc.b)(this,void 0,void 0,(function(){var t;return Object(fc.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Y_(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new bg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var X_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Q_,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(fc.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||J_(this),this._firestoreClient.terminate()},e}(V_);function Z_(t){return t._firestoreClient||J_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function J_(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new C_(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new h_(t._credentials,t._queue,r)}function tw(t,e,n){var r=this,i=new bg;return t.asyncQueue.enqueue((function(){return Object(fc.b)(r,void 0,void 0,(function(){var r;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,d_(t,n)];case 1:return o.sent(),[4,f_(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===xd.FAILED_PRECONDITION||t.code===xd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function ew(t){if(t._initialized||t._terminated)throw new Sd(xd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var nw=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Sd(xd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wd(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),rw=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Yd.fromBase64String(e))}catch(e){throw new Sd(xd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Yd.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),iw=function(t){this._methodName=t},ow=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Sd(xd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Sd(xd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Ld(this._lat,t._lat)||Ld(this._long,t._long)},t}(),sw=/^__.*__$/,aw=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Np(t,this.data,this.fieldMask,e,this.fieldTransforms):new Rp(t,this.data,e,this.fieldTransforms)},t}(),cw=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Np(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function uw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Md()}}var lw=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Fc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,kc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},t.prototype.Lc=function(t){return Pw(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(uw(this.Nc)&&sw.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),hw=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Tb(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new lw({Nc:t,methodName:e,qc:n,path:Wd.emptyPath(),kc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function dw(t){var e=t._freezeSettings(),n=Tb(t._databaseId);return new hw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fw(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Ew("Data must be an object, but it was:",s,r);var a,c,u=xw(r,s);if(o.merge)a=new Qd(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=Tw(e,d[h],n);if(!s.contains(f))throw new Sd(xd.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Aw(l,f)||l.push(f)}a=new Qd(l),c=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,c=s.fieldTransforms;return new aw(new Cf(u),a,c)}var pw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(iw);function mw(t,e,n){return new lw({Nc:3,qc:e.settings.qc,methodName:t._methodName,kc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var gw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype._toFieldTransform=function(t){return new xp(t.path,new gp)},e.prototype.isEqual=function(t){return t instanceof e},e}(iw),yw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(fc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=mw(this,t,!0),n=this.Kc.map((function(t){return Cw(t,e)})),r=new yp(n);return new xp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(iw),bw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(fc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=mw(this,t,!0),n=this.Kc.map((function(t){return Cw(t,e)})),r=new vp(n);return new xp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(iw),vw=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return Object(fc.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new wp(t.R,hp(t.R,this.Qc));return new xp(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(iw);function _w(t,e,n,r){var i=t.Uc(1,e,n);Ew("Data must be an object, but it was:",i,r);var o=[],s=Cf.empty();zd(r,(function(t,r){var a=Iw(e,t,n);r=Object(pc.h)(r);var c=i.Oc(a);if(r instanceof pw)o.push(a);else{var u=Cw(r,c);null!=u&&(o.push(a),s.set(a,u))}}));var a=new Qd(o);return new cw(s,a,i.fieldTransforms)}function ww(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[Tw(e,r,n)],c=[i];if(o.length%2!=0)throw new Sd(xd.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(Tw(e,o[u])),c.push(o[u+1]);for(var l=[],h=Cf.empty(),d=a.length-1;d>=0;--d)if(!Aw(l,a[d])){var f=a[d],p=c[d];p=Object(pc.h)(p);var m=s.Oc(f);if(p instanceof pw)l.push(f);else{var g=Cw(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new Qd(l);return new cw(h,y,s.fieldTransforms)}function Ow(t,e,n,r){return void 0===r&&(r=!1),Cw(n,t.Uc(r?4:3,e))}function Cw(t,e){if(Sw(t=Object(pc.h)(t)))return Ew("Unsupported field value:",e,t),xw(t,e);if(t instanceof iw)return function(t,e){if(!uw(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.kc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Cw(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(pc.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return hp(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Bd.fromDate(t);return{timestampValue:vm(e.R,n)}}if(t instanceof Bd)return n=new Bd(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:vm(e.R,n)};if(t instanceof ow)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rw)return{bytesValue:_m(e.R,t._byteString)};if(t instanceof q_){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Cm(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+L_(t))}(t,e)}function xw(t,e){var n={};return Hd(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zd(t,(function(t,r){var i=Cw(r,e.Fc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Sw(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Bd||t instanceof ow||t instanceof rw||t instanceof q_||t instanceof iw)}function Ew(t,e,n){if(!Sw(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=L_(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Tw(t,e,n){if((e=Object(pc.h)(e))instanceof nw)return e._internalPath;if("string"==typeof e)return Iw(t,e);throw Pw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var kw=new RegExp("[~\\*/\\[\\]]");function Iw(t,e,n){if(e.search(kw)>=0)throw Pw("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(nw.bind.apply(nw,Object(fc.f)([void 0],e.split(".")))))._internalPath}catch(PO){throw Pw("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Pw(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+r),s&&(c+=" in document "+i),c+=")"),new Sd(xd.INVALID_ARGUMENT,(a+=". ")+t+c)}function Aw(t,e){return t.some((function(t){return t.isEqual(e)}))}var Mw=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new q_(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new jw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Rw("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),jw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Mw);function Rw(t,e){return"string"==typeof e?Iw(t,e):e instanceof nw?e._internalPath:e._delegate._internalPath}var Nw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Dw=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(fc.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Lw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Rw("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Mw),Lw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Dw),Fw=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Nw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Lw(n._firestore,n._userDataWriter,r.key,r,new Nw(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Sd(xd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Lw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Nw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Lw(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Nw(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Uw(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Uw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Md()}}function Bw(t,e){return t instanceof Dw&&e instanceof Dw?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Fw&&e instanceof Fw&&t._firestore===e._firestore&&W_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Vw(t){if(Yf(t)&&0===t.explicitOrderBy.length)throw new Sd(xd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var qw=function(){};function zw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Hw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return Object(fc.c)(e,t),e.prototype._apply=function(t){var e=dw(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Sd(xd.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Xw(s,o);for(var c=[],u=0,l=s;u<l.length;u++)c.push(Yw(r,t,l[u]));a={arrayValue:{values:c}}}else a=Yw(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Xw(s,o),a=Ow(n,"where",s,"in"===o||"not-in"===o);var h=Af.create(i,o,a);return function(t,e){if(e.g()){var n=Zf(t);if(null!==n&&!n.isEqual(e.field))throw new Sd(xd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Xf(t);null!==r&&Zw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Sd(xd.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new z_(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Kf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(qw),$w=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return Object(fc.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Sd(xd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Sd(xd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qf(e,n);return function(t,e){if(null===Xf(t)){var n=Zf(t);null!==n&&Zw(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new z_(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Kf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(qw),Kw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(fc.c)(e,t),e.prototype._apply=function(t){return new z_(t.firestore,t.converter,np(t._query,this.Hc,this.Jc))},e}(qw),Gw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(fc.c)(e,t),e.prototype._apply=function(t){var e=Qw(t,this.type,this.Yc,this.Xc);return new z_(t.firestore,t.converter,function(t,e){return new Kf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(qw),Ww=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return Object(fc.c)(e,t),e.prototype._apply=function(t){var e=Qw(t,this.type,this.Yc,this.Xc);return new z_(t.firestore,t.converter,function(t,e){return new Kf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(qw);function Qw(t,e,n,r){if(n[0]=Object(pc.h)(n[0]),n[0]instanceof Mw)return function(t,e,n,r,i){if(!r)throw new Sd(xd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=tp(t);s<a.length;s++){var c=a[s];if(c.field.isKeyField())o.push(gf(e,r.key));else{var u=r.data.field(c.field);if(ef(u))throw new Sd(xd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new Sd(xd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(u)}}return new Bf(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=dw(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Sd(xd.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(s[c].field.isKeyField()){if("string"!=typeof u)throw new Sd(xd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Jf(t)&&-1!==u.indexOf("/"))throw new Sd(xd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(Kd.fromString(u));if(!cf.isDocumentKey(l))throw new Sd(xd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new cf(l);a.push(gf(e,h))}else{var d=Ow(n,r,u);a.push(d)}}return new Bf(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Yw(t,e,n){if("string"==typeof(n=Object(pc.h)(n))){if(""===n)throw new Sd(xd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jf(e)&&-1!==n.indexOf("/"))throw new Sd(xd.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Kd.fromString(n));if(!cf.isDocumentKey(r))throw new Sd(xd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gf(t,new cf(r))}if(n instanceof q_)return gf(t,n._key);throw new Sd(xd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+L_(n)+".")}function Xw(t,e){if(!Array.isArray(t)||0===t.length)throw new Sd(xd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Sd(xd.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Zw(t,e,n){if(!n.isEqual(e))throw new Sd(xd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Jw=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),uf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Jd(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(tf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Md()}},t.prototype.convertObject=function(t,e){var n=this,r={};return zd(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new ow(Jd(t.latitude),Jd(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=nf(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(rf(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Zd(t);return new Bd(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Kd.fromString(t);jd(Wm(n));var r=new x_(n.get(1),n.get(3)),i=new cf(n.popFirst(5));return r.isEqual(e)||Id("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function tO(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var eO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fc.c)(e,t),e.prototype.convertBytes=function(t){return new rw(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new q_(this.firestore,null,e)},e}(Jw),nO=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=dw(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=rO(t,this._firestore),i=tO(r.converter,e,n),o=fw(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ep.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=rO(t,this._firestore);return o="string"==typeof(e=Object(pc.h)(e))||e instanceof nw?ww(this._dataReader,"WriteBatch.update",s._key,e,n,r):_w(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Ep.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=rO(t,this._firestore);return this._mutations=this._mutations.concat(new Vp(e._key,Ep.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Sd(xd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function rO(t,e){if((t=Object(pc.h)(t)).firestore!==e)throw new Sd(xd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var iO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fc.c)(e,t),e.prototype.convertBytes=function(t){return new rw(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new q_(this.firestore,null,e)},e}(Jw);function oO(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=F_(t,q_);var o=F_(t.firestore,X_),s=dw(o);return aO(o,[("string"==typeof(e=Object(pc.h)(e))||e instanceof nw?ww(s,"updateDoc",t._key,e,n,r):_w(s,"updateDoc",t._key,e)).toMutation(t._key,Ep.exists(!0))])}function sO(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(pc.h)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Y_(i[a])||(s=i[a],a++);var c,u,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Y_(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof q_)u=F_(t.firestore,X_),l=Wf(t._key.path),c={next:function(e){i[a]&&i[a](cO(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=F_(t,z_);u=F_(f.firestore,X_),l=f._query;var p=new iO(u);c={next:function(t){i[a]&&i[a](new Fw(u,p,f,t))},error:i[a+1],complete:i[a+2]},Vw(t._query)}return function(t,e,n,r){var i=this,o=new c_(r),s=new bv(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return Object(fc.b)(i,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return e=fv,[4,__(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(fc.b)(i,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return e=pv,[4,__(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Z_(u),l,h,c)}function aO(t,e){return function(t,e){var n=this,r=new bg;return t.asyncQueue.enqueueAndForget((function(){return Object(fc.b)(n,void 0,void 0,(function(){var n;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return n=Pv,[4,v_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Z_(t),e)}function cO(t,e,n){var r=n.docs.get(e._key),i=new iO(t);return new Dw(t,i,e._key,r,new Nw(n.hasPendingWrites,n.fromCache),e.converter)}var uO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(fc.c)(e,t),e.prototype.get=function(e){var n=this,r=rO(e,this._firestore),i=new iO(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Dw(n._firestore,i,r._key,t._document,new Nw(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=dw(t)}return t.prototype.get=function(t){var e=this,n=rO(t,this._firestore),r=new eO(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Md();var i=t[0];if(i.isFoundDocument())return new Mw(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Mw(e._firestore,r,n._key,null,n.converter);throw Md()}))},t.prototype.set=function(t,e,n){var r=rO(t,this._firestore),i=tO(r.converter,e,n),o=fw(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=rO(t,this._firestore);return o="string"==typeof(e=Object(pc.h)(e))||e instanceof nw?ww(this._dataReader,"Transaction.update",s._key,e,n,r):_w(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=rO(t,this._firestore);return this._transaction.delete(e._key),this},t}());function lO(){if("undefined"==typeof Uint8Array)throw new Sd(xd.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function hO(){if("undefined"==typeof atob)throw new Sd(xd.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var dO=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return hO(),new t(rw.fromBase64String(e))},t.fromUint8Array=function(e){return lO(),new t(rw.fromUint8Array(e))},t.prototype.toBase64=function(){return hO(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return lO(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),fO=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ew(t=F_(t,X_));var n=Z_(t),r=t._freezeSettings(),i=new a_;return tw(n,i,new o_(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ew(t=F_(t,X_));var e=Z_(t),n=t._freezeSettings(),r=new a_;return tw(e,r,new s_(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Sd(xd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new bg;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(fc.b)(e,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(fc.b)(this,void 0,void 0,(function(){return Object(fc.d)(this,(function(e){switch(e.label){case 0:return wg.yt()?[4,wg.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(My(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),pO=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof x_||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Pd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=F_(t,V_))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Pd("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(pc.d)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Sd(xd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new k_(new E_(o,new ub(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(fc.b)(e,void 0,void 0,(function(){var e,n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return[4,g_(t)];case 1:return e=r.sent(),[4,b_(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Rd(t);return e.Or.delete(0),Nb(e)}(n))]}}))}))}))}(Z_(F_(this._delegate,X_)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return Object(fc.b)(e,void 0,void 0,(function(){var e,n;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return[4,g_(t)];case 1:return e=r.sent(),[4,b_(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(fc.b)(this,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return(e=Rd(t)).Or.add(0),[4,Db(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Z_(F_(this._delegate,X_)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&R_("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new bg;return t.asyncQueue.enqueueAndForget((function(){return Object(fc.b)(e,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(r){switch(r.label){case 0:return e=Dv,[4,v_(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Z_(F_(this._delegate,X_)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new c_(e);return t.asyncQueue.enqueueAndForget((function(){return Object(fc.b)(n,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Rd(t).Gr.add(e),e.next()},[4,__(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return Object(fc.b)(n,void 0,void 0,(function(){var e;return Object(fc.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Rd(t).Gr.delete(e)},[4,__(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Z_(t=F_(t,X_)),Y_(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Sd(xd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new kO(this,$_(this._delegate,t))}catch(t){throw _O(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new vO(this,K_(this._delegate,t))}catch(t){throw _O(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new SO(this,function(t,e){if(t=F_(t,V_),M_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Sd(xd.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new z_(t,null,function(t){return new Kf(Kd.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw _O(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new bg;return t.asyncQueue.enqueueAndForget((function(){return Object(fc.b)(n,void 0,void 0,(function(){var n;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return m_(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new l_(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Z_(t),(function(n){return e(new uO(t,n))}))}(this._delegate,(function(n){return t(new gO(e,n))}))},t.prototype.batch=function(){var t=this;return Z_(this._delegate),new yO(new nO(this._delegate,(function(e){return aO(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Sd(xd.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Sd(xd.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),mO=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(fc.c)(e,t),e.prototype.convertBytes=function(t){return new dO(new rw(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return vO.eu(e,this.firestore,null)},e}(Jw),gO=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new mO(t)}return t.prototype.get=function(t){var e=this,n=IO(t);return this._delegate.get(n).then((function(t){return new CO(e._firestore,new Dw(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=IO(t);return n?(j_("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=IO(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(fc.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=IO(t);return this._delegate.delete(e),this},t}(),yO=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=IO(t);return n?(j_("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=IO(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(fc.f)([s,e,n],i)),this},t.prototype.delete=function(t){var e=IO(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),bO=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Lw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new xO(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new mO(e),n),i.set(n,o)),o},t}();bO.su=new WeakMap;var vO=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new mO(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Sd(xd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new q_(n._delegate,r,new cf(e)))},t.eu=function(e,n,r){return new t(n,new q_(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new kO(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new kO(this.firestore,$_(this._delegate,t))}catch(t){throw _O(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(pc.h)(t))instanceof q_&&G_(this._delegate,t)},t.prototype.set=function(t,e){e=j_("DocumentReference.set",e);try{return function(t,e,n){t=F_(t,q_);var r=F_(t.firestore,X_),i=tO(t.converter,e,n);return aO(r,[fw(dw(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ep.none())])}(this._delegate,t,e)}catch(t){throw _O(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?oO(this._delegate,t):oO.apply(void 0,Object(fc.f)([this._delegate,t,e],n))}catch(t){throw _O(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return aO(F_((t=this._delegate).firestore,X_),[new Vp(t._key,Ep.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=wO(e),i=OO(e,(function(e){return new CO(t.firestore,new Dw(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return sO(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=F_(t,q_);var e=F_(t.firestore,X_),n=Z_(e),r=new iO(e);return function(t,e){var n=this,r=new bg;return t.asyncQueue.enqueueAndForget((function(){return Object(fc.b)(n,void 0,void 0,(function(){var n;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i;return Object(fc.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Rd(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Sd(xd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=av(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,y_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Dw(e,r,t._key,n,new Nw(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=F_(t,q_);var e=F_(t.firestore,X_);return w_(Z_(e),t._key,{source:"server"}).then((function(n){return cO(e,t,n)}))}(this._delegate):function(t){t=F_(t,q_);var e=F_(t.firestore,X_);return w_(Z_(e),t._key).then((function(n){return cO(e,t,n)}))}(this._delegate)).then((function(t){return new CO(e.firestore,new Dw(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?bO.nu(this.firestore,e):null))},t}();function _O(t,e,n){return t.message=t.message.replace(e,n),t}function wO(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Y_(r))return r}return{}}function OO(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Y_(t[0])?t[0]:Y_(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var CO=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new vO(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Bw(this._delegate,t._delegate)},t}(),xO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(fc.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(CO),SO=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new mO(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,zw(this._delegate,function(t,e,n){var r=e,i=Rw("where",t);return new Hw(i,r,n)}(e,n,r)))}catch(e){throw _O(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,zw(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Rw("orderBy",t);return new $w(r,n)}(e,n)))}catch(e){throw _O(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,zw(this._delegate,function(t){return U_("limit",t),new Kw("limit",t,"F")}(e)))}catch(e){throw _O(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,zw(this._delegate,function(t){return U_("limitToLast",t),new Kw("limitToLast",t,"L")}(e)))}catch(e){throw _O(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,zw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gw("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw _O(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,zw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Gw("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw _O(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,zw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ww("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw _O(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,zw(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ww("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw _O(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return W_(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=F_(t,z_);var e=F_(t.firestore,X_),n=Z_(e),r=new iO(e);return function(t,e){var n=this,r=new bg;return t.asyncQueue.enqueueAndForget((function(){return Object(fc.b)(n,void 0,void 0,(function(){var n;return Object(fc.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(fc.b)(this,void 0,void 0,(function(){var r,i,o,s,a;return Object(fc.d)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,Gy(t,e,!0)];case 1:return a=c.sent(),r=new Cv(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=c.sent(),a=av(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}}))}))},[4,y_(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Fw(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=F_(t,z_);var e=F_(t.firestore,X_),n=Z_(e),r=new iO(e);return O_(n,t._query,{source:"server"}).then((function(n){return new Fw(e,r,t,n)}))}(this._delegate):function(t){t=F_(t,z_);var e=F_(t.firestore,X_),n=Z_(e),r=new iO(e);return Vw(t._query),O_(n,t._query).then((function(n){return new Fw(e,r,t,n)}))}(this._delegate)).then((function(t){return new TO(e.firestore,new Fw(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=wO(e),i=OO(e,(function(e){return new TO(t.firestore,new Fw(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return sO(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?bO.nu(this.firestore,e):null))},t}(),EO=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new xO(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),TO=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new SO(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new xO(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new EO(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new xO(n._firestore,r))}))},t.prototype.isEqual=function(t){return Bw(this._delegate,t._delegate)},t}(),kO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(fc.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new vO(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new vO(this.firestore,void 0===t?K_(this._delegate):K_(this._delegate,t))}catch(t){throw _O(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=F_(t.firestore,X_),r=K_(t),i=tO(t.converter,e);return aO(n,[fw(dw(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ep.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new vO(e.firestore,t)}))},e.prototype.isEqual=function(t){return G_(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?bO.nu(this.firestore,t):null))},e}(SO);function IO(t){return F_(t,q_)}var PO,AO=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(nw.bind.apply(nw,Object(fc.f)([void 0],t)))}return t.documentId=function(){return new t(Wd.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(pc.h)(t))instanceof nw&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),MO=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new gw("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new pw("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yw("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bw("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new vw("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),jO=n("/6Yf"),RO={Firestore:pO,GeoPoint:ow,Timestamp:Bd,Blob:dO,Transaction:gO,WriteBatch:yO,DocumentReference:vO,DocumentSnapshot:CO,Query:SO,QueryDocumentSnapshot:xO,QuerySnapshot:TO,CollectionReference:kO,FieldPath:AO,FieldValue:MO,setLogLevel:function(t){Ed.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new jO.a("firestore",(function(t){return function(t,e){return new pO(t,new X_(t,e),new fO)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},RO)))})(PO=dc.a),PO.registerVersion("@firebase/firestore","2.3.10");var NO=n("VRyK");n("qgXg"),n("Ylt2"),n("tf+s");const DO=new r.q("angularfire2.auth.use-emulator");function LO(t,e){return function(t,e=It.b){return new Wt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function FO(t,e){return LO(t,e).pipe(Object(Lt.a)(t=>({payload:t,type:"query"})))}function UO(t,e){return FO(t,e).pipe(we(void 0),rc(),Object(Lt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function BO(t,e,n){return UO(t,n).pipe(Zi((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return VO(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return VO(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return VO(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),sc(),Object(Lt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function VO(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function qO(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class zO{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=UO(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Lt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(we(void 0),rc(),Rt(([t,e])=>e.length>0||!t),Object(Lt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Zi((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=qO(t);return BO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return FO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(mi.a)(this.query.get(t)).pipe(Object(uc.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new HO(this.ref.doc(t),this.afs)}}class HO{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=YO(n,e);return new zO(r,i,this.afs)}snapshotChanges(){return LO(this.ref,this.afs.schedulers.outsideAngular).pipe(we(void 0),rc(),Object(Lt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Lt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(mi.a)(this.ref.get(t)).pipe(Object(uc.b)(this.afs.schedulers.insideAngular))}}class $O{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?UO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Rt(t=>t.length>0),this.afs.keepUnstableUntilFirst):UO(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Zi((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=qO(t);return BO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return FO(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Lt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(mi.a)(this.query.get(t)).pipe(Object(uc.b)(this.afs.schedulers.insideAngular))}}const KO=new r.q("angularfire2.enableFirestorePersistence"),GO=new r.q("angularfire2.firestore.persistenceSettings"),WO=new r.q("angularfire2.firestore.settings"),QO=new r.q("angularfire2.firestore.use-emulator");function YO(t,e=(t=>t)){return{query:e(t),ref:t}}let XO=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c){this.schedulers=new lc.d(o),this.keepUnstableUntilFirst=Object(lc.h)(this.schedulers);const u=Object(lc.g)(t,o,e);!hc.a.auth&&c&&Object(lc.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(lc.f)(`${u.name}.firestore`,"AngularFirestore",u,()=>{const t=o.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return Object(mi.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(PO){return"undefined"!=typeof console&&console.warn(PO),Object(Et.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(Et.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=YO(n,e),o=this.schedulers.ngZone.run(()=>r);return new zO(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new $O(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new HO(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.cc(lc.c),r.cc(lc.b,8),r.cc(KO,8),r.cc(WO,8),r.cc(r.B),r.cc(r.z),r.cc(GO,8),r.cc(QO,8),r.cc(DO,8))},t.\u0275prov=r.Kb({factory:function(){return new t(r.cc(lc.c),r.cc(lc.b,8),r.cc(KO,8),r.cc(WO,8),r.cc(r.B),r.cc(r.z),r.cc(GO,8),r.cc(QO,8),r.cc(DO,8))},token:t,providedIn:"any"}),t})(),ZO=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:KO,useValue:!0},{provide:GO,useValue:e}]}}}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[XO]}),t})();var JO=n("n6bG");function tC(t,e,n,r){return Object(JO.a)(n)&&(r=n,n=void 0),r?tC(t,e,n).pipe(Object(Lt.a)(t=>Object(fi.a)(t)?r(...t):r(t))):new Wt.a(r=>{eC(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}function eC(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)eC(t[o],e,n,r,i)}r.add(o)}n("3N8a"),n("IjjT"),n("7Hc7");class nC{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new rC(t,this.durationSelector))}}class rC extends Wi.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Wi.c)(n,new Wi.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var iC=n("Y7HM");function oC(t=0,e,n){let r=-1;return Object(iC.a)(e)?r=Number(e)<1?1:Number(e):Object(_e.a)(e)&&(n=e),Object(_e.a)(n)||(n=It.a),new Wt.a(e=>{const i=Object(iC.a)(t)?t:+t-n.now();return n.schedule(sC,i,{index:0,period:r,subscriber:e})})}function sC(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function aC(t,e=It.a){return n=()=>oC(t,e),function(t){return t.lift(new nC(n))};var n}function cC(t){return e=>e.lift(new uC(t))}class uC{constructor(t){this.notifier=t}call(t,e){const n=new lC(t),r=Object(Wi.c)(this.notifier,new Wi.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class lC extends Wi.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let hC=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new xt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Wt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(aC(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Et.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Rt(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>tC(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.z),r.cc(wt),r.cc(a,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.z),Object(r.cc)(wt),Object(r.cc)(a,8))},token:t,providedIn:"root"}),t})(),dC=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new xt.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(aC(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.cc(wt),r.cc(r.z),r.cc(a,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(wt),Object(r.cc)(r.z),Object(r.cc)(a,8))},token:t,providedIn:"root"}),t})(),fC=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),pC=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[me,Ot,fC],me,fC]}),t})();class mC{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class gC extends mC{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class yC extends mC{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class bC extends mC{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class vC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof gC?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof yC?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof bC?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class _C extends vC{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let wC=(()=>{class t extends vC{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.n,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.j),r.Ob(r.Q),r.Ob(a))},t.\u0275dir=r.Jb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.yb]}),t})(),OC=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();class CC{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Kt(-this._previousScrollPosition.left),t.style.top=Kt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class xC{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class SC{enable(){}disable(){}attach(){}}function EC(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function TC(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class kC{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();EC(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let IC=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new SC,this.close=t=>new xC(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new CC(this._viewportRuler,this._document),this.reposition=t=>new kC(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.cc(hC),r.cc(dC),r.cc(r.z),r.cc(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(hC),Object(r.cc)(dC),Object(r.cc)(r.z),Object(r.cc)(a))},token:t,providedIn:"root"}),t})();class PC{constructor(t){if(this.scrollStrategy=new SC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class AC{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class MC{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let jC=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(a))},token:t,providedIn:"root"}),t})(),RC=(()=>{class t extends jC{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(a))},token:t,providedIn:"root"}),t})(),NC=(()=>{class t extends jC{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a),r.cc(wt))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(a),Object(r.cc)(wt))},token:t,providedIn:"root"}),t})();const DC=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let LC=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||DC){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),DC?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a),r.cc(wt))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(a),Object(r.cc)(wt))},token:t,providedIn:"root"}),t})();class FC{constructor(t,e,n,r,i,o,s,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new xt.a,this._attachments=new xt.a,this._detachments=new xt.a,this._locationChanges=St.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new xt.a,this._outsidePointerEvents=new xt.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Bt(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Kt(this._config.width),t.height=Kt(this._config.height),t.minWidth=Kt(this._config.minWidth),t.minHeight=Kt(this._config.minHeight),t.maxWidth=Kt(this._config.maxWidth),t.maxHeight=Kt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;$t(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(cC(Object(NO.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const UC=/([A-Za-z%]+)$/;class BC{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xt.a,this._resizeSubscription=St.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),c=this._getOverlayFit(a,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&VC(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:o}=t,s=this._getOffset(r,"x"),a=this._getOffset(r,"y");s&&(i+=s),a&&(o+=a);let c=0-o,u=o+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,c,u),d=l*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=qC(this._overlayRef.getConfig().minHeight),s=qC(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.width,0),o=Math.max(t.y+e.height-r.height,0),s=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let c=0,u=0;return c=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=e.height<=r.height?s||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new MC(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,c,u;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:o,left:c,bottom:s,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=Kt(n.height),r.top=Kt(n.top),r.bottom=Kt(n.bottom),r.width=Kt(n.width),r.left=Kt(n.left),r.right=Kt(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=Kt(t)),i&&(r.maxWidth=Kt(i))}this._lastBoundingBoxSize=n,VC(this._boundingBox.style,r)}_resetBoundingBoxStyles(){VC(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){VC(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();VC(n,this._getExactOverlayY(e,t,r)),VC(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=Kt(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=Kt(o.maxWidth):i&&(n.maxWidth="")),VC(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=Kt(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=Kt(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:TC(t,n),isOriginOutsideView:EC(t,n),isOverlayClipped:TC(e,n),isOverlayOutsideView:EC(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&$t(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function VC(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function qC(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(UC);return n&&"px"!==n?null:parseFloat(e)}return t||null}class zC{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new BC(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new AC(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class HC{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:s}=n,a=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==i&&"100vh"!==i||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let $C=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new HC}connectedTo(t,e,n){return new zC(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new BC(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(dC),r.cc(a),r.cc(wt),r.cc(LC))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(dC),Object(r.cc)(a),Object(r.cc)(wt),Object(r.cc)(LC))},token:t,providedIn:"root"}),t})(),KC=0,GC=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new PC(t);return i.direction=i.direction||this._directionality.value,new FC(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+KC++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new _C(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(IC),r.cc(LC),r.cc(r.j),r.cc($C),r.cc(RC),r.cc(r.r),r.cc(r.z),r.cc(a),r.cc(pe),r.cc(O),r.cc(NC))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const WC={provide:new r.q("cdk-connected-overlay-scroll-strategy"),deps:[GC],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let QC=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[GC,WC],imports:[[me,OC,pC],pC]}),t})();const YC=["mat-button",""],XC=["*"],ZC=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class JC{constructor(t){this._elementRef=t}}const tx=ti(Jr(ei(JC)));let ex=(()=>{class t extends tx{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of ZC)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(le),r.Ob(Hr,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&r.Lc(hi,!0),2&t&&r.vc(n=r.gc())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Cb("disabled",e.disabled||null),r.Gb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.yb],attrs:YC,ngContentSelectors:XC,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.nc(),r.Ub(0,"span",0),r.mc(1),r.Tb(),r.Pb(2,"span",1),r.Pb(3,"span",2)),2&t&&(r.Bb(2),r.Gb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.oc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[hi],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),nx=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[di,Zr],Zr]}),t})();class rx{constructor(t){this.total=t}call(t,e){return e.subscribe(new ix(t,this.total))}}class ix extends kt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const ox=new Set;let sx,ax=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):cx}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!ox.has(t))try{sx||(sx=document.createElement("style"),sx.setAttribute("type","text/css"),document.head.appendChild(sx)),sx.sheet&&(sx.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),ox.add(t))}catch(PO){console.error(PO)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.cc(wt))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(wt))},token:t,providedIn:"root"}),t})();function cx(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let ux=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new xt.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return lx($t(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Mi(lx($t(t)).map(t=>this._registerQuery(t).observable));return e=ve(e.pipe(Bt(1)),e.pipe((1,t=>t.lift(new rx(1))),Pt(0))),e.pipe(Object(Lt.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new Wt.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(we(e),Object(Lt.a)(({matches:e})=>({query:t,matches:e})),cC(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.cc(ax),r.cc(r.z))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(ax),Object(r.cc)(r.z))},token:t,providedIn:"root"}),t})();function lx(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function hx(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",1),r.Ub(1,"button",2),r.fc("click",(function(){return r.xc(t),r.jc().action()})),r.Hc(2),r.Tb(),r.Tb()}if(2&t){const t=r.jc();r.Bb(2),r.Ic(t.data.action)}}function dx(t,e){}const fx=new r.q("MatSnackBarData");class px{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const mx=Math.pow(2,31)-1;class gx{constructor(t,e){this._overlayRef=e,this._afterDismissed=new xt.a,this._afterOpened=new xt.a,this._onAction=new xt.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,mx))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let yx=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(gx),r.Ob(fx))},t.\u0275cmp=r.Ib({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"span"),r.Hc(1),r.Tb(),r.Fc(2,hx,3,1,"div",0)),2&t&&(r.Bb(1),r.Ic(e.data.message),r.Bb(1),r.oc("ngIf",e.hasAction))},directives:[M,ex],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const bx={snackBarState:Ce("state",[ke("void, hidden",Te({transform:"scale(0.8)",opacity:0})),ke("visible",Te({transform:"scale(1)",opacity:1})),Ie("* => visible",xe("150ms cubic-bezier(0, 0, 0.2, 1)")),Ie("* => void, * => hidden",xe("75ms cubic-bezier(0.4, 0.0, 1, 1)",Te({opacity:0})))])};let vx=(()=>{class t extends vC{constructor(t,e,n,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=r,this._destroyed=!1,this._onExit=new xt.a,this._onEnter=new xt.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._role="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Bt(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.z),r.Ob(r.l),r.Ob(r.h),r.Ob(px))},t.\u0275cmp=r.Ib({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&r.Bc(wC,!0),2&t&&r.vc(n=r.gc())&&(e._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(t,e){1&t&&r.Dc("@state.done",(function(t){return e.onAnimationEnd(t)})),2&t&&(r.Cb("role",e._role),r.Ec("@state",e._animationState))},features:[r.yb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.Fc(0,dx,0,0,"ng-template",0)},directives:[wC],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[bx.snackBarState]}}),t})(),_x=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[QC,OC,D,nx,Zr],Zr]}),t})();const wx=new r.q("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new px}});let Ox=(()=>{class t{constructor(t,e,n,r,i,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=o,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=yx,this.snackBarContainerComponent=vx,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=r.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:px,useValue:e}]}),i=new gC(this.snackBarContainerComponent,e.viewContainerRef,n),o=t.attach(i);return o.instance.snackBarConfig=e,o.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new px),this._defaultConfig),e),i=this._createOverlay(n),o=this._attachSnackBarContainer(i,n),s=new gx(o,i);if(t instanceof r.L){const e=new yC(t,null,{$implicit:n.data,snackBarRef:s});s.instance=o.attachTemplatePortal(e)}else{const e=this._createInjector(n,s),r=new gC(t,void 0,e),i=o.attachComponentPortal(r);s.instance=i.instance}return this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait)").pipe(cC(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new PC;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,o=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return r.r.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:gx,useValue:e},{provide:fx,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(GC),r.cc(se),r.cc(r.r),r.cc(ux),r.cc(t,12),r.cc(wx))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(GC),Object(r.cc)(se),Object(r.cc)(r.o),Object(r.cc)(ux),Object(r.cc)(t,12),Object(r.cc)(wx))},token:t,providedIn:_x}),t})();function Cx(t,e){1&t&&(r.Sb(0),r.Ub(1,"p"),r.Hc(2,"Booked"),r.Tb(),r.Rb())}function xx(t,e){1&t&&(r.Ub(0,"p"),r.Hc(1,"Active"),r.Tb())}function Sx(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",7),r.fc("click",(function(){r.xc(t);const n=e.$implicit;return r.jc(3).active(n)})),r.Ub(1,"div",8),r.Fc(2,Cx,3,0,"ng-container",0),r.Fc(3,xx,2,0,"ng-template",null,1,r.Gc),r.Tb(),r.Pb(5,"img",9),r.Ub(6,"div",10),r.Ub(7,"h3"),r.Hc(8),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit,n=r.wc(4);r.Cc("background-color",0!==t.status?"rgb(39, 165, 228)":"rgb(241, 245, 247)"),r.Bb(1),r.Cc("border-color",0!==t.status?"#e65b40":"rgb(29, 228, 128)")("border-left","solid 13px transparent"),r.Bb(1),r.oc("ngIf",0!==t.status)("ngIfElse",n),r.Bb(6),r.Jc("Table No. ",t.tableNumber,"")}}function Ex(t,e){if(1&t&&(r.Ub(0,"div",5),r.Fc(1,Sx,9,9,"div",6),r.Tb()),2&t){const t=r.jc(2);r.Bb(1),r.oc("ngForOf",t.tables)}}function Tx(t,e){if(1&t&&(r.Ub(0,"div",5),r.Ub(1,"div",11),r.Pb(2,"img",9),r.Ub(3,"div",10),r.Ub(4,"h3"),r.Hc(5),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.jc(2);r.Bb(5),r.Jc("Your Table No. ",t.tableAlreadySelected,"")}}function kx(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Ub(1,"div"),r.Ub(2,"h3",2),r.Hc(3,"Please Select Active Table to serve your Order!"),r.Tb(),r.Fc(4,Ex,2,1,"div",3),r.Fc(5,Tx,6,1,"div",3),r.Ub(6,"div",4),r.fc("click",(function(){return r.xc(t),r.jc().order()})),r.Ub(7,"p"),r.Hc(8,"Confirm Order"),r.Tb(),r.Tb(),r.Tb(),r.Rb()}if(2&t){const t=r.jc();r.Bb(4),r.oc("ngIf",!t.tableAlreadySelected),r.Bb(1),r.oc("ngIf",t.tableAlreadySelected)}}const Ix=function(){return["../"]};function Px(t,e){1&t&&(r.Ub(0,"div"),r.Ub(1,"div",12),r.Pb(2,"div",13),r.Ub(3,"div",14),r.Ub(4,"p"),r.Hc(5,"\u2714"),r.Tb(),r.Tb(),r.Tb(),r.Ub(6,"div",15),r.Ub(7,"p",16),r.Hc(8,"Waiting for confirmation."),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Bb(6),r.oc("routerLink",r.rc(1,Ix)))}let Ax=(()=>{class t{constructor(t,e,n){this.route=t,this.db=e,this.snackBar=n,this.hotelname="",this.tables=[],this.select=[],this.isordered=!1,this.tableAlreadySelected=void 0,this.prevSelected=-1,this.hotelname=t.snapshot.params.hotel,e.collection("hotels").doc(this.hotelname).get().toPromise().then(t=>{this.tables=t.data().tables});const r=sessionStorage.getItem("tableNumber");r&&(this.tableAlreadySelected=r)}ngOnInit(){}order(){this.isordered=!0,this.tables[this.prevSelected].order.push(...Ci.cartItems),sessionStorage.setItem("tableNumber",this.prevSelected+""),this.db.collection("hotels").doc(this.hotelname).set({tables:this.tables},{merge:!0}).then(()=>{Ci.prevCartItems.push(...Ci.cartItems.splice(0,Ci.cartItems.length)),setTimeout(()=>{document.getElementById("s").style.transform="scale(1)",document.getElementById("m").innerText="Order Done, Go Back and Sit"},500)})}getIndex(t){let e=-1;return this.tables.forEach((n,r)=>{n.tableNumber===t&&(e=r)}),e}active(t){const e=this.getIndex(t.tableNumber);-1!==this.prevSelected&&(this.tables[this.prevSelected].status=0),0===this.tables[e].status?(this.tables[e].status=1,this.prevSelected=e):this.snackBar.open("please select Active Table","Try again",{duration:1e3})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(gs),r.Ob(XO),r.Ob(Ox))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-placeorder"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["elseTemplate",""],[2,"margin-left","10px","font-weight","600"],["class","tables",4,"ngIf"],["matRipple","",1,"confirm",3,"click"],[1,"tables"],["class","table",3,"background-color","click",4,"ngFor","ngForOf"],[1,"table",3,"click"],[1,"ribbon"],["src","https://img.icons8.com/ios/344/restaurant-table.png","alt",""],[1,"id"],[1,"table"],[1,"center"],[1,"shine"],["id","s",1,"success"],["matRipple","",1,"confirm",2,"margin-top","30px",3,"routerLink"],["id","m"]],template:function(t,e){if(1&t&&(r.Fc(0,kx,9,2,"ng-container",0),r.Fc(1,Px,9,2,"ng-template",null,1,r.Gc)),2&t){const t=r.wc(2);r.oc("ngIf",!e.isordered)("ngIfElse",t)}},directives:[M,hi,P,Da],styles:['.tables[_ngcontent-%COMP%]{padding:20px;display:grid;grid-template-columns:auto auto}.tables[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin-top:-10px;position:relative;justify-self:center;width:80%;padding:10px;text-align:center;border-radius:5px;background-color:#f1f5f7;box-shadow:1px 1px 3px 2px rgba(0,0,0,.3);transition:all 1s}.tables[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .ribbon[_ngcontent-%COMP%]{height:0;background-color:transparent;position:absolute;right:-5px;border:13px solid #e65b40;border-left-color:transparent;border-top-left-radius:5px;border-top-right-radius:5px;transition:all .2s;cursor:pointer}.tables[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .ribbon[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin:-8px 0 0 8px}.tables[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:20px;width:80%}.tables[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px}.tables[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif;margin:0}.confirm[_ngcontent-%COMP%]{margin:10px 30px;border-radius:5px;box-shadow:2px 2px 3px 2px rgba(0,0,0,.3);text-align:center;padding:10px 20px;background-color:#1d84e4}.confirm[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#fff;font-size:20px;font-weight:600px}.center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.center[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{width:200px;height:200px;margin:40px 0;border-radius:50%;box-shadow:2px 2px 3px 2px rgba(0,0,0,.3);text-align:center;padding:10px 20px;background-color:#1de480;transition:all 1s cubic-bezier(.71,.21,.62,1.66);transform:scale(0)}.center[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:75px 0 0;color:#fff;font-size:100px;font-weight:600px}.shine[_ngcontent-%COMP%]:after{content:"";margin-top:-100px;transform:translateX(100%);width:100%;height:250px;position:absolute;z-index:1;-webkit-animation:slide 1.5s ease-in infinite;animation:slide 1.5s ease-in infinite;background:linear-gradient(90deg,hsla(0,0%,100%,0) 0,hsla(0,0%,100%,.8) 50%,rgba(128,186,232,0) 99%,rgba(125,185,232,0));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#00ffffff",endColorstr="#007db9e8",GradientType=1)}@-webkit-keyframes slide{0%{transform:translateX(-100%)}to{transform:translateX(100%)}}@keyframes slide{0%{transform:translateX(-100%)}to{transform:translateX(100%)}}']}),t})(),Mx=(()=>{class t{get nativeWindow(){return window}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jx(t,e){}const Rx=new r.q("MatBottomSheetData");class Nx{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const Dx={bottomSheetState:Ce("state",[ke("void, hidden",Te({transform:"translateY(100%)"})),ke("visible",Te({transform:"translateY(0%)"})),Ie("visible => void, visible => hidden",xe(`${Wr.COMPLEX} ${Gr.ACCELERATION_CURVE}`)),Ie("void => visible",xe(`${Wr.EXITING} ${Gr.DECELERATION_CURVE}`))])};let Lx=(()=>{class t extends vC{constructor(t,e,n,i,o,s){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=n,this.bottomSheetConfig=s,this._animationState="void",this._animationStateChanged=new r.n,this._elementFocusedBeforeOpened=null,this.attachDomPortal=t=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._document=o,this._breakpointSubscription=i.observe(["(min-width: 960px) and (max-width: 1279.99px)","(min-width: 1280px) and (max-width: 1919.99px)","(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",i.isMatched("(min-width: 960px) and (max-width: 1279.99px)")),this._toggleClass("mat-bottom-sheet-container-large",i.isMatched("(min-width: 1280px) and (max-width: 1919.99px)")),this._toggleClass("mat-bottom-sheet-container-xlarge",i.isMatched("(min-width: 1920px)"))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const n=this._elementRef.nativeElement.classList;e?n.add(t):n.remove(t)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(re),r.Ob(ux),r.Ob(a,8),r.Ob(Nx))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){var n;1&t&&r.Bc(wC,!0),2&t&&r.vc(n=r.gc())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&r.Dc("@state.start",(function(t){return e._onAnimationStart(t)}))("@state.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Cb("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),r.Ec("@state",e._animationState))},features:[r.yb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.Fc(0,jx,0,0,"ng-template",0)},directives:[wC],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[Dx.bottomSheetState]},changeDetection:0}),t})(),Fx=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[QC,Zr,OC],Zr]}),t})();class Ux{constructor(t,e,n){this._overlayRef=e,this._afterDismissed=new xt.a,this._afterOpened=new xt.a,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe(Rt(t=>"done"===t.phaseName&&"visible"===t.toState),Bt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Rt(t=>"done"===t.phaseName&&"hidden"===t.toState),Bt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe(Bt(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),Object(NO.a)(e.backdropClick(),e.keydownEvents().pipe(Rt(t=>27===t.keyCode))).subscribe(t=>{this.disableClose||"keydown"===t.type&&function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t)||(t.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(Rt(t=>"start"===t.phaseName),Bt(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const Bx=new r.q("mat-bottom-sheet-default-options");let Vx=(()=>{class t{constructor(t,e,n,r,i){this._overlay=t,this._injector=e,this._parentBottomSheet=n,this._location=r,this._defaultOptions=i,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const n=function(t,e){return Object.assign(Object.assign({},t),e)}(this._defaultOptions||new Nx,e),i=this._createOverlay(n),o=this._attachContainer(i,n),s=new Ux(o,i,this._location);if(t instanceof r.L)o.attachTemplatePortal(new yC(t,null,{$implicit:n.data,bottomSheetRef:s}));else{const e=new gC(t,void 0,this._createInjector(n,s)),r=o.attachComponentPortal(e);s.instance=r.instance}return s.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==s&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>s.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):s.containerInstance.enter(),this._openedBottomSheetRef=s,s}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,e){const n=r.r.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Nx,useValue:e}]}),i=new gC(Lx,e.viewContainerRef,n);return t.attach(i).instance}_createOverlay(t){const e=new PC({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=[{provide:Ux,useValue:e},{provide:Rx,useValue:t.data}];return!t.direction||n&&n.get(pe,null)||i.push({provide:pe,useValue:{value:t.direction,change:Object(Et.a)()}}),r.r.create({parent:n||this._injector,providers:i})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(GC),r.cc(r.r),r.cc(t,12),r.cc(O,8),r.cc(Bx,8))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(GC),Object(r.cc)(r.o),Object(r.cc)(t,12),Object(r.cc)(O,8),Object(r.cc)(Bx,8))},token:t,providedIn:Fx}),t})(),qx=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=zt(t)}get inset(){return this._inset}set inset(t){this._inset=zt(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Cb("aria-orientation",e.vertical?"vertical":"horizontal"),r.Gb("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),zx=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Zr],Zr]}),t})();var Hx=n("z6cu"),$x=n("w1tV");class Kx{}class Gx{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Gx?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Gx;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Gx?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Wx{encodeKey(t){return Qx(t)}encodeValue(t){return Qx(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Qx(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Yx{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Wx,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Yx({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Xx(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Zx(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Jx(t){return"undefined"!=typeof FormData&&t instanceof FormData}class tS{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Gx),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Yx,this.urlWithParams=e}serializeBody(){return null===this.body?null:Xx(this.body)||Zx(this.body)||Jx(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yx?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Jx(this.body)?null:Zx(this.body)?this.body.type||null:Xx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yx?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new tS(e,n,i,{params:c,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var eS=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class nS extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new Gx,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=eS.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new nS({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function rS(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let iS=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof tS)r=t;else{let i,o;i=n.headers instanceof Gx?n.headers:new Gx(n.headers),n.params&&(o=n.params instanceof Yx?n.params:new Yx({fromObject:n.params})),r=new tS(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Et.a)(r).pipe(oo(t=>this.handler.handle(t)));if(t instanceof tS||"events"===n.observe)return i;const o=i.pipe(Rt(t=>t instanceof nS));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(Lt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(Lt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(Lt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(Lt.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Yx).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,rS(n,e))}post(t,e,n={}){return this.request("POST",t,rS(n,e))}put(t,e,n={}){return this.request("PUT",t,rS(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.cc(Kx))},t.\u0275prov=r.Kb({token:t,factory:t.\u0275fac}),t})();const oS=["*"];function sS(t){return Error(`Unable to find icon with the name "${t}"`)}function aS(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function cS(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class uS{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let lS=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new uS(n,null,r))}addSvgIconLiteralInNamespace(t,e,n,i){const o=this._sanitizer.sanitize(r.I.HTML,n);if(!o)throw cS(n);return this._addSvgIconConfig(t,e,new uS("",o,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new uS(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.I.HTML,e);if(!i)throw cS(e);return this._addSvgIconSetConfig(t,new uS("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.I.RESOURCE_URL,t);if(!e)throw aS(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Et.a)(hS(n)):this._loadSvgIconFromConfig(new uS(t,null)).pipe(Object(Tt.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(Lt.a)(t=>hS(t)))}getNamedSvgIcon(t,e=""){const n=dS(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(Hx.a)(sS(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Et.a)(hS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(Lt.a)(t=>hS(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Et.a)(n):function(...t){if(1===t.length){const e=t[0];if(Object(fi.a)(e))return gi(e,null);if(Object(pi.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return gi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return gi(t=1===t.length&&Object(fi.a)(t[0])?t[0]:t,null).pipe(Object(Lt.a)(t=>e(...t)))}return gi(t,null)}(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(eo(e=>{const n=this._sanitizer.sanitize(r.I.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Et.a)(null)})))).pipe(Object(Lt.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw sS(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Tt.a)(e=>t.svgText=e),Object(Lt.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Et.a)(null):this._fetchIcon(t).pipe(Object(Tt.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,o=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(r.I.RESOURCE_URL,n);if(!s)throw aS(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(ao(()=>this._inProgressUrlFetches.delete(s)),Object($x.a)());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(dS(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}}return t.\u0275fac=function(e){return new(e||t)(r.cc(iS,8),r.cc(dt),r.cc(a,8),r.cc(r.m))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(iS,8),Object(r.cc)(dt),Object(r.cc)(a,8),Object(r.cc)(r.m))},token:t,providedIn:"root"}),t})();function hS(t){return t.cloneNode(!0)}function dS(t,e){return t+":"+e}class fS{constructor(t){this._elementRef=t}}const pS=ti(fS),mS=new r.q("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.W)(a),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),gS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],yS=gS.map(t=>`[${t}]`).join(", "),bS=/^url\(['"]?#(.*?)['"]?\)$/;let vS=(()=>{class t extends pS{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=St.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=zt(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(yS),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)gS.forEach(t=>{const i=e[r],o=i.getAttribute(t),s=o?o.match(bS):null;if(s){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:s[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Bt(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(lS),r.dc("aria-hidden"),r.Ob(mS),r.Ob(r.m))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Cb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Gb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.yb],ngContentSelectors:oS,decls:1,vars:0,template:function(t,e){1&t&&(r.nc(),r.mc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),_S=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Zr],Zr]}),t})();function wS(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",9),r.Ub(1,"div",10),r.Pb(2,"img",11),r.Tb(),r.Ub(3,"div",12),r.Ub(4,"div",13),r.Ub(5,"div",14),r.Ub(6,"h3"),r.Hc(7),r.Tb(),r.Pb(8,"div",15),r.Tb(),r.Ub(9,"div",16),r.Ub(10,"div",17),r.Ub(11,"div",18),r.fc("click",(function(){r.xc(t);const n=e.$implicit;return r.jc(2).add(n.itemId)})),r.Ub(12,"mat-icon"),r.Hc(13,"add"),r.Tb(),r.Tb(),r.Ub(14,"p"),r.Hc(15),r.Tb(),r.Ub(16,"div",18),r.fc("click",(function(){r.xc(t);const n=e.$implicit;return r.jc(2).remove(n.itemId)})),r.Ub(17,"mat-icon",19),r.Hc(18,"minimize"),r.Tb(),r.Tb(),r.Tb(),r.Ub(19,"h4"),r.Hc(20),r.Tb(),r.Ub(21,"div",20),r.fc("click",(function(){r.xc(t);const n=e.$implicit;return r.jc(2).removefromcart(n.itemId)})),r.Ub(22,"mat-icon",21),r.Hc(23,"add_shopping_cart"),r.Tb(),r.Ub(24,"p",22),r.Hc(25,"remove"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit;r.pc("id",t.itemId),r.Bb(2),r.pc("src",t.image,r.yc),r.Bb(5),r.Ic(t.itemName),r.Bb(8),r.Ic(t.count),r.Bb(5),r.Jc("\u20b9 ",t.count*t.rate,"")}}function OS(t,e){if(1&t&&(r.Sb(0),r.Ub(1,"div",7),r.Fc(2,wS,26,5,"div",8),r.Tb(),r.Rb()),2&t){const t=r.jc();r.Bb(2),r.oc("ngForOf",t.cartItems)}}function CS(t,e){1&t&&(r.Ub(0,"p",23),r.Hc(1,"No Items"),r.Tb())}let xS=(()=>{class t{constructor(t,e,n){for(var r in this.zone=t,this.winRef=e,this.buttonsheetref=n,this.isEditable=!1,this.check=!1,this.cartItems=Ci.cartItems,this.total=0,this.isPlaceOrder=!1,this.options={key:"rzp_test_p3yS9vCKJBJ4FJ",name:"The Swag Coder",description:"Shopping",amount:100,prefill:{name:"The Swag Coder",email:"jithendhra567@gmail.com"},notes:{},theme:{color:"#3880FF"},handler:this.paymentHandler.bind(this),modal:{ondismiss:()=>{this.zone.run(()=>{console.log("Check")})}}},this._window=this.winRef.nativeWindow,this.cartItems)this.cartItems[r][Oi.count]=1,this.total+=+this.cartItems[r].rate}ngOnInit(){}getCartId(t){for(let e=0;e<this.cartItems.length;e++)if(this.cartItems[e].itemId===t)return e;return-1}getId(t){var e=t.split("I")[0],n=Ci.allItems[e],r="";for(var i in n)n[i][Oi.id]==t&&(r=i);return[r,e]}add(t){var e=this.getCartId(t);this.cartItems[e][Oi.count]++,this.total=0,this.cartItems.forEach(t=>this.total+=+t.rate*+t.count)}remove(t){var e=this.getCartId(t);this.cartItems[e][Oi.count]>1&&this.cartItems[e][Oi.count]--,this.total=0,this.cartItems.forEach(t=>this.total+=+t.rate*+t.count)}removefromcart(t){var e=this.getCartId(t);this.cartItems.splice(+e,1),Ci.cartItems.splice(+e,1),this.total=0,this.cartItems.forEach(t=>this.total+=+t.rate*+t.count)}initPay(){this.isPlaceOrder=!0,this.buttonsheetref.dismiss()}paymentHandler(t){this.zone.run(()=>{console.log("Done")})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.z),r.Ob(Mx),r.Ob(Ux))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-order"]],decls:19,vars:3,consts:[[1,"order"],[1,"title"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"bottom"],[1,"total-price"],["matRipple","",1,"placeorder",3,"click"],[1,"items"],["class","item",3,"id",4,"ngFor","ngForOf"],[1,"item",3,"id"],[1,"item_image"],[1,"shine",3,"src"],[1,"item_content"],[1,"main"],[1,"content"],[1,"cont"],[1,"count"],[1,"counter"],["matRipple","",3,"click"],[2,"margin-top","-1px"],["matRipple","","id","cart",1,"addtocart",3,"click"],[1,"icon"],["name","addtocart"],[2,"font-size","30px","margin-top","20px","margin-bottom","20px","color","rgba(151, 151, 151, 0.801)"]],template:function(t,e){if(1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"h3"),r.Hc(3,"Items"),r.Tb(),r.Pb(4,"mat-divider"),r.Tb(),r.Fc(5,OS,3,1,"ng-container",2),r.Fc(6,CS,2,0,"ng-template",null,3,r.Gc),r.Ub(8,"div",4),r.Ub(9,"div",5),r.Ub(10,"h4"),r.Hc(11,"Total"),r.Tb(),r.Ub(12,"p"),r.Hc(13),r.Tb(),r.Tb(),r.Ub(14,"div",6),r.fc("click",(function(){return e.initPay()})),r.Ub(15,"h3"),r.Hc(16,"Place Order"),r.Tb(),r.Ub(17,"mat-icon"),r.Hc(18,"contactless"),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.wc(7);r.Bb(5),r.oc("ngIf",e.cartItems.length>0)("ngIfElse",t),r.Bb(8),r.Jc("\u20b9 ",e.total,"")}},directives:[qx,M,hi,vS,P],styles:["h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:serif}.order[_ngcontent-%COMP%]{position:relative;max-height:600px}.order[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:-5px;font-size:20px}.order[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{width:100vw;background-color:#fff;position:sticky;margin-left:-16px;bottom:-10px;box-shadow:0 -3px 2px rgba(0,0,0,.308);padding:10px 10px 0;justify-content:space-between}.order[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%], .order[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{height:70px;display:flex;align-items:center}.order[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]{margin-left:20px;margin-top:8px;justify-content:center;flex-direction:column}.order[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{height:10px;font-size:17px}.order[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .total-price[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#002f64;font-size:20px}.order[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .placeorder[_ngcontent-%COMP%]{height:50px;display:flex;border-radius:5px;justify-content:center;background-color:#1473f0;box-shadow:1px 2px rgba(97,97,97,.308);align-items:center}.order[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .placeorder[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin:5px 5px 5px 15px}.order[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .placeorder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;margin-right:10px}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;font-size:28px;flex-direction:column;align-items:stretch}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;border-radius:5px;background-color:#fff;padding:5px;display:flex;align-items:center}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:5px}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:75%;margin-left:5px;margin-top:-5px}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:45vw;margin:0;font-size:.45em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:6px}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .veg[_ngcontent-%COMP%]{font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;justify-self:center;padding:1px 6px;display:inline-block;border-radius:3px;background-color:#f0d8f5;font-size:.25em;color:#9c27c0}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]{align-items:flex-end;margin-top:-5px;margin-left:10px;display:flex}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#5c77ff;margin:5px 0 0;font-weight:600;font-size:1em}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{font-size:12px;margin-bottom:-8px;margin-top:5px}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-top:-5px}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{display:flex;align-items:center}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px;background-color:#e9e0e0;height:20px;width:20px;border-radius:5px;display:flex;justify-content:center;align-items:center}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:10px;font-size:.5em}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:10px;font-weight:600;font-size:.55em}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#5c77ff;font-weight:600;padding-left:4px;margin:-5px 0 0;font-size:.4em}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .addtocart[_ngcontent-%COMP%]{display:flex;padding-left:7px;padding-right:10px;height:25px;margin-top:2px;border-radius:5px;background-color:#f44336;transition:all 1 ease-in}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .addtocart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin-top:2px;margin-left:-5px;font-size:.4em}.order[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .addtocart[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff;margin-top:5px;font-size:13px}"]}),t})();const SS=["input"],ES=function(){return{enterDuration:150}},TS=["*"],kS=new r.q("mat-checkbox-default-options",{providedIn:"root",factory:function(){return{color:"accent",clickAction:"check-indeterminate"}}}),IS=new r.q("mat-checkbox-click-action");let PS=0;const AS={provide:yi,useExisting:Object(r.V)(()=>NS),multi:!0};class MS{}class jS{constructor(t){this._elementRef=t}}const RS=ni(ti(ei(Jr(jS))));let NS=(()=>{class t extends RS{constructor(t,e,n,i,o,s,a,c){super(t),this._changeDetectorRef=e,this._focusMonitor=n,this._ngZone=i,this._clickAction=s,this._animationMode=a,this._options=c,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++PS,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new r.n,this.indeterminateChange=new r.n,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||{},this._options.color&&(this.color=this.defaultColor=this._options.color),this.tabIndex=parseInt(o)||0,this._clickAction=this._clickAction||this._options.clickAction}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(t){this._required=zt(t)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){const e=zt(t);e!==this.disabled&&(this._disabled=e,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const e=t!=this._indeterminate;this._indeterminate=zt(t),e&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(t){let e=this._currentCheckState,n=this._elementRef.nativeElement;if(e!==t&&(this._currentAnimationClass.length>0&&n.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(e,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){n.classList.add(this._currentAnimationClass);const t=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{n.classList.remove(t)},1e3)})}}_emitChangeEvent(){const t=new MS;t.source=this,t.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(t)}toggle(){this.checked=!this.checked}_onInputClick(t){t.stopPropagation(),this.disabled||"noop"===this._clickAction?this.disabled||"noop"!==this._clickAction||(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==this._clickAction&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this.toggle(),this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(t="keyboard",e){this._focusMonitor.focusVia(this._inputElement,t,e)}_onInteractionEvent(t){t.stopPropagation()}_getAnimationClassForCheckStateTransition(t,e){if("NoopAnimations"===this._animationMode)return"";let n="";switch(t){case 0:if(1===e)n="unchecked-checked";else{if(3!=e)return"";n="unchecked-indeterminate"}break;case 2:n=1===e?"unchecked-checked":"unchecked-indeterminate";break;case 1:n=2===e?"checked-unchecked":"checked-indeterminate";break;case 3:n=1===e?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${n}`}_syncIndeterminate(t){const e=this._inputElement;e&&(e.nativeElement.indeterminate=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.h),r.Ob(le),r.Ob(r.z),r.dc("tabindex"),r.Ob(IS,8),r.Ob(Hr,8),r.Ob(kS,8))},t.\u0275cmp=r.Ib({type:t,selectors:[["mat-checkbox"]],viewQuery:function(t,e){var n;1&t&&(r.Lc(SS,!0),r.Lc(hi,!0)),2&t&&(r.vc(n=r.gc())&&(e._inputElement=n.first),r.vc(n=r.gc())&&(e.ripple=n.first))},hostAttrs:[1,"mat-checkbox"],hostVars:12,hostBindings:function(t,e){2&t&&(r.Xb("id",e.id),r.Cb("tabindex",null),r.Gb("mat-checkbox-indeterminate",e.indeterminate)("mat-checkbox-checked",e.checked)("mat-checkbox-disabled",e.disabled)("mat-checkbox-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],id:"id",labelPosition:"labelPosition",name:"name",required:"required",checked:"checked",disabled:"disabled",indeterminate:"indeterminate",ariaDescribedby:["aria-describedby","ariaDescribedby"],value:"value"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[r.Ab([AS]),r.yb],ngContentSelectors:TS,decls:17,vars:20,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24",0,"xml","space","preserve",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(t,e){if(1&t&&(r.nc(),r.Ub(0,"label",0,1),r.Ub(2,"div",2),r.Ub(3,"input",3,4),r.fc("change",(function(t){return e._onInteractionEvent(t)}))("click",(function(t){return e._onInputClick(t)})),r.Tb(),r.Ub(5,"div",5),r.Pb(6,"div",6),r.Tb(),r.Pb(7,"div",7),r.Ub(8,"div",8),r.ic(),r.Ub(9,"svg",9),r.Pb(10,"path",10),r.Tb(),r.hc(),r.Pb(11,"div",11),r.Tb(),r.Tb(),r.Ub(12,"span",12,13),r.fc("cdkObserveContent",(function(){return e._onLabelTextChange()})),r.Ub(14,"span",14),r.Hc(15,"\xa0"),r.Tb(),r.mc(16),r.Tb(),r.Tb()),2&t){const t=r.wc(1),n=r.wc(13);r.Cb("for",e.inputId),r.Bb(2),r.Gb("mat-checkbox-inner-container-no-side-margin",!n.textContent||!n.textContent.trim()),r.Bb(1),r.oc("id",e.inputId)("required",e.required)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex),r.Cb("value",e.value)("name",e.name)("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby)("aria-checked",e._getAriaChecked())("aria-describedby",e.ariaDescribedby),r.Bb(2),r.oc("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",r.rc(19,ES))}},directives:[hi,Xt],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox-layout{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-frame{border-style:dotted}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}\n"],encapsulation:2,changeDetection:0}),t})(),DS=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),LS=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[di,Zr,Zt,DS],Zr,DS]}),t})();function FS(t,e){if(1&t&&(r.Ub(0,"div",14),r.Hc(1),r.Tb()),2&t){const t=e.$implicit;r.Bb(1),r.Ic(t.name)}}function US(t,e){if(1&t){const t=r.Vb();r.Sb(0),r.Ub(1,"mat-checkbox",15),r.fc("click",(function(){r.xc(t);const e=r.jc();return e.half(e.item.id)})),r.Hc(2,"Half"),r.Tb(),r.Rb()}if(2&t){const t=r.jc();r.Bb(1),r.oc("checked",!t.item.isfull)}}function BS(t,e){1&t&&(r.Ub(0,"h4"),r.Hc(1,"full"),r.Tb())}let VS=(()=>{class t{constructor(t,e){this.data=t,this.ref=e,this.item={};const[n,r]=this.getId(t.id);this.item=Ci.allItems[r][n]}ngOnInit(){}close(){this.ref.dismiss()}getId(t){var e=t.split("I")[0],n=Ci.allItems[e],r="";for(var i in n)n[i][Oi.id]==t&&(r=i);return[r,e]}half(t){const[e,n]=this.getId(t);Ci.allItems[n][e][Oi.isFull]=!Ci.allItems[n][e][Oi.isFull]}addtocart(t){const[e,n]=this.getId(t);document.getElementById("c")}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Rx),r.Ob(Ux))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-info"]],decls:27,vars:7,consts:[[1,"info"],["alt","",3,"src"],[1,"item_content"],[1,"main"],[1,"content"],[1,"tags"],["class","tag",4,"ngFor","ngForOf"],[1,"veg"],[1,"type"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"bottom"],["matRipple","",1,"cancel",3,"click"],["matRipple","","id","c",1,"placeorder",3,"click"],[1,"tag"],[2,"font-size","14px","margin-bottom","-8px",3,"checked","click"]],template:function(t,e){if(1&t&&(r.Ub(0,"div",0),r.Pb(1,"img",1),r.Ub(2,"div",2),r.Ub(3,"div",3),r.Ub(4,"div",4),r.Ub(5,"h3"),r.Hc(6),r.Tb(),r.Ub(7,"div",5),r.Fc(8,FS,2,1,"div",6),r.Tb(),r.Ub(9,"div",7),r.Hc(10),r.Tb(),r.Tb(),r.Ub(11,"div"),r.Ub(12,"h4"),r.Hc(13),r.Tb(),r.Ub(14,"div",8),r.Fc(15,US,3,1,"ng-container",9),r.Fc(16,BS,2,0,"ng-template",null,10,r.Gc),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(18,"div",11),r.Ub(19,"div",12),r.fc("click",(function(){return e.close()})),r.Ub(20,"h3"),r.Hc(21,"Close"),r.Tb(),r.Tb(),r.Ub(22,"div",13),r.fc("click",(function(){return e.addtocart(e.item.id)})),r.Ub(23,"h3"),r.Hc(24,"Add"),r.Tb(),r.Ub(25,"mat-icon"),r.Hc(26,"add_shopping_cart"),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.wc(17);r.Bb(1),r.pc("src",e.item.img,r.yc),r.Bb(5),r.Ic(e.item.title),r.Bb(2),r.oc("ngForOf",e.item.tags),r.Bb(2),r.Ic(e.item.veg),r.Bb(3),r.Jc("\u20b9 ",e.item.prize,""),r.Bb(2),r.oc("ngIf",e.item.half)("ngIfElse",t)}},directives:[P,M,hi,vS,NS],styles:["h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:serif}.info[_ngcontent-%COMP%]{position:relative;font-size:30px}.info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]{margin-left:5px;display:flex;flex-direction:column;justify-content:space-between;width:100%;margin-top:10px;margin-bottom:20px}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 5px 0 0;font-size:.6em}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:5px;font-size:.45em}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;padding:1px 5px;border-radius:3px;background-color:#c8ecf1;font-size:.3em;color:#00c2df}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] ~ .tag[_ngcontent-%COMP%]{margin-left:5px}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .veg[_ngcontent-%COMP%]{font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;justify-self:center;margin-top:4px;padding:1px 6px;display:inline-block;border-radius:3px;background-color:#f0d8f5;font-size:.3em;z-index:100;color:#9c27c0}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{margin-top:-5px;display:flex;align-items:center}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px;background-color:#e9e0e0;height:24px;width:24px;border-radius:5px;display:flex;justify-content:center;align-items:center}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:4px;font-size:.65em}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{align-items:flex-end;margin-top:-5px;justify-content:space-between;display:flex}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:10px;font-weight:600;font-size:.6em}.info[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#0b6ceb;font-weight:600;font-size:.6em}.info[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{width:100vw;height:70px;position:sticky;margin-left:-16px;bottom:-10px;border-top:.8px solid rgba(0,0,0,.308);padding:10px;justify-content:space-between}.info[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%], .info[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center}.info[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{height:30px;margin-left:10px;border-radius:5px;box-shadow:1px 2px 5px rgba(97,97,97,.308);justify-content:center}.info[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ec0f0f;margin:0 10px}.info[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.info[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .placeorder[_ngcontent-%COMP%]{height:40px;display:flex;border-radius:5px;justify-content:center;background-color:#296fca;box-shadow:1px 2px rgba(97,97,97,.308);align-items:center}.info[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .placeorder[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin:5px 5px 5px 15px}.info[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .placeorder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;margin-right:10px}"]}),t})();const qS=["notify"];function zS(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",15),r.Pb(1,"img",16),r.Ub(2,"div",17),r.Ub(3,"p",18),r.Hc(4),r.Tb(),r.Ub(5,"p",19),r.Hc(6),r.Tb(),r.Tb(),r.Ub(7,"div",20),r.fc("click",(function(){r.xc(t);const n=e.$implicit;return r.jc().addtocart(n)})),r.Hc(8,"add"),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit;r.pc("id",t.itemId),r.Bb(1),r.pc("src",t.image,r.yc),r.Bb(3),r.Ic(t.itemName),r.Bb(2),r.Jc("",t.rate," \u20b9")}}const HS=function(){return["../../"]};let $S=(()=>{class t{constructor(t,e,n,r){this._bottomSheet=t,this.firestore=e,this.route=n,this.router=r,this.items=[],this.cartItems=Ci.cartItems.length,this.hotel_name="",this.hotel_name=n.snapshot.params.hotel;var i=n.snapshot.params.menu;e.collection(this.hotel_name,t=>t.where("categoryName","==",i)).get().toPromise().then(t=>{t.docs.forEach(t=>{const e=t.data();this.items.push(e)})})}cartupdate(){this.items.forEach(t=>{const[e,n]=this.getId(t[Oi.id]);setTimeout(()=>{this.addtocart(t[Oi.id])},1e3)})}getId(t){var e=t.split("I")[0],n=Ci.allItems[e],r="";for(var i in n)n[i][Oi.id]==t&&(r=i);return[r,e]}addtocart(t){const e=document.getElementById(t.itemId).getElementsByClassName("cart")[0],n=Ci.isAddedToCart(t);e.style.backgroundColor=n?"#296fca":"#f44336",e.innerText=n?"add":"added",n?Ci.removeFromCart(t):Ci.cartItems.push(t),this.cartItems=Ci.cartItems.length}cart(){var t=this._bottomSheet.open(xS);t.afterDismissed().subscribe(()=>{t.instance.isPlaceOrder&&this.router.navigate([this.hotel_name+"/placeorder"])})}itemInfo(t){this._bottomSheet.open(VS,{data:{id:t}}).afterDismissed().subscribe(()=>{this.items.forEach(t=>{const[e,n]=this.getId(t[Oi.id]);this.addtocart(t[Oi.id])})})}ngOnInit(){}search(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Vx),r.Ob(XO),r.Ob(gs),r.Ob(Na))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-categories"]],viewQuery:function(t,e){var n;1&t&&r.Lc(qS,!0),2&t&&r.vc(n=r.gc())&&(e.cart_notification=n.first)},decls:22,vars:4,consts:[[1,"search"],["aria-hidden","false","aria-label","Search",3,"routerLink"],["type","text","placeholder","Search ... ",1,"search_text"],["matRipple","",1,"card"],[1,"search_item",3,"click"],["id","content",1,"menu"],[1,"special"],[1,"toolbar"],[1,"title"],[1,"spacer"],["matRipple","",1,"floatingcart",3,"click"],[1,"notification"],[1,"card",2,"margin-top","-10px","background-color","#3b3a3a7e"],["id","menu",1,"menu_list"],["class","item2",3,"id",4,"ngFor","ngForOf"],[1,"item2",3,"id"],["alt","","srcset","",1,"shine",3,"src"],[1,"content"],[1,"name"],[1,"rate"],[1,"cart",3,"click"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"mat-icon",1),r.Hc(2,"arrow_back"),r.Tb(),r.Pb(3,"input",2),r.Ub(4,"div",3),r.Ub(5,"p",4),r.fc("click",(function(){return e.search()})),r.Hc(6,"Go"),r.Tb(),r.Tb(),r.Tb(),r.Ub(7,"div",5),r.Ub(8,"div",6),r.Ub(9,"div",7),r.Ub(10,"h1",8),r.Hc(11,"Menu Items"),r.Tb(),r.Pb(12,"span",9),r.Ub(13,"div",10),r.fc("click",(function(){return e.cart()})),r.Ub(14,"mat-icon"),r.Hc(15,"add_shopping_cart"),r.Tb(),r.Tb(),r.Ub(16,"div",11),r.Ub(17,"p"),r.Hc(18),r.Tb(),r.Tb(),r.Tb(),r.Pb(19,"div",12),r.Ub(20,"div",13),r.Fc(21,zS,9,4,"div",14),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Bb(1),r.oc("routerLink",r.rc(3,HS)),r.Bb(17),r.Ic(e.cartItems),r.Bb(3),r.oc("ngForOf",e.items))},directives:[vS,Da,hi,P],styles:['@import url("https://fonts.googleapis.com/css2?family=Zilla+Slab:wght@300&display=swap");h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Zilla Slab,serif}.menu[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]{position:relative}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]{padding:15px;margin-top:10px;font-size:28px}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{justify-self:flex-start;font-size:.7em}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .floatingcart[_ngcontent-%COMP%]{background-color:#f44336;padding:7px;margin-top:-10px;border-radius:5px;display:flex;align-items:center;position:relative}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .floatingcart[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;border-radius:50%;width:20px;height:20px;text-align:center;font-size:.4em;right:40px;top:1px;background-color:#4caf50;z-index:110}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]{width:100%;height:100%;z-index:20;margin-top:10px;display:grid;grid-template-columns:auto auto;place-content:center;align-items:stretch;row-gap:20px;-moz-column-gap:15%;column-gap:15%}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;border-radius:5px;background-color:#fff;padding:5px;display:flex;align-items:center}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:5px}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:75%;margin-left:5px;margin-top:-5px}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:45vw;margin:0;font-size:.4em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;padding:1px 5px;border-radius:3px;background-color:#c8ecf1;font-size:.25em;color:#00c2df}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] ~ .tag[_ngcontent-%COMP%]{margin-left:5px}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:6px}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .veg[_ngcontent-%COMP%]{font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;justify-self:center;padding:1px 6px;display:inline-block;border-radius:3px;background-color:#f0d8f5;font-size:.25em;color:#9c27c0}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]{align-items:flex-end;margin-top:-5px;margin-left:10px;display:flex}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#5c77ff;margin:5px 0 0;font-weight:600;font-size:1em}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{font-size:12px;margin-bottom:-8px;margin-top:5px}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-top:-5px}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#5c77ff;font-weight:600;padding-left:4px;margin:10px 0 0;font-size:.7em}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .addtocart[_ngcontent-%COMP%]{display:flex;padding-left:7px;padding-right:10px;height:25px;margin-top:20px;border-radius:5px;background-color:#296fca;transition:all 1 ease-in}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .addtocart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin-top:2px;margin-left:-5px;font-size:.4em}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .addtocart[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff;margin-top:5px;font-size:13px}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item2[_ngcontent-%COMP%]{padding:5px;width:140px;height:220px;position:relative;display:flex;justify-content:center}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;width:80px;border-radius:50%;box-shadow:0 0 10px 5px rgba(0,0,0,.247);height:80px;z-index:100;top:0}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:10px;display:flex;z-index:10;height:150px;width:120px;position:absolute;background-color:#fff;align-items:center;border-radius:20px 20px 6px 6px;flex-direction:column;top:40px;box-shadow:0 0 10px rgba(0,0,0,.247)}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin:40px 10px 5px;font-size:14px;height:55px;text-align:center}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item2[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .rate[_ngcontent-%COMP%]{margin:5px;font-size:18px;font-weight:600;color:#000}.menu[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item2[_ngcontent-%COMP%]   .cart[_ngcontent-%COMP%]{position:absolute;bottom:0;border-radius:0 0 25px 25px;width:100%;height:100px;padding:3px;z-index:0;background-color:#0086df;display:flex;align-items:flex-end;justify-content:center;font-weight:700;color:#fff;font-size:14px;box-shadow:0 0 20px rgba(0,0,0,.247)}.search[_ngcontent-%COMP%]{display:flex;margin-left:10px;position:sticky;top:10px;border-radius:7px;margin-right:10px;align-items:center;height:50px;padding:10px;background-color:#05445e;z-index:30}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#fff;background-color:rgba(38,84,136,0);border-radius:10px;border-color:rgba(0,145,255,0);flex:1 1 auto;margin:auto auto auto 5px;outline:none}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#fff;background-color:rgba(38,84,136,0);border-radius:10px;border-color:rgba(0,145,255,0);flex:1 1 auto;margin:auto auto auto 5px;outline:none}.search[_ngcontent-%COMP%]   .search_text[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{color:#fff;background-color:rgba(38,84,136,0);border-radius:10px;border-color:rgba(0,145,255,0);flex:1 1 auto;margin:auto auto auto 5px;outline:none}.search[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;border-radius:5px;width:20%;height:100%;justify-content:center;align-items:center}.search[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .search_item[_ngcontent-%COMP%]{margin:auto;font-weight:600;color:#05445e}.shine[_ngcontent-%COMP%]{background:#f6f7f8;background-image:linear-gradient(90deg,#f6f7f8 0,#a1a3a7 20%,#f6f7f8 40%,#f6f7f8);background-repeat:no-repeat;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-name:placeholderShimmer;animation-name:placeholderShimmer;-webkit-animation-timing-function:linear;animation-timing-function:linear}@-webkit-keyframes placeholderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}@keyframes placeholderShimmer{0%{background-position:-468px 0}to{background-position:468px 0}}']}),t})();class KS{call(t,e){return e.subscribe(new GS(t))}}class GS extends Ei{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=Ii(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}var WS=n("KqfI");const QS=new Wt.a(WS.a);var YS=n("Lhse");function XS(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(Pi.a)(t,void 0).lift(new ZS(e))}class ZS{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new JS(t,this.resultSelector))}}class JS extends kt.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(fi.a)(t)?e.push(new eE(t)):e.push("function"==typeof t[YS.a]?new tE(t[YS.a]()):new nE(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class tE{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class eE{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[YS.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class nE extends Wi.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[YS.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(Wi.c)(this.observable,new Wi.a(this))}}function rE(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new iE(t,n))}}class iE{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new oE(t,this.observables,this.project))}}class oE extends Ei{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Ii(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4");const sE=["*"];function aE(t,e){if(1&t){const t=r.Vb();r.Ub(0,"li",6),r.fc("click",(function(){r.xc(t);const n=e.$implicit,i=r.jc();return i.focus(),i.select(n.id,i.NgbSlideEventSource.INDICATOR)})),r.Tb()}if(2&t){const t=e.$implicit,n=r.jc();r.Gb("active",t.id===n.activeId),r.Cb("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===n.activeId)}}function cE(t,e){}function uE(t,e){if(1&t&&(r.Ub(0,"div",7),r.Ub(1,"span",8),r.Yb(2,9),r.Tb(),r.Fc(3,cE,0,0,"ng-template",10),r.Tb()),2&t){const t=e.$implicit,n=e.index,i=e.count;r.oc("id","slide-"+t.id),r.Bb(2),r.bc(n+1)(i),r.Zb(2),r.Bb(1),r.oc("ngTemplateOutlet",t.tplRef)}}function lE(t,e){if(1&t){const t=r.Vb();r.Ub(0,"a",11),r.fc("click",(function(){return r.xc(t),r.jc().arrowLeft()})),r.Pb(1,"span",12),r.Ub(2,"span",8),r.Yb(3,13),r.Tb(),r.Tb()}}function hE(t,e){if(1&t){const t=r.Vb();r.Ub(0,"a",14),r.fc("click",(function(){return r.xc(t),r.jc().arrowRight()})),r.Pb(1,"span",15),r.Ub(2,"span",8),r.Yb(3,16),r.Tb(),r.Tb()}}const dE=["dialog"];function fE(t){return null!=t}function pE(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const mE={animation:!0,transitionTimerDelayMs:5};let gE=(()=>{class t{constructor(){this.animation=mE.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const yE=()=>{},{transitionTimerDelayMs:bE}=mE,vE=new Map,_E=(t,e,n,r)=>{let i=r.context||{};const o=vE.get(e);if(o)switch(r.runningTransition){case"continue":return Ut.a;case"stop":t.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),vE.delete(e)}const s=n(e,r.animation,i)||yE;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>s()),Object(Et.a)(void 0).pipe(function(t){return e=>new Wt.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new xt.a,c=new xt.a,u=a.pipe(function(...t){return e=>ve(e,Object(Et.a)(...t))}(!0));vE.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=tC(e,"transitionend").pipe(cC(u),Rt(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(fi.a)(t[0]))return t[0];t=t[0]}return Object(Pi.a)(t,void 0).lift(new KS)})(oC(l+bE).pipe(cC(u)),n,c).pipe(cC(u)).subscribe(()=>{vE.delete(e),t.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let wE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D]]}),t})(),OE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D]]}),t})(),CE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),xE=(()=>{class t{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.cc(gE))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(gE))},token:t,providedIn:"root"}),t})();var SE=function(t){return t.LEFT="left",t.RIGHT="right",t}({});const EE=({classList:t})=>t.contains("carousel-item-left")||t.contains("carousel-item-right"),TE=t=>{t.remove("carousel-item-left"),t.remove("carousel-item-right")},kE=t=>{TE(t),t.remove("carousel-item-prev"),t.remove("carousel-item-next")},IE=(t,e,{direction:n})=>{const{classList:r}=t;return e?(EE(t)?TE(r):(r.add("carousel-item-"+(n===SE.LEFT?"next":"prev")),pE(t),r.add("carousel-item-"+n)),()=>{kE(r),r.add("active")}):(TE(r),kE(r),void r.add("active"))},PE=(t,e,{direction:n})=>{const{classList:r}=t;return e?(EE(t)?TE(r):r.add("carousel-item-"+n),()=>{kE(r),r.remove("active")}):(TE(r),kE(r),void r.remove("active"))};let AE=0,ME=(()=>{class t{constructor(t){this.tplRef=t,this.id="ngb-slide-"+AE++,this.slid=new r.n}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.L))},t.\u0275dir=r.Jb({type:t,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),t})(),jE=(()=>{class t{constructor(t,e,n,i,o){this._platformId=e,this._ngZone=n,this._cd=i,this._container=o,this.NgbSlideEventSource=RE,this._destroy$=new xt.a,this._interval$=new Si(0),this._mouseHover$=new Si(!1),this._focused$=new Si(!1),this._pauseOnHover$=new Si(!1),this._pauseOnFocus$=new Si(!1),this._pause$=new Si(!1),this._wrap$=new Si(!1),this.slide=new r.n,this.slid=new r.n,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(RE.ARROW_LEFT)}arrowRight(){this.focus(),this.next(RE.ARROW_RIGHT)}ngAfterContentInit(){L(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Mi([this.slide.pipe(Object(Lt.a)(t=>t.current),we(this.activeId)),this._wrap$,this.slides.changes.pipe(we(null))]).pipe(Object(Lt.a)(([t,e])=>{const n=this.slides.toArray(),r=this._getSlideIdxById(t);return e?n.length>1:r<n.length-1}),sc());Mi([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe(Object(Lt.a)(([t,e,n,r,i,o,s])=>t||e&&n||r&&i||!s?0:o),sc(),Qi(t=>t>0?oC(t,t):QS),cC(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(RE.TIMER)))}),this.slides.changes.pipe(cC(this._destroy$)).subscribe(()=>{var t;null===(t=this._transitionIds)||void 0===t||t.forEach(t=>(t=>{var e;null===(e=vE.get(t))||void 0===e||e.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(Bt(1)).subscribe(()=>{for(const{id:t}of this.slides){const e=this._getSlideElement(t);t===this.activeId?e.classList.add("active"):e.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,e){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),e)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),SE.RIGHT,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),SE.LEFT,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,e,n){const r=this._transitionIds;if(r&&(r[0]!==t||r[1]!==this.activeId))return;let i=this._getSlideById(t);if(i&&i.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:i.id,direction:e,paused:this._pause$.value,source:n});const r={animation:this.animation,runningTransition:"stop",context:{direction:e}},o=[],s=this._getSlideById(this.activeId);if(s){const t=_E(this._ngZone,this._getSlideElement(s.id),PE,r);t.subscribe(()=>{s.slid.emit({isShown:!1,direction:e,source:n})}),o.push(t)}const a=this.activeId;this.activeId=i.id;const c=this._getSlideById(this.activeId),u=_E(this._ngZone,this._getSlideElement(i.id),IE,r);u.subscribe(()=>{null==c||c.slid.emit({isShown:!0,direction:e,source:n})}),o.push(u),XS(...o).pipe(Bt(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:a,current:i.id,direction:e,paused:this._pause$.value,source:n})})}this._cd.markForCheck()}_getSlideEventDirection(t,e){return this._getSlideIdxById(t)>this._getSlideIdxById(e)?SE.RIGHT:SE.LEFT}_getSlideById(t){return this.slides.find(e=>e.id===t)||null}_getSlideIdxById(t){const e=this._getSlideById(t);return null!=e?this.slides.toArray().indexOf(e):-1}_getNextSlide(t){const e=this.slides.toArray(),n=this._getSlideIdxById(t);return n===e.length-1?this.wrap?e[0].id:e[e.length-1].id:e[n+1].id}_getPrevSlide(t){const e=this.slides.toArray(),n=this._getSlideIdxById(t);return 0===n?this.wrap?e[e.length-1].id:e[0].id:e[n-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(xE),r.Ob(r.B),r.Ob(r.z),r.Ob(r.h),r.Ob(r.l))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngb-carousel"]],contentQueries:function(t,e,n){var i;1&t&&r.Hb(n,ME,!1),2&t&&r.vc(i=r.gc())&&(e.slides=i)},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,e){1&t&&r.fc("keydown.arrowLeft",(function(){return e.keyboard&&e.arrowLeft()}))("keydown.arrowRight",(function(){return e.keyboard&&e.arrowRight()}))("mouseenter",(function(){return e.mouseHover=!0}))("mouseleave",(function(){return e.mouseHover=!1}))("focusin",(function(){return e.focused=!0}))("focusout",(function(){return e.focused=!1})),2&t&&(r.Cb("aria-activedescendant",e.activeId),r.Cc("display","block"))},inputs:{animation:"animation",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators",activeId:"activeId"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){return[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"sr-only"],$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number␟a65b1b49aa7dd8c4f3004da6a8c2241814dae621␟783273603869937627: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],$localize`:@@ngb.carousel.previous␟680d5c75b7fd8d37961083608b9fcdc4167b4c43␟4452427314943113135:Previous`,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],$localize`:@@ngb.carousel.next␟f732c304c7433e5a83ffcd862c3dce709a0f4982␟3885497195825665706:Next`]},template:function(t,e){1&t&&(r.Ub(0,"ol",0),r.Fc(1,aE,1,5,"li",1),r.Tb(),r.Ub(2,"div",2),r.Fc(3,uE,4,4,"div",3),r.Tb(),r.Fc(4,lE,4,0,"a",4),r.Fc(5,hE,4,0,"a",5)),2&t&&(r.Gb("sr-only",!e.showNavigationIndicators),r.Bb(1),r.oc("ngForOf",e.slides),r.Bb(2),r.oc("ngForOf",e.slides),r.Bb(1),r.oc("ngIf",e.showNavigationArrows),r.Bb(1),r.oc("ngIf",e.showNavigationArrows))},directives:[P,M,N],encapsulation:2,changeDetection:0}),t})();var RE=function(t){return t.TIMER="timer",t.ARROW_LEFT="arrowLeft",t.ARROW_RIGHT="arrowRight",t.INDICATOR="indicator",t}({});let NE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D]]}),t})(),DE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})();var LE=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const FE=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function UE(t){const e=Array.from(t.querySelectorAll(FE)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}let BE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D,_i]]}),t})(),VE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),qE=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.cc(gE))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(gE))},token:t,providedIn:"root"}),t})();class zE{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const HE=()=>{};let $E=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):HE}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.cc(a))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(a))},token:t,providedIn:"root"}),t})(),KE=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Bt(1)).subscribe(()=>{_E(this._zone,this._el.nativeElement,(t,e)=>{e&&pE(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return _E(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(r.l),r.Ob(r.z))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Db("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Gb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class GE{close(t){}dismiss(t){}}class WE{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new xt.a,this._dismissed=new xt.a,this._hidden=new xt.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(cC(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(cC(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Et.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),XS(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var QE=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let YE=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new xt.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new xt.a,this.hidden=new xt.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=XS(_E(this._zone,t,()=>t.classList.remove("show"),e),_E(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};XS(_E(this._zone,this._elRef.nativeElement,(t,e)=>{e&&pE(t),t.classList.add("show")},t),_E(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{tC(t,"keydown").pipe(cC(this._closed$),Rt(t=>t.which===LE.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(QE.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;tC(this._dialogEl.nativeElement,"mousedown").pipe(cC(this._closed$),Object(Tt.a)(()=>e=!1),Qi(()=>tC(t,"mouseup").pipe(cC(this._closed$),Bt(1))),Rt(({target:e})=>t===e)).subscribe(()=>{e=!0}),tC(t,"click").pipe(cC(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(QE.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=UE(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&_E(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(a),r.Ob(r.l),r.Ob(r.z))},t.\u0275cmp=r.Ib({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&r.Bc(dE,!0),2&t&&r.vc(n=r.gc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Cb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Db("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Gb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:sE,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.nc(),r.Ub(0,"div",0,1),r.Ub(2,"div",2),r.mc(3),r.Tb(),r.Tb()),2&t&&r.Db("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{-ms-flex-direction:column;display:-ms-flexbox;display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),XE=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new xt.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=tC(e,"focusin").pipe(cC(n),Object(Lt.a)(t=>t.target));tC(e,"keydown").pipe(cC(n),Rt(t=>t.which===LE.Tab),rE(t)).subscribe(([t,n])=>{const[r,i]=UE(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&tC(e,"click").pipe(cC(n),rE(t),Object(Lt.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:fE(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const c=new GE,u=this._getContentRef(t,r.injector||e,n,c,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,u),d=new WE(h,u,l,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(a,a),c.close=t=>{d.close(t)},c.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(KE).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(YE).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{fE(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{fE(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.L?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new zE([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new zE([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new zE([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.r.create({providers:[{provide:GE,useValue:i}],parent:e}),c=s.create(a),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new zE([[u]],c.hostView,c)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.g),r.cc(r.r),r.cc(a),r.cc($E),r.cc(r.F),r.cc(r.z))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.g),Object(r.cc)(r.o),Object(r.cc)(a),Object(r.cc)($E),Object(r.cc)(r.F),Object(r.cc)(r.z))},token:t,providedIn:"root"}),t})(),ZE=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.cc(r.j),r.cc(r.r),r.cc(XE),r.cc(qE))},t.\u0275prov=Object(r.Kb)({factory:function(){return new t(Object(r.cc)(r.j),Object(r.cc)(r.o),Object(r.cc)(XE),Object(r.cc)(qE))},token:t,providedIn:"root"}),t})(),JE=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[ZE]}),t})(),tT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D]]}),t})(),eT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D]]}),t})(),nT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D]]}),t})(),rT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D]]}),t})(),iT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D]]}),t})(),oT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D]]}),t})(),sT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D]]}),t})(),aT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),cT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D]]}),t})();const uT=[wE,OE,CE,NE,DE,BE,VE,JE,tT,eT,nT,rT,iT,oT,sT,aT,cT];let lT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[uT,wE,OE,CE,NE,DE,BE,VE,JE,tT,eT,nT,rT,iT,oT,sT,aT,cT]}),t})();const hT=["notify"];function dT(t,e){1&t&&(r.Ub(0,"div",17),r.Pb(1,"img",18),r.Tb())}function fT(t,e){1&t&&(r.Ub(0,"div",17),r.Pb(1,"img",19),r.Tb())}const pT=function(t){return["./items",t]};function mT(t,e){if(1&t&&(r.Ub(0,"div",20),r.Pb(1,"img",21),r.Ub(2,"p",22),r.Hc(3),r.Tb(),r.Tb()),2&t){const t=e.$implicit;r.oc("routerLink",r.sc(3,pT,t.name)),r.Bb(1),r.oc("src",t.image,r.yc),r.Bb(2),r.Ic(t.name.toUpperCase())}}const gT=[{path:":hotel",component:(()=>{class t{constructor(t,e,n,r){this.router=t,this.route=e,this._bottomSheet=r,this.data=[],this.specials=[],this.menuItems={},this.categories=[],this.color="primary",this.checked=!1,this.disabled=!1,this.hotel_name="",this.blockColor={},this.randomColor=["#845EC2","#D65DB1","#FF6F91","#FF9671","#FFC75F","#2C73D2","#0089BA","#008E9B","#00C9A7","#4B4453"],this.db=n,this.hotel_name=e.snapshot.params.hotel,n.collection("hotels").doc(this.hotel_name).valueChanges().subscribe(t=>{this.categories=t.categoriesData})}cartupdate(){this.specials.forEach(t=>{const[e,n]=this.getId(t[Oi.id])})}half(t){const[e,n]=this.getId(t);Ci.allItems[n][e][Oi.isFull]=!Ci.allItems[n][e][Oi.isFull]}getId(t){var e=t.split("I")[0],n=Ci.allItems[e],r="";for(var i in n)n[i][Oi.id]==t&&(r=i);return[r,e]}addtocart(t){const[e,n]=this.getId(t);document.getElementById(t).getElementsByClassName("addtocart"),this.cart_notification.nativeElement.innerText=Ci.cartItems.length}cart(){var t=this._bottomSheet.open(xS);t.afterDismissed().subscribe(()=>{t.instance.isPlaceOrder&&this.router.navigate([this.hotel_name+"/placeorder"])})}itemInfo(t){this._bottomSheet.open(VS,{data:{id:t}}).afterDismissed().subscribe(()=>{this.specials.forEach(t=>{this.addtocart(t[Oi.id])})})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Na),r.Ob(gs),r.Ob(XO),r.Ob(Vx))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-menu"]],viewQuery:function(t,e){var n;1&t&&r.Lc(hT,!0),2&t&&r.vc(n=r.gc())&&(e.cart_notification=n.first)},decls:23,vars:2,consts:[["id","search",1,"search"],["aria-hidden","false","aria-label","Search"],["type","text","placeholder","Search ... ",1,"search_text"],["matRipple","",1,"card"],[1,"search_item"],["id","content"],[1,"body_olio"],["interval","2000",3,"showNavigationArrows"],["ngbSlide",""],[1,"horizantal_scrollmenu"],[1,"toolbar"],[1,"title"],[1,"spacer"],["matRipple","",1,"floatingcart",3,"click"],[1,"card",2,"margin-top","-10px","background-color","#3b3a3aa9"],[1,"scroll"],["class","cats",3,"routerLink",4,"ngFor","ngForOf"],[1,"picsum-img-wrapper"],["src","https://images.unsplash.com/photo-1571091718767-18b5b1457add?ixid=MXwxMjA3fDB8MHxzZWFyY2h8MXx8YnVyZ2Vyc3xlbnwwfHwwfA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60","alt","Angular Carousel 1",1,"carosuel_img"],["src","https://images.unsplash.com/photo-1513104890138-7c749659a591?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80","alt","Angular Carousel 2",1,"carosuel_img"],[1,"cats",3,"routerLink"],["alt","",3,"src"],[1,"cat"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"mat-icon",1),r.Hc(2,"add_shopping_cart"),r.Tb(),r.Pb(3,"input",2),r.Ub(4,"div",3),r.Ub(5,"p",4),r.Hc(6,"Go"),r.Tb(),r.Tb(),r.Tb(),r.Ub(7,"div",5),r.Ub(8,"div",6),r.Ub(9,"ngb-carousel",7),r.Fc(10,dT,2,0,"ng-template",8),r.Fc(11,fT,2,0,"ng-template",8),r.Tb(),r.Tb(),r.Ub(12,"div",9),r.Ub(13,"div",10),r.Ub(14,"h1",11),r.Hc(15,"Menu"),r.Tb(),r.Pb(16,"span",12),r.Ub(17,"div",13),r.fc("click",(function(){return e.cart()})),r.Ub(18,"mat-icon"),r.Hc(19,"add_shopping_cart"),r.Tb(),r.Tb(),r.Tb(),r.Pb(20,"div",14),r.Ub(21,"div",15),r.Fc(22,mT,4,5,"div",16),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Bb(9),r.oc("showNavigationArrows",!1),r.Bb(13),r.oc("ngForOf",e.categories))},directives:[vS,hi,jE,ME,P,Da],styles:["h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Palatino,URW Palladio L,serif}.horizantal_scrollmenu[_ngcontent-%COMP%]{padding:20px}.horizantal_scrollmenu[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:flex}.horizantal_scrollmenu[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{justify-self:flex-start}.horizantal_scrollmenu[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.horizantal_scrollmenu[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .veg[_ngcontent-%COMP%]{justify-self:flex-end;margin:5px}.horizantal_scrollmenu[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]{display:grid;place-items:center;grid-template-columns:auto auto}.horizantal_scrollmenu[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]{overflow:auto;width:90%;aspect-ratio:1/1.5;padding:10px 0;white-space:nowrap}.horizantal_scrollmenu[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border-radius:5px;aspect-ratio:1/1;-o-object-fit:cover;object-fit:cover}.horizantal_scrollmenu[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]   .cat[_ngcontent-%COMP%]{margin:10px 0}.horizantal_scrollmenu[_ngcontent-%COMP%]   .scroll[_ngcontent-%COMP%]   .cats[_ngcontent-%COMP%]   .cat[_ngcontent-%COMP%]:active{background-color:#5c77ff;color:#fff}.special[_ngcontent-%COMP%]{padding:15px;margin-top:10px;font-size:28px;position:relative}.special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{justify-self:flex-start;font-size:.7em}.special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .floatingcart[_ngcontent-%COMP%]{background-color:#f44336;padding:7px;margin-top:-10px;border-radius:5px;display:flex;align-items:center;position:relative}.special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .floatingcart[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;border-radius:50%;width:20px;height:20px;text-align:center;font-size:.4em;right:40px;top:1px;background-color:#4caf50;z-index:110}.special[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]{width:100%;height:100%;z-index:20;margin-top:10px;display:flex;flex-direction:column;align-items:stretch}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:5px;border-radius:5px;background-color:#fff;padding:5px;display:flex;align-items:center}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:5px}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:75%;margin-left:5px;margin-top:-5px}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:45vw;margin:0;font-size:.4em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%]{font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;padding:1px 5px;border-radius:3px;background-color:#c8ecf1;font-size:.25em;color:#00c2df}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .tag[_ngcontent-%COMP%] ~ .tag[_ngcontent-%COMP%]{margin-left:5px}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:6px}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .veg[_ngcontent-%COMP%]{font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;justify-self:center;padding:1px 6px;display:inline-block;border-radius:3px;background-color:#f0d8f5;font-size:.25em;color:#9c27c0}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]{align-items:flex-end;margin-top:-5px;margin-left:10px;display:flex}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#5c77ff;margin:5px 0 0;font-weight:600;font-size:1em}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .cont[_ngcontent-%COMP%]   .half[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{font-size:12px;margin-bottom:-8px;margin-top:5px}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-top:-5px}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#5c77ff;font-weight:600;padding-left:4px;margin:10px 0 0;font-size:.7em}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .addtocart[_ngcontent-%COMP%]{display:flex;padding-left:7px;padding-right:10px;height:25px;margin-top:20px;border-radius:5px;background-color:#296fca;transition:all 1 ease-in}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .addtocart[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin-top:2px;margin-left:-5px;font-size:.4em}.special[_ngcontent-%COMP%]   .menu_list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .item_content[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]   .addtocart[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff;margin-top:5px;font-size:13px}.search[_ngcontent-%COMP%]{display:flex;position:sticky;top:10px;margin:0 12px;border-radius:5px;align-items:center;height:50px;padding:10px;background-color:#05445e;z-index:30;transition:all 1s ease-in-out}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{background-color:rgba(38,84,136,0);border-radius:10px;border-color:rgba(0,145,255,0);color:#fff;flex:1 1 auto;margin:auto auto auto 5px;outline:none}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{background-color:rgba(38,84,136,0);border-radius:10px;border-color:rgba(0,145,255,0);color:#fff;flex:1 1 auto;margin:auto auto auto 5px;outline:none}.search[_ngcontent-%COMP%]   .search_text[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:rgba(38,84,136,0);border-radius:10px;border-color:rgba(0,145,255,0);color:#fff;flex:1 1 auto;margin:auto auto auto 5px;outline:none}.search[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;border-radius:5px;width:20%;height:100%;justify-content:center;align-items:center}.search[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .search_item[_ngcontent-%COMP%]{margin:auto;font-weight:600;color:#35567c}.search-fixed[_ngcontent-%COMP%]{border-radius:0;margin:0;padding:15px}.body_olio[_ngcontent-%COMP%]{padding:15px}.body_olio[_ngcontent-%COMP%]   .carosuel_img[_ngcontent-%COMP%]{width:100%;border-radius:5px;box-shadow:1px 1px rgba(70,67,67,.4235294117647059)}"]}),t})(),data:{animation:"Home"}},{path:":hotel/items/:menu",component:$S,data:{animation:"items"}},{path:":hotel/placeorder",component:Ax,data:{animation:"placeorder"}}];let yT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Wa.forRoot(gT)],Wa]}),t})();const bT=Ce("routeAnimations",[Ie("items => *",[Pe(":enter, :leave",Te({position:"fixed",width:"100%"}),{optional:!0}),Se([Pe(":enter",[Te({transform:"translateX(-100%)"}),xe("0.5s ease-in",Te({transform:"translateX(0%)"}))],{optional:!0}),Pe(":leave",[Te({transform:"translateX(0%)"}),xe("0.5s ease-out",Te({transform:"translateX(100%)"}))],{optional:!0})])]),Ie("Home => *",[Pe(":enter, :leave",Te({position:"fixed",width:"100%"}),{optional:!0}),Se([Pe(":enter",[Te({transform:"translateX(100%)"}),xe("0.5s ease-in",Te({transform:"translateX(0%)"}))],{optional:!0}),Pe(":leave",[Te({transform:"translateX(0%)"}),xe("0.5s ease-out",Te({transform:"translateX(-100%)"}))],{optional:!0})])]),Ie("placeorder => *",[Pe(":enter, :leave",Te({position:"fixed",width:"100%"}),{optional:!0}),Se([Pe(":enter",[Te({transform:"translateY(100%)"}),xe("0.5s ease-out",Te({transform:"translateY(0%)"}))],{optional:!0}),Pe(":leave",[Te({transform:"translateY(0%)"}),xe("0.5s ease-out",Te({transform:"translateY(-100%)"}))],{optional:!0})])])]);let vT=(()=>{class t{constructor(t,e){this.route=t,this.db=e,this.title="POS",window.location.pathname.split("/")}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(gs),r.Ob(XO))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-header"]],decls:22,vars:2,consts:[["id","header"],[1,"header_olio"],[1,"power"],[1,"header_2"],[1,"item"],["src","https://img.icons8.com/fluent/2x/security-configuration.png","alt",""],["src","https://img.icons8.com/fluent/2x/filled-like.png","alt",""],["src","https://img.icons8.com/fluent/48/000000/discount.png","alt",""]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"h1"),r.Hc(3),r.Tb(),r.Ub(4,"div",2),r.Ub(5,"p"),r.Hc(6,"Powered by"),r.Tb(),r.Ub(7,"h2"),r.Hc(8,"Olio"),r.Tb(),r.Tb(),r.Tb(),r.Ub(9,"div",3),r.Ub(10,"div",4),r.Pb(11,"img",5),r.Ub(12,"p"),r.Hc(13,"Safe Dining"),r.Tb(),r.Tb(),r.Ub(14,"div",4),r.Pb(15,"img",6),r.Ub(16,"p"),r.Hc(17,"Stories"),r.Tb(),r.Tb(),r.Ub(18,"div",4),r.Pb(19,"img",7),r.Ub(20,"p"),r.Hc(21,"Offers"),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Bb(2),r.oc("@openClose",void 0),r.Bb(1),r.Ic(e.title))},styles:["*[_ngcontent-%COMP%]{color:#000}.header_olio[_ngcontent-%COMP%]{background-color:#fff;padding:20px;margin-top:-10px;display:flex;align-items:flex-end;justify-content:space-between}.header_olio[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Georgia,serif;margin:0;align-self:flex-end}.header_olio[_ngcontent-%COMP%]   .power[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.header_olio[_ngcontent-%COMP%]   .power[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;margin-right:5px;margin-bottom:0}.header_olio[_ngcontent-%COMP%]   .power[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;font-weight:400;margin:5px 0 0;color:#344649}.header_2[_ngcontent-%COMP%]{background-color:#fff;padding:5px;margin-left:-5px;display:flex;justify-self:auto;margin-top:-20px}.header_2[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:10px;display:flex}.header_2[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;margin-left:8px}.header_2[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:3px;margin-left:5px}"],data:{animation:[Ce("openClose",[ke("true",Te({opacity:"1"})),ke("false",Te({opacity:"0"})),Ie("false <=> true",xe(1500))])]}}),t})(),_T=(()=>{class t{constructor(t,e){this._bottomSheet=t,this.firestore=e,this.title="Olio"}ngOnInit(){console.log("loaded"),setTimeout(()=>{document.getElementById("vex-splash-screen").style.display="none"},1e3)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(Vx),r.Ob(XO))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-root"]],decls:4,vars:1,consts:[["o","outlet"]],template:function(t,e){if(1&t&&(r.Pb(0,"app-header"),r.Ub(1,"div"),r.Pb(2,"router-outlet",null,0),r.Tb()),2&t){const t=r.wc(3);r.Bb(1),r.oc("@routeAnimations",t&&t.activatedRouteData&&t.activatedRouteData.animation)}},directives:[vT,Fa],styles:["*[_ngcontent-%COMP%]{background-color:#fff;color:#000}"],data:{animation:[bT]}}),t})(),wT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Ot]]}),t})(),OT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D,Zr,Zt],Zr]}),t})(),CT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[ri],imports:[[wT,OT],wT,OT]}),t})(),xT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Zr],Zr]}),t})(),ST=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)}}),t})(),ET=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[ST,di,Zr,Zt],ST,Zr]}),t})(),TT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[D]]}),t})(),kT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[me]]}),t})(),IT=(()=>{class t{constructor(){this.changes=new xt.a,this.optionalLabel="Optional"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const PT={provide:IT,deps:[[new r.A,new r.J,IT]],useFactory:function(t){return t||new IT}};let AT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[PT,ri],imports:[[Zr,D,OC,nx,kT,_S,di],Zr]}),t})(),MT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[Zr,di],Zr]}),t})(),jT=(()=>{class t{}return t.\u0275mod=r.Mb({type:t,bootstrap:[_T]}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},providers:[{provide:IS,useValue:"noop"}],imports:[[bt,yT,Kr,wi,nx,CT,Fx,lc.a.initializeApp(i),ZO,lT,xT,_S,ET,LS,TT,AT,di,zx,MT,_x]]}),t})();Object(r.U)(),mt().bootstrapModule(jT).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return c}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);